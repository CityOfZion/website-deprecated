{"version":3,"sources":["webpack:///webpack/bootstrap 42c271fefa729e9dc737","webpack:///./components/EventList/style.css","webpack:///../~/preact-router/dist/preact-router.es.js","webpack:///../~/react-scroll/modules/mixins/scroller.js","webpack:///../~/react-burger-menu/lib/menus/pushRotate.js","webpack:///../~/prop-types/index.js","webpack:///../~/react-burger-menu/lib/menus/bubble.js","webpack:///../~/react-burger-menu/lib/menus/reveal.js","webpack:///../~/react-scroll/modules/components/Button.js","webpack:///./components/Header/style.css","webpack:///../~/react-burger-menu/lib/snapsvgImporter.js","webpack:///./components/BlockGrid/index.js","webpack:///../~/prop-types/lib/ReactPropTypesSecret.js","webpack:///./components/ProjectList/style.css","webpack:///./components/PageMenu/style.css","webpack:///./components/Footer/index.js","webpack:///./routes/home/index.js","webpack:///./components/ContentWrapper/index.js","webpack:///../~/react-sticky/lib/Container.js","webpack:///../~/react-burger-menu/lib/menus/scaleDown.js","webpack:///./components/EventList/index.js","webpack:///../~/object-assign/index.js","webpack:///../~/react-scroll/modules/mixins/scroll-spy.js","webpack:///./components/ContentWrapper/style.css","webpack:///./index.js","webpack:///../~/preact/dist/preact.min.js","webpack:///../~/snapsvg-cjs/dist/snap.svg-cjs.js","webpack:///../~/react-scroll/modules/mixins/smooth.js","webpack:///../~/react-sticky/lib/Sticky.js","webpack:///../~/react-burger-menu/lib/BurgerMenu.js","webpack:///./components/ProjectList/index.js","webpack:///../~/react-scroll/modules/components/Link.js","webpack:///../~/react-sticky/lib/index.js","webpack:///./components/BlockGrid/style.css","webpack:///./components/GovernanceList/style.css","webpack:///../~/react-scroll/modules/components/Element.js","webpack:///../~/react-burger-menu/lib/baseStyles.js","webpack:///../~/react-scroll/modules/mixins/cancel-events.js","webpack:///./components/PageMenu/index.js","webpack:///../~/react-scroll/modules/mixins/scroll-hash.js","webpack:///../~/fbjs/lib/emptyFunction.js","webpack:///../~/react-burger-menu/lib/menus/scaleRotate.js","webpack:///./components/GovernanceList/index.js","webpack:///./routes/home/style.css","webpack:///./components/Header/index.js","webpack:///../~/react-burger-menu/lib/BurgerIcon.js","webpack:///./components/Resources/style.css","webpack:///../~/react-scroll/modules/mixins/scroll-events.js","webpack:///./components/Title/index.js","webpack:///../~/preact-compat/dist/preact-compat.es.js","webpack:///../~/react-scroll/modules/mixins/Helpers.js","webpack:///../~/react-burger-menu/lib/menus/slide.js","webpack:///./components/Logo/index.js","webpack:///./components/Resources/index.js","webpack:///../~/react-scroll/modules/mixins/animate-scroll.js","webpack:///../~/react-scroll/modules/index.js","webpack:///../~/react-scroll/modules/mixins/passive-event-listeners.js","webpack:///../~/react-burger-menu/lib/menus/push.js","webpack:///./components/Footer/style.css","webpack:///../~/react-burger-menu/lib/menus/elastic.js","webpack:///../~/raf/index.js","webpack:///../~/react-burger-menu/lib/menus/stack.js","webpack:///./components/app.js","webpack:///../~/react-burger-menu/lib/menus/fallDown.js","webpack:///./style/index.css","webpack:///../~/react-burger-menu/lib/CrossIcon.js","webpack:///../~/fbjs/lib/invariant.js","webpack:///../~/prop-types/factoryWithThrowingShims.js","webpack:///../~/performance-now/lib/performance-now.js","webpack:///../~/eve/eve.js","webpack:///../~/react-burger-menu/lib/menuFactory.js","webpack:///../~/react-scroll/modules/mixins/utils.js","webpack:///./components/Title/style.css"],"names":["EMPTY$1","assign","obj","props","i","exec","url","route","opts","reg","c","match","matches","ret","p","split","length","r","decodeURIComponent","slice","join","segmentize","replace","max","Math","i$1","charAt","param","flags","plus","indexOf","star","val","map","default","pathRankSort","a","b","aAttr","attributes","bAttr","diff","rank","path","strip","customHistory","ROUTERS","subscribers","EMPTY","isPreactElement","node","__preactattr_","Symbol","for","setUrl","type","history","getCurrentUrl","location","getCurrentLocation","pathname","search","canRoute","routeTo","didRoute","routeFromLink","getAttribute","href","target","handleLinkClick","e","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","ctrlKey","metaKey","altKey","shiftKey","t","String","nodeName","toUpperCase","hasAttribute","parentNode","eventListenersInitialized","initEventListeners","addEventListener","Router","Component$$1","call","state","__proto__","prototype","Object","create","constructor","shouldComponentUpdate","static","onChange","getMatchingChildren","children","_didRoute","setState","updating","forceUpdate","componentWillMount","push","componentDidMount","this$1","unlisten","listen","componentWillUnmount","splice","componentWillUpdate","componentDidUpdate","invoke","sort","vnode","attrs","newProps","cloneElement","filter","Boolean","render","ref","ref$1","active","current","previous","previousUrl","router","Link","h","onClick","Route","component","require","utils","animateScroll","events","__mapped","__activeLink","module","exports","unmount","register","name","element","unregister","get","document","getElementById","getElementsByName","setActiveLink","link","getActiveLink","scrollTo","to","console","warn","absolute","containerId","container","containerElement","nodeType","getScrollParent","registered","scrollOffset","offsetTop","style","getComputedStyle","isRelative","position","offset","smooth","window","scrollTop","animateTopScroll","defineProperty","value","_interopRequireDefault","__esModule","_menuFactory","_menuFactory2","styles","pageWrap","isOpen","width","right","MozTransform","MsTransform","OTransform","WebkitTransform","transform","transformOrigin","transformStyle","transition","outerContainer","perspective","overflow","REACT_ELEMENT_TYPE","isValidElement","object","$$typeof","throwOnDirectAccess","_snapsvgImporter","_snapsvgImporter2","svg","lib","pathInitial","pathOpen","animate","pos","steps","stepsTotal","mina","nextStep","easein","elastic","morphShape","height","left","menuWrap","menu","opacity","item","nthChild","closeButton","visibility","zIndex","overlay","burgerIcon","_createClass","defineProperties","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","React","Helpers","Button","_React$Component","getPrototypeOf","apply","arguments","createElement","Component","Scroll","Snap","undefined","BlockGrid","items","size","gridItems","itemThird","itemFourth","blockGrid","defaultProps","ReactPropTypesSecret","Footer","copyright","footer","Element","scrollSpy","Home","update","content","governanceList","eventList","projectList","resources","home","welcomeBox","subHeadingCOZ","headingCOZ","taglineWrapper","tagline","taglineContent","heroContent","subtitle","governanceSubtitle","socialList","ContentWrapper","narrow","isNarrow","contentWrapperNarrow","contentWrapper","_extends","source","hasOwnProperty","_react","_react2","_propTypes","_propTypes2","_raf","_raf2","Container","_PureComponent","_ref","_temp","_this","_ret","_len","args","Array","_key","concat","subscribe","handler","unsubscribe","notifySubscribers","evt","framePending","_this$node$getBoundin","getBoundingClientRect","top","bottom","forEach","distanceFromTop","distanceFromBottom","eventSource","body","getParent","getChildContext","_this2","event","_this3","removeEventListener","_this4","onScroll","onTouchStart","onTouchMove","onTouchEnd","PureComponent","childContextTypes","func","EventList","list","listItems","thumbnail","alt","src","heading","description","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","n","test3","letter","keys","err","from","symbols","s","_require","addPassiveEventListener","eventThrottler","eventHandler","eventHandlerTimeout","setTimeout","spyCallbacks","spySetState","scrollSpyContainers","mount","scrollSpyContainer","scrollHandler","isMounted","currentPositionY","supportPageOffset","pageXOffset","isCSS1Compat","compatMode","pageYOffset","documentElement","callbacks","addStateHandler","addSpyHandler","updateStates","stateHandler","spyHandler","o","l","E","W","pop","u","S","__d","A","debounceRendering","P","k","splitText","_componentConstructor","__n","toLowerCase","_","createElementNS","removeChild","cssText","V","test","innerHTML","__html","substring","f","__l","removeAttribute","removeAttributeNS","setAttributeNS","setAttribute","className","d","D","afterMount","H","R","ownerSVGElement","j","m","appendChild","_component","nodeValue","createTextNode","replaceChild","U","firstChild","nextSibling","v","dangerouslySetInnerHTML","g","childNodes","y","w","C","x","N","__k","trim","insertBefore","L","lastChild","previousSibling","I","T","__b","__x","__r","base","componentWillReceiveProps","context","__c","__p","syncComponentUpdates","__s","M","__u","unshift","afterUpdate","__h","beforeUnmount","Promise","resolve","then","bind","$","rerender","options","preact","eve","animations","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","Date","getTime","requestID","isArray","toString","idgen","idprefix","ID","B","res","ii","dif","bb","timer","now","sta","ds","dur","speed","spd","duration","stopit","id","pause","pdif","resume","frame","start","jj","end","easing","set","timeStamp","len","anim","linear","status","stop","time","getById","easeout","pow","easeinout","q","Q","sqrt","X","abs","Y","backin","backout","sin","PI","bounce","root","version","wrap","is","glob","doc","querySelector","Paper","win","has","Str","toFloat","parseFloat","toInt","parseInt","math","mmax","mmin","min","round","objectToString","ISURL","colourRegExp","bezierrg","separator","whitespace","commaSpaces","hsrg","hs","rg","pathCommand","tCommand","pathValues","el","xlink","xmlns","hub","URL","attr","text","createComment","getAttributeNS","getAttrs","out","namespaceURI","textContent","isFinite","format","tokenRegex","objNotationRegex","replacer","all","quote","quotedName","isFunc","str","clone","repush","array","cacher","scope","postprocessor","newf","arg","cache","count","shift","angle","x1","y1","x2","y2","x3","y3","atan2","rad","deg","x_y","x_y_w_h","tan","cos","asin","num","acos","atan","len2","closestPoint","distance2","dx","dy","pathNode","pathLength","getTotalLength","precision","pathSegList","numberOfItems","best","bestLength","bestDistance","Infinity","scan","scanLength","scanDistance","getPointAtLength","before","after","beforeLength","afterLength","beforeDistance","afterDistance","distance","snapTo","values","tolerance","rem","getRGB","colour","hex","error","rgbtoString","toHex","red","green","blue","rgb","hsb2rgb","hsl2rgb","hsb","hsl","toFixed","color","getElementsByTagName","defaultView","getPropertyValue","hsbtoString","hsltoString","prepareRGB","string","clr","packageRGB","rgb2hsl","rgb2hsb","G","parsePathString","pathString","pth","arr","paramCounts","z","data","params","parseTransformString","TString","svgTransform2string","tstr","rgTransform","transform2matrix","bbox","tdata","Matrix","tlen","command","inver","invert","translate","rotate","scale","add","_unit2px","unit2px","contains","compareDocumentPosition","adown","bup","getSomeDefs","select","pdefs","defs","make","getSomeSVG","mgr","fill","getW","getBBox","getH","nam","query","selectAll","nodelist","querySelectorAll","add2group","setInterval","snap","paper","tagName","anims","mask","pattern","symbol","method","json","firstDefined","att","parse","createDocumentFragment","full","div","Fragment","frag","fragment","parent","desc","proto","ownerDocument","dom","contentDocument","ch","jsonFiller","toJSON","on","nt","lastIndexOf","css","cssAttr","ajax","postData","req","XMLHttpRequest","pd","encodeURIComponent","open","setRequestHeader","once","onreadystatechange","readyState","send","load","responseText","getOffset","elem","box","docElem","clientTop","clientLeft","scrollLeft","getElementByPoint","canvas","elementFromPoint","opera","so","sr","createSVGRect","hits","getIntersectionList","plugin","elproto","isWithoutTransform","getClientRects","removed","localMatrix","original","pathfinder","deflt","bboxwt","realPath","matrix","propString","extractTransform","doReturn","papa","global","getCTM","local","ms","localString","toTransformString","globalMatrix","totalMatrix","diffMatrix","total","gradientTransform","patternTransform","append","it","appendTo","prepend","first","prependTo","insertAfter","remove","asPX","use","fixids","els","ids","uses","urltest","linktest","oldid","old","fs","cloneNode","toDefs","toPattern","patternUnits","viewBox","marker","refX","refY","cx","cy","markerWidth","markerHeight","orient","eldata","removeData","outerSVG","innerSVG","chld","toDataURL","btoa","contents","unescape","matrixproto","aNew","bNew","multLeft","cNew","eNew","me","skewX","skew","skewY","norm","normalize","mag","determinant","row","scalex","shear","scaley","isSimple","isSuperSimple","noRotation","shorter","reURLValue","deurl","clipIt","clip","fillStroke","grad","gradient","gradrg","parseGrad","tokens","stops","seed","step","toAbsolute","txt","baseVal","vb","rx","ry","tp","textPath","tuner","chunk","tuned","setFontSize","fontSize","getter","setter","textExtract","chi","internal","getFontSize","rgNotSpace","rgBadSpace","rgTrim","addClass","classes","curClasses","clazz","finalValue","removeClass","hasClass","toggleClass","flag","operators","reUnit","reAddon","getNumber","getUnit","unit","evnt","atr","aUnit","op","isNaN","bplus","rect","circle","preload","onerror","img","onload","image","preserveAspectRatio","offsetWidth","offsetHeight","ellipse","group","vbx","vby","vbw","vbh","ptrn","vx","vy","vw","vh","line","polyline","points","polygon","Gstops","GaddStop","inserted","stopOffset","GgetBBox","GsetStops","addStop","gradientLinear","gradientRadial","gradientUnits","setStops","fx","fy","clear","next","p2s","paths","ps","sleep","r1","r2","r0","rectPath","pathClone","pathArray","getPointAtSegmentLength","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","bezlen","findDotsAtSegment","getTotLen","getLengthFactory","istotal","subpath","O","onlystart","path2curve","sp","subpaths","point","getSubpathsAtLength","t1","t13","t12","t2","t3","mx","my","nx","ny","ax","ay","alpha","bezierBBox","curveDim","isPointInsideBBox","isBBoxIntersect","bbox1","bbox2","base3","p1","p2","p3","p4","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","ll","intersect","denominator","px","py","px2","py2","inter","bez1","bez2","interHelper","interCount","justCount","l1","l2","n1","n2","dots1","dots2","xy","di","di1","dj","dj1","ci","cj","pathIntersection","path1","path2","interPathHelper","pathIntersectionNumber","x1m","y1m","x2m","y2m","pi","pj","intr","kk","segment1","segment2","isPointInsidePath","pathBBox","dim","xmin","ymin","xmax","ymax","ellipsePath","getPath","pathToRelative","lowerCase","rel","pa","pathToAbsolute","pa0","crz","dots","catmullRom2bezier","l2c","q2c","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","_120","rx2","ry2","f1","f2","df","f2old","x2old","y2old","c1","s1","c2","s2","hx","hy","m1","m2","m3","m4","newres","findDotAtSegment","x0","y0","tvalues","bounds","b2ac","sqrtb2ac","jlen","mt","curve","bx","by","qx","qy","attrs2","processPath","pcom","fixArc","pp","pcoms1","pcoms2","fixM","a1","a2","pfirst","seg","seg2","seglen","seg2len","mapPath","pathi","crp","iLen","getSubpath","closest","inside","found","intersection","intersectionNumber","isPointInside","toRelative","toCubic","Set","bindings","setproto","thisArg","Animation","each","begin","cb","callbacker","aname","unbound","index","insertion","tail","todel","arglen","exclude","names","stroke","getEmpty","equaliseTransform","maxlength","tt1","tt2","path2array","getViewBox","getColour","Function","isNumeric","arrayEqual","arr1","arr2","equal","Number","bUnit","supportsTouch","touchMap","mousedown","mousemove","mouseup","getScroll","returnValue","preventTouch","originalEvent","cancelBubble","stopTouch","addEvent","fn","realName","scrollY","scrollX","targetTouches","olde","clientX","clientY","drag","dragMove","dragi","touches","touch","identifier","_drag","display","move_scope","dragUp","unmousemove","unmouseup","end_scope","start_scope","off","eventName","unbind","hover","f_in","f_out","scope_in","scope_out","mouseover","mouseout","unhover","unmouseover","unmouseout","draggable","onmove","onstart","onend","origTransform","init","undrag","unmousedown","pproto","rgurl","filstr","filterUnits","blur","def","shadow","grayscale","amount","sepia","saturate","hueRotate","amount2","brightness","contrast","firstLetter","getAlign","way","align","animation","inAnim","_attrs","_callback","curStatus","fkeys","tkeys","eq","pink","purple","deeppurple","indigo","lightblue","cyan","teal","lightgreen","lime","yellow","amber","orange","deeporange","brown","grey","bluegrey","mui","flat","saveColor","colors","A100","A200","A400","A700","turquoise","greensea","sunflower","emerland","nephritis","carrot","pumpkin","peterriver","belizehole","alizarin","pomegranate","amethyst","wisteria","clouds","silver","wetasphalt","midnightblue","concrete","asbestos","importMUIColors","defaultEasing","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","_reactDom","_reactDom2","Sticky","_Component","isSticky","wasSticky","handleContainerEvent","_ref2","preventingStickyStateChanges","relative","placeholder","placeholderClientRect","contentClientRect","calculatedHeight","bottomDifference","bottomOffset","topOffset","scrollHeight","offsetParent","disableHardwareAcceleration","paddingBottom","disableCompensation","findDOMNode","propTypes","number","bool","isRequired","contextTypes","slide","stack","bubble","pushRotate","scaleDown","scaleRotate","fallDown","reveal","ProjectList","StickyContainer","_Sticky","_Sticky2","_Container","_Container2","parentBindings","domNode","background","boxSizing","itemList","outline","removePassiveEventListener","cancelEvent","PageMenu","links","menuLinks","pageMenu","scrollHash","mountFlag","initialized","scroller","handleHashChange","initStateFromHash","isInitialized","hash","getHash","isInit","changeHash","pushHash","makeEmptyFunction","emptyFunction","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","thatReturnsArgument","GovernanceList","Secondary","secondary","itemWrapper","itemContent","Header","header","headerWrapperVisible","headerWrapper","logo","_get","_x","_x2","_x3","_again","_function","property","receiver","getOwnPropertyDescriptor","BurgerIcon","getLineStyle","icon","buttonStyle","margin","padding","border","cursor","customIcon","extraProps","bmIcon","bar","barClassName","bmBurgerBars","bmBurgerButton","onMouseOver","onMouseOut","Events","scrollEvent","evtName","Title","title","ELEMENTS","COMPONENT_WRAPPER_KEY","AUTOBIND_BLACKLIST","componentDidUnmount","CAMEL_PROPS","BYPASS_HOOK","DEV","process","env","EmptyComponent","VNode","preactCompatUpgraded","preactCompatNormalized","oldEventHook","persist","nativeEvent","oldVnodeHook","tag","extend","normalizeVNode","handleComponentVNode","defaultValue","handleElementVNode","shouldSanitize","render$1","prev","_preactCompatRendered","firstElementChild","ContextProvider","renderSubtreeIntoContainer","parentComponent","renderContainer","unmountComponentAtNode","existing","ARR","Children","ctx","toArray","only","Error","currentComponent","createFactory","DOM","upgradeToVNodes","isStatelessComponent","wrapStatelessComponent","WrappedComponent","createClass","displayName","statelessComponentHook","Ctor","Wrapped","applyClassName","createStringRefProxy","applyEventNormalization","cloneElement$1","elementProps","cloneArgs","_refProxies","resolved","refs","ondoubleclick","ondblclick","onchange","normalized","oninput","multihook","classNameDescriptor","class","arguments$1","shallowDiffers","F","cl","bindAll","Component$1","newComponentHook","mixins","applyMixins","collateMixins","statics","getDefaultProps","keyed","mixin","__bound","callMethod","hooks","skipDuplicates","propsHook","beforeRender","afterRender","ctor","PropTypes","checkPropTypes","getInitialState","isReactComponent","replaceState","getDOMNode","isPureReactComponent","unstable_renderSubtreeIntoContainer","__spread","ReactDOM","defaultScroller","protoTypes","activeClass","spy","oneOfType","delay","isDynamic","onSetActive","onSetInactive","ignoreCancelEvents","hashSpy","customScroller","_initialiseProps","getScrollSpyContainer","prop","handleClick","elemTopBound","elemBottomBound","containerTop","containerCords","cords","offsetY","isInside","floor","isOutside","activeLink","_React$Component2","childBindings","registerElems","nextProps","Logo","overrideClass","primaryColor","Resources","accent","wrapper","license","pullRequest","testNet","cancelEvents","getAnimationType","functionWrapper","currentWindowProperties","requestAnimationFrameHelper","__currentPositionY","__startPositionY","__targetPositionY","__progress","__duration","__cancel","__target","__containerElement","__to","__start","__deltaTop","__percent","__delayTimeout","scrollContainerHeight","clientHeight","html","timestamp","ceil","easedAnimate","setContainer","clearTimeout","proceedOptions","scrollToTop","toY","scrollToBottom","scrollMore","listener","supportsPassiveOption","passive","whiteSpace","vendors","suffix","raf","caf","last","queue","frameDuration","_now","cp","cancelled","handle","cancel","polyfill","cancelAnimationFrame","App","handleRoute","currentUrl","page","perspectiveOrigin","CrossIcon","getCrossStyle","buttonWrapperStyle","textIndent","bmCross","crossClassName","bmCrossButton","validateFormat","invariant","condition","argIndex","framesToPop","shim","propName","componentName","propFullName","secret","getShim","ReactPropTypes","any","arrayOf","instanceOf","objectOf","oneOf","shape","exact","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","performance","hr","uptime","comaseparator","wildcard","numsort","current_event","lastDefined","objtos","ar","oldstop","listeners","indexed","ce","_events","nes","es","sep","RegExp","exist","subname","cur","nts","inodes","funcs","prune","_x4","_baseStyles","_baseStyles2","_BurgerIcon","_BurgerIcon2","_CrossIcon","_CrossIcon2","Menu","toggleMenu","newState","applyWrapperStyles","onStateChange","timeoutId","bodyClassName","classList","pageWrapId","handleExternalWrapper","outerContainerId","wrapperStyles","builtStyles","getStyle","getStyles","inline","output","listenForClose","keyCode","shouldDisableOverlayClick","disableOverlayClick","onkeydown","noOverlay","overlayClassName","morphShapeClassName","menuClassName","itemListClassName","customCrossIcon","crossButtonClassName","customBurgerIcon","burgerButtonClassName","burgerBarClassName","includeHidden","excludeStaticParent","overflowRegex","parentElement","overflowY","overflowX","pushState","loc","filterElementInContainer"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 42c271fefa729e9dc737","// removed by extract-text-webpack-plugin\nmodule.exports = {\"eventList\":\"eventList__2-jsM\",\"thumbnail\":\"thumbnail__3zgFY\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/EventList/style.css\n// module id = +eBR\n// module chunks = 0","import { Component, cloneElement, h } from 'preact';\n\nvar EMPTY$1 = {};\n\nfunction assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (var i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nfunction exec(url, route, opts) {\n\tif ( opts === void 0 ) opts=EMPTY$1;\n\n\tvar reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tvar p = c[1].split('&');\n\t\tfor (var i=0; i<p.length; i++) {\n\t\t\tvar r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tvar max = Math.max(url.length, route.length);\n\tfor (var i$1=0; i$1<max; i$1++) {\n\t\tif (route[i$1] && route[i$1].charAt(0)===':') {\n\t\t\tvar param = route[i$1].replace(/(^\\:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i$1].match(/[+*?]+$/) || EMPTY$1)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i$1] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i$1).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i$1]!==url[i$1]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) { return false; }\n\treturn matches;\n}\n\nfunction pathRankSort(a, b) {\n\tvar aAttr = a.attributes || EMPTY$1,\n\t\tbAttr = b.attributes || EMPTY$1;\n\tif (aAttr.default) { return 1; }\n\tif (bAttr.default) { return -1; }\n\tvar diff = rank(aAttr.path) - rank(bAttr.path);\n\treturn diff || (aAttr.path.length - bAttr.path.length);\n}\n\nfunction segmentize(url) {\n\treturn strip(url).split('/');\n}\n\nfunction rank(url) {\n\treturn (strip(url).match(/\\/+/g) || '').length;\n}\n\nfunction strip(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '');\n}\n\nvar customHistory = null;\n\nvar ROUTERS = [];\n\nvar subscribers = [];\n\nvar EMPTY = {};\n\nfunction isPreactElement(node) {\n\treturn node.__preactattr_!=null || typeof Symbol!=='undefined' && node[Symbol.for('preactattr')]!=null;\n}\n\nfunction setUrl(url, type) {\n\tif ( type === void 0 ) type='push';\n\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tvar url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn (\"\" + (url.pathname || '') + (url.search || ''));\n}\n\n\n\nfunction route(url, replace) {\n\tif ( replace === void 0 ) replace=false;\n\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (var i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) { return true; }\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tvar didRoute = false;\n\tfor (var i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (var i$1=subscribers.length; i$1--; ) {\n\t\tsubscribers[i$1](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) { return; }\n\n\tvar href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) { return; }\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.button==0) {\n\t\trouteFromLink(e.currentTarget || e.target || this);\n\t\treturn prevent(e);\n\t}\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) { e.stopImmediatePropagation(); }\n\t\tif (e.stopPropagation) { e.stopPropagation(); }\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) { return; }\n\n\tvar t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href') && isPreactElement(t)) {\n\t\t\tif (t.hasAttribute('native')) { return; }\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nvar eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized){\n\t\treturn;\n\t}\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', function () { return routeTo(getCurrentUrl()); });\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nvar Router = (function (Component$$1) {\n\tfunction Router(props) {\n\t\tComponent$$1.call(this, props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tif ( Component$$1 ) Router.__proto__ = Component$$1;\n\tRouter.prototype = Object.create( Component$$1 && Component$$1.prototype );\n\tRouter.prototype.constructor = Router;\n\n\tRouter.prototype.shouldComponentUpdate = function shouldComponentUpdate (props) {\n\t\tif (props.static!==true) { return true; }\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t};\n\n\t/** Check if the given URL can be matched against any children */\n\tRouter.prototype.canRoute = function canRoute (url) {\n\t\treturn this.getMatchingChildren(this.props.children, url, false).length > 0;\n\t};\n\n\t/** Re-render children with a new URL to match against. */\n\tRouter.prototype.routeTo = function routeTo (url) {\n\t\tthis._didRoute = false;\n\t\tthis.setState({ url: url });\n\n\t\t// if we're in the middle of an update, don't synchronously re-route.\n\t\tif (this.updating) { return this.canRoute(url); }\n\n\t\tthis.forceUpdate();\n\t\treturn this._didRoute;\n\t};\n\n\tRouter.prototype.componentWillMount = function componentWillMount () {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidMount = function componentDidMount () {\n\t\tvar this$1 = this;\n\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen(function (location) {\n\t\t\t\tthis$1.routeTo((\"\" + (location.pathname || '') + (location.search || '')));\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.componentWillUnmount = function componentWillUnmount () {\n\t\tif (typeof this.unlisten==='function') { this.unlisten(); }\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t};\n\n\tRouter.prototype.componentWillUpdate = function componentWillUpdate () {\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidUpdate = function componentDidUpdate () {\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.getMatchingChildren = function getMatchingChildren (children, url, invoke) {\n\t\treturn children.slice().sort(pathRankSort).map( function (vnode) {\n\t\t\tvar attrs = vnode.attributes || {},\n\t\t\t\tpath = attrs.path,\n\t\t\t\tmatches = exec(url, path, attrs);\n\t\t\tif (matches) {\n\t\t\t\tif (invoke!==false) {\n\t\t\t\t\tvar newProps = { url: url, matches: matches };\n\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t}\n\t\t\t\treturn vnode;\n\t\t\t}\n\t\t\treturn false;\n\t\t}).filter(Boolean);\n\t};\n\n\tRouter.prototype.render = function render (ref, ref$1) {\n\t\tvar children = ref.children;\n\t\tvar onChange = ref.onChange;\n\t\tvar url = ref$1.url;\n\n\t\tvar active = this.getMatchingChildren(children, url, true);\n\n\t\tvar current = active[0] || null;\n\t\tthis._didRoute = !!current;\n\n\t\tvar previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl: url,\n\t\t\t\t\tprevious: previous,\n\t\t\t\t\tactive: active,\n\t\t\t\t\tcurrent: current\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t};\n\n\treturn Router;\n}(Component));\n\nvar Link = function (props) { return (\n\th('a', assign({ onClick: handleLinkClick }, props))\n); };\n\nvar Route = function (props) { return h(props.component, props); };\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link };export default Router;\n//# sourceMappingURL=preact-router.es.js.map\n\n\n\n// WEBPACK FOOTER //\n// ../~/preact-router/dist/preact-router.es.js","'use strict';\n\nvar assign = require('object-assign');\n\nvar utils = require('./utils');\nvar animateScroll = require('./animate-scroll');\nvar events = require('./scroll-events');\n\nvar __mapped = {};\nvar __activeLink = void 0;\n\nmodule.exports = {\n\n  unmount: function unmount() {\n    __mapped = {};\n  },\n\n  register: function register(name, element) {\n    __mapped[name] = element;\n  },\n\n  unregister: function unregister(name) {\n    delete __mapped[name];\n  },\n\n  get: function get(name) {\n    return __mapped[name] || document.getElementById(name) || document.getElementsByName(name)[0];\n  },\n\n  setActiveLink: function setActiveLink(link) {\n    return __activeLink = link;\n  },\n\n  getActiveLink: function getActiveLink() {\n    return __activeLink;\n  },\n\n  scrollTo: function scrollTo(to, props) {\n\n    var target = this.get(to);\n\n    if (!target) {\n      console.warn(\"target Element not found\");\n      return;\n    }\n\n    props = assign({}, props, { absolute: false });\n\n    var containerId = props.containerId;\n    var container = props.container;\n\n    var containerElement = void 0;\n    if (containerId) {\n      containerElement = document.getElementById(containerId);\n    } else if (container && container.nodeType) {\n      containerElement = container;\n    } else {\n      containerElement = utils.getScrollParent(target);\n    }\n\n    if (events.registered['begin']) {\n      events.registered['begin'](to, target);\n    }\n\n    props.absolute = true;\n\n    var scrollOffset = void 0;\n    if (containerElement === document) {\n      scrollOffset = target.offsetTop;\n    } else {\n      var style = getComputedStyle(containerElement);\n      var isRelative = style.position === \"relative\";\n      scrollOffset = isRelative ? target.offsetTop : target.offsetTop - containerElement.offsetTop;\n    }\n\n    scrollOffset += props.offset || 0;\n\n    /*\r\n     * if animate is not provided just scroll into the view\r\n     */\n    if (!props.smooth) {\n      if (containerElement === document) {\n        // window.scrollTo accepts only absolute values so body rectangle needs to be subtracted\n        window.scrollTo(0, scrollOffset);\n      } else {\n        containerElement.scrollTop = scrollOffset;\n      }\n\n      if (events.registered['end']) {\n        events.registered['end'](to, target);\n      }\n\n      return;\n    }\n\n    /*\r\n     * Animate scrolling\r\n     */\n\n    animateScroll.animateTopScroll(scrollOffset, props, to, target);\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/mixins/scroller.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0) rotateY(15deg)' : 'translate3d(' + width + ', 0, 0) rotateY(-15deg)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0) rotateY(15deg)' : 'translate3d(' + width + ', 0, 0) rotateY(-15deg)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0) rotateY(15deg)' : 'translate3d(' + width + ', 0, 0) rotateY(-15deg)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0) rotateY(15deg)' : 'translate3d(' + width + ', 0, 0) rotateY(-15deg)',\n      transform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0) rotateY(15deg)' : 'translate3d(' + width + ', 0, 0) rotateY(-15deg)',\n      transformOrigin: right ? '100% 50%' : '0% 50%',\n      transformStyle: 'preserve-3d',\n      transition: 'all 0.5s'\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      perspective: '1500px',\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menus/pushRotate.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n// WEBPACK FOOTER //\n// ../~/prop-types/index.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _snapsvgImporter = require('../snapsvgImporter');\n\nvar _snapsvgImporter2 = _interopRequireDefault(_snapsvgImporter);\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n\n  svg: {\n    lib: _snapsvgImporter2['default'],\n    pathInitial: 'M-7.312,0H0c0,0,0,113.839,0,400c0,264.506,0,400,0,400h-7.312V0z',\n    pathOpen: 'M-7.312,0H15c0,0,66,113.339,66,399.5C81,664.006,15,800,15,800H-7.312V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z',\n    animate: function animate(path) {\n      var pos = 0;\n      var steps = this.pathOpen.split(';');\n      var stepsTotal = steps.length;\n      var mina = window.mina;\n\n      var nextStep = function nextStep() {\n        if (pos > stepsTotal - 1) return;\n\n        path.animate({ path: steps[pos] }, pos === 0 ? 400 : 500, pos === 0 ? mina.easein : mina.elastic, function () {\n          nextStep();\n        });\n\n        pos++;\n      };\n\n      nextStep();\n    }\n  },\n\n  morphShape: function morphShape(isOpen, width, right) {\n    return {\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      right: right ? 'inherit' : 0,\n      left: right ? 0 : 'inherit',\n      MozTransform: right ? 'rotateY(180deg)' : 'rotateY(0deg)',\n      MsTransform: right ? 'rotateY(180deg)' : 'rotateY(0deg)',\n      OTransform: right ? 'rotateY(180deg)' : 'rotateY(0deg)',\n      WebkitTransform: right ? 'rotateY(180deg)' : 'rotateY(0deg)',\n      transform: right ? 'rotateY(180deg)' : 'rotateY(0deg)'\n    };\n  },\n\n  menuWrap: function menuWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      MsTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      OTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      WebkitTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transition: isOpen ? 'transform 0.4s 0s' : 'transform 0.4s'\n    };\n  },\n\n  menu: function menu(isOpen, width, right) {\n    width -= 140;\n    return {\n      position: 'fixed',\n      MozTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      transition: isOpen ? 'opacity 0.1s 0.4s cubic-bezier(.17, .67, .1, 1.27), transform 0.1s 0.4s cubic-bezier(.17, .67, .1, 1.27)' : 'opacity 0s 0.3s cubic-bezier(.17, .67, .1, 1.27), transform 0s 0.3s cubic-bezier(.17, .67, .1, 1.27)',\n      opacity: isOpen ? 1 : 0\n    };\n  },\n\n  item: function item(isOpen, width, right, nthChild) {\n    width -= 140;\n    return {\n      MozTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      MsTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      OTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      transform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      transition: isOpen ? 'opacity 0.3s 0.4s, transform 0.3s 0.4s' : 'opacity 0s 0.3s cubic-bezier(.17, .67, .1, 1.27), transform 0s 0.3s cubic-bezier(.17, .67, .1, 1.27)',\n      opacity: isOpen ? 1 : 0\n    };\n  },\n\n  closeButton: function closeButton(isOpen, width, right) {\n    width -= 140;\n    return {\n      MozTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      MsTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      OTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      transform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      transition: isOpen ? 'opacity 0.3s 0.4s cubic-bezier(.17, .67, .1, 1.27), transform 0.3s 0.4s cubic-bezier(.17, .67, .1, 1.27)' : 'opacity 0s 0.3s cubic-bezier(.17, .67, .1, 1.27), transform 0s 0.3s cubic-bezier(.17, .67, .1, 1.27)',\n      opacity: isOpen ? 1 : 0\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menus/bubble.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n\n  menuWrap: function menuWrap(isOpen, width, right) {\n    return {\n      visibility: isOpen ? 'visible' : 'hidden',\n      MozTransform: 'translate3d(0, 0, 0)',\n      MsTransform: 'translate3d(0, 0, 0)',\n      OTransform: 'translate3d(0, 0, 0)',\n      WebkitTransform: 'translate3d(0, 0, 0)',\n      transform: 'translate3d(0, 0, 0)',\n      zIndex: 1\n    };\n  },\n\n  overlay: function overlay(isOpen, width, right) {\n    return {\n      zIndex: 4,\n      MozTransform: isOpen ? right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      MsTransform: isOpen ? right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      OTransform: isOpen ? right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      WebkitTransform: isOpen ? right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      transform: isOpen ? right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      transition: 'all 0.5s',\n      visibility: isOpen ? 'visible' : 'hidden'\n    };\n  },\n\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transition: 'all 0.5s',\n      zIndex: 2,\n      position: 'relative'\n    };\n  },\n\n  burgerIcon: function burgerIcon(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      MsTransform: isOpen ? right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      OTransform: isOpen ? right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      WebkitTransform: isOpen ? right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      transform: isOpen ? right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)' : 'translate3d(0, 0, 0)',\n      transition: 'all 0.1s',\n      position: 'relative',\n      zIndex: 3\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menus/reveal.js","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar Helpers = require('../mixins/Helpers');\n\nvar Button = function (_React$Component) {\n  _inherits(Button, _React$Component);\n\n  function Button() {\n    _classCallCheck(this, Button);\n\n    return _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n  }\n\n  _createClass(Button, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(\n        'input',\n        this.props,\n        this.props.children\n      );\n    }\n  }]);\n\n  return Button;\n}(React.Component);\n\n;\n\nmodule.exports = Helpers.Scroll(Button);\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/components/Button.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"header__2uitE\",\"logo\":\"logo__2wWKE\",\"headerWrapper\":\"headerWrapper__2Vvq9\",\"headerWrapperVisible\":\"headerWrapperVisible__W4RVY\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Header/style.css\n// module id = A8Bg\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nexports['default'] = function () {\n  var Snap = undefined;\n  try {\n    Snap = require('snapsvg-cjs');\n  } finally {\n    return Snap;\n  }\n};\n\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/snapsvgImporter.js","import PropTypes from 'prop-types';\n\nimport style from './style.css';\n\nconst BlockGrid = (props) => {\n  const {\n    items,\n    size,\n  } = props;\n\n  const gridItems = items.map(item =>\n    (\n      <div className={(size === 3) ? style.itemThird : style.itemFourth}>\n        { item }\n      </div>));\n\n  return (\n    <div className={style.blockGrid}>\n      { gridItems }\n    </div>\n  );\n};\n\nBlockGrid.defaultProps = {\n  items: [],\n  size: 3,\n};\n\nBlockGrid.propTypes = {\n  items: PropTypes.array,\n  size: PropTypes.number,\n};\n\nexport default BlockGrid;\n\n\n\n// WEBPACK FOOTER //\n// ./components/BlockGrid/index.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n// WEBPACK FOOTER //\n// ../~/prop-types/lib/ReactPropTypesSecret.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"projectList\":\"projectList__8xJMc\",\"thumbnail\":\"thumbnail__3mBNf\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/ProjectList/style.css\n// module id = BTYs\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"pageMenu\":\"pageMenu__1NJws\",\"active\":\"active__2vGcO\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/PageMenu/style.css\n// module id = BZia\n// module chunks = 0","import PropTypes from 'prop-types';\n\nimport style from './style.css';\n\nconst Footer = (props) => {\n  const {\n    copyright,\n  } = props;\n\n  return (\n    <footer className={style.footer}>{ copyright }</footer>\n  );\n};\n\nFooter.propTypes = {\n  copyright: PropTypes.string.isRequired,\n};\n\nexport default Footer;\n\n\n\n// WEBPACK FOOTER //\n// ./components/Footer/index.js","import { Component } from 'preact';\nimport PropTypes from 'prop-types';\nimport Scroll from 'react-scroll';\n\nimport ContentWrapper from '../../components/ContentWrapper';\nimport GovernanceList from '../../components/GovernanceList';\nimport EventList from '../../components/EventList';\nimport ProjectList from '../../components/ProjectList';\nimport Resources from '../../components/Resources';\nimport Title from '../../components/Title';\n\nimport style from './style.css';\n\nconst { Element, scrollSpy } = Scroll;\n\nexport default class Home extends Component {\n  componentDidMount() {\n    scrollSpy.update();\n  }\n\n  render() {\n    const {\n      governanceList,\n      eventList,\n      projectList,\n      resources,\n    } = this.props.content;\n\n    return (\n      <div className={style.home}>\n        <section>\n          <Element name=\"welcome\" class={style.welcomeBox}>\n            <ContentWrapper narrow>\n              <h1 className={style.subHeadingCOZ}>Welcome, we are</h1>\n              <h1 className={style.headingCOZ}>City of Zion</h1>\n\n              <div className={style.taglineWrapper}>\n                <div className={style.tagline}>\n                  <div className={style.taglineContent}>\n                      Home of the Open-source Global NEO Developer Community\n                  </div>\n                </div>\n              </div>\n\n              <p className={style.heroContent}>We are an independent group of open source developers, designers and translators formed to support the NEO BlockChain core and ecosystem.</p>\n            </ContentWrapper>\n          </Element>\n        </section>\n\n        <section>\n          <Element name=\"events\">\n            <ContentWrapper narrow>\n              <Title>Events</Title>\n              <p className={style.subtitle}>Events and competitions run for the community by the City of Zion.</p>\n\n              <EventList list={eventList} />\n            </ContentWrapper>\n          </Element>\n        </section>\n\n        <section>\n          <Element name=\"projects\">\n            <ContentWrapper narrow>\n              <Title>Projects</Title>\n              <p className={style.subtitle}>Exemplary projects created through collaborative or individual efforts from the City of Zion.</p>\n\n              <ProjectList list={projectList} />\n            </ContentWrapper>\n          </Element>\n        </section>\n\n        <section>\n          <Element name=\"governance\">\n            <ContentWrapper narrow>\n              <Title>Governance</Title>\n              <p className={style.subtitle}>The community is free to choose its own targets and objectives. That said, our goal is to improve NEO, so we will align with the NEO team&apos;s needs and avoid retreading old ground as much as possible, unless it is possible to attain a substantially higher level of quality.</p>\n\n              <GovernanceList list={governanceList} />\n\n              <p className={style.governanceSubtitle}>Our most up to date governance can be found <a href=\"https://github.com/CityOfZion/governance\">here</a></p>\n            </ContentWrapper>\n          </Element>\n        </section>\n\n        <section>\n          <Element name=\"resources\">\n            <ContentWrapper>\n              <Resources socialList={resources.socialList} />\n            </ContentWrapper>\n          </Element>\n        </section>\n      </div>\n    );\n  }\n}\n\nHome.propTypes = {\n  content: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./routes/home/index.js","import PropTypes from 'prop-types';\n\nimport style from './style.css';\n\nconst ContentWrapper = (props) => {\n  const {\n    children,\n    narrow,\n  } = props;\n\n  const isNarrow = () => narrow;\n\n  return (\n    <div className={isNarrow() ? style.contentWrapperNarrow : style.contentWrapper}>\n      { children }\n    </div>\n  );\n};\n\nContentWrapper.defaultProps = {\n  narrow: false,\n};\n\nContentWrapper.propTypes = {\n  children: PropTypes.node.isRequired,\n  narrow: PropTypes.bool,\n};\n\nexport default ContentWrapper;\n\n\n\n// WEBPACK FOOTER //\n// ./components/ContentWrapper/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = function (_PureComponent) {\n  _inherits(Container, _PureComponent);\n\n  function Container() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Container);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Container.__proto__ || Object.getPrototypeOf(Container)).call.apply(_ref, [this].concat(args))), _this), _this.events = ['resize', 'scroll', 'touchstart', 'touchmove', 'touchend', 'pageshow', 'load'], _this.subscribers = [], _this.subscribe = function (handler) {\n      _this.subscribers = _this.subscribers.concat(handler);\n    }, _this.unsubscribe = function (handler) {\n      _this.subscribers = _this.subscribers.filter(function (current) {\n        return current !== handler;\n      });\n    }, _this.notifySubscribers = function (evt) {\n      if (!_this.framePending) {\n        var currentTarget = evt.currentTarget;\n\n\n        (0, _raf2.default)(function () {\n          _this.framePending = false;\n\n          var _this$node$getBoundin = _this.node.getBoundingClientRect(),\n              top = _this$node$getBoundin.top,\n              bottom = _this$node$getBoundin.bottom;\n\n          _this.subscribers.forEach(function (handler) {\n            return handler({\n              distanceFromTop: top,\n              distanceFromBottom: bottom,\n              eventSource: currentTarget === window ? document.body : _this.node\n            });\n          });\n        });\n        _this.framePending = true;\n      }\n    }, _this.getParent = function () {\n      return _this.node;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Container, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        subscribe: this.subscribe,\n        unsubscribe: this.unsubscribe,\n        getParent: this.getParent\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return window.addEventListener(event, _this2.notifySubscribers);\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var _this3 = this;\n\n      this.events.forEach(function (event) {\n        return window.removeEventListener(event, _this3.notifySubscribers);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      return _react2.default.createElement('div', _extends({}, this.props, {\n        ref: function ref(node) {\n          return _this4.node = node;\n        },\n        onScroll: this.notifySubscribers,\n        onTouchStart: this.notifySubscribers,\n        onTouchMove: this.notifySubscribers,\n        onTouchEnd: this.notifySubscribers\n      }));\n    }\n  }]);\n\n  return Container;\n}(_react.PureComponent);\n\nContainer.childContextTypes = {\n  subscribe: _propTypes2.default.func,\n  unsubscribe: _propTypes2.default.func,\n  getParent: _propTypes2.default.func\n};\nexports.default = Container;\n\n\n// WEBPACK FOOTER //\n// ../~/react-sticky/lib/Container.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n\n  pageWrap: function pageWrap(isOpen, width) {\n    return {\n      MozTransform: isOpen ? '' : 'translate3d(0, 0, -' + width + ')',\n      MsTransform: isOpen ? '' : 'translate3d(0, 0, -' + width + ')',\n      OTransform: isOpen ? '' : 'translate3d(0, 0, -' + width + ')',\n      WebkitTransform: isOpen ? '' : 'translate3d(0, 0, -' + width + ')',\n      transform: isOpen ? '' : 'translate3d(0, 0, -' + width + ')',\n      transformOrigin: '100%',\n      transformStyle: 'preserve-3d',\n      transition: 'all 0.5s'\n    };\n  },\n\n  outerContainer: function outerContainer() {\n    return {\n      perspective: '1500px'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menus/scaleDown.js","import PropTypes from 'prop-types';\n\nimport BlockGrid from '../BlockGrid';\n\nimport style from './style.css';\n\nconst EventList = (props) => {\n  const { list } = props;\n\n  const listItems = list.map(item =>\n    (\n      <div className={style.eventList}>\n        <a href={item.target}>\n          <img\n            alt={item.thumbnail.alt}\n            className={style.thumbnail}\n            src={item.thumbnail.src}\n          />\n        </a>\n\n        <h2>{ item.heading }</h2>\n        <p>{ item.description }</p>\n\n        <a href={item.target}>\n          { item.link }\n        </a>\n      </div>));\n\n  return (\n    <BlockGrid items={listItems} />\n  );\n};\n\nEventList.defaultProps = {\n  list: [],\n};\n\nEventList.propTypes = {\n  list: PropTypes.array,\n};\n\nexport default EventList;\n\n\n\n// WEBPACK FOOTER //\n// ./components/EventList/index.js","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../~/object-assign/index.js","'use strict';\n\nvar _require = require('./passive-event-listeners'),\n    addPassiveEventListener = _require.addPassiveEventListener;\n\nvar eventThrottler = function eventThrottler(eventHandler) {\n  var eventHandlerTimeout = void 0;\n  return function (event) {\n    // ignore events as long as an eventHandler execution is in the queue\n    if (!eventHandlerTimeout) {\n      eventHandlerTimeout = setTimeout(function () {\n        eventHandlerTimeout = null;\n        eventHandler(event);\n        // The eventHandler will execute at a rate of 15fps\n      }, 66);\n    }\n  };\n};\n\nvar scrollSpy = {\n\n  spyCallbacks: [],\n  spySetState: [],\n  scrollSpyContainers: [],\n\n  mount: function mount(scrollSpyContainer) {\n    if (scrollSpyContainer) {\n      var eventHandler = eventThrottler(function (event) {\n        scrollSpy.scrollHandler(scrollSpyContainer);\n      });\n      scrollSpy.scrollSpyContainers.push(scrollSpyContainer);\n      addPassiveEventListener(scrollSpyContainer, 'scroll', eventHandler);\n    }\n  },\n  isMounted: function isMounted(scrollSpyContainer) {\n    return scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer) !== -1;\n  },\n  currentPositionY: function currentPositionY(scrollSpyContainer) {\n    if (scrollSpyContainer === document) {\n      var supportPageOffset = window.pageXOffset !== undefined;\n      var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n      return supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n    } else {\n      return scrollSpyContainer.scrollTop;\n    }\n  },\n  scrollHandler: function scrollHandler(scrollSpyContainer) {\n    var callbacks = scrollSpy.scrollSpyContainers[scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)].spyCallbacks || [];\n    callbacks.forEach(function (c) {\n      return c(scrollSpy.currentPositionY(scrollSpyContainer));\n    });\n  },\n  addStateHandler: function addStateHandler(handler) {\n    scrollSpy.spySetState.push(handler);\n  },\n  addSpyHandler: function addSpyHandler(handler, scrollSpyContainer) {\n    var container = scrollSpy.scrollSpyContainers[scrollSpy.scrollSpyContainers.indexOf(scrollSpyContainer)];\n\n    if (!container.spyCallbacks) {\n      container.spyCallbacks = [];\n    }\n\n    container.spyCallbacks.push(handler);\n  },\n  updateStates: function updateStates() {\n    scrollSpy.spySetState.forEach(function (s) {\n      return s();\n    });\n  },\n  unmount: function unmount(stateHandler, spyHandler) {\n    scrollSpy.scrollSpyContainers.forEach(function (c) {\n      return c.spyCallbacks && c.spyCallbacks.length && c.spyCallbacks.splice(c.spyCallbacks.indexOf(spyHandler), 1);\n    });\n\n    if (scrollSpy.spySetState && scrollSpy.spySetState.length) {\n      scrollSpy.spySetState.splice(scrollSpy.spySetState.indexOf(stateHandler), 1);\n    }\n\n    document.removeEventListener('scroll', scrollSpy.scrollHandler);\n  },\n\n\n  update: function update() {\n    return scrollSpy.scrollSpyContainers.forEach(function (c) {\n      return scrollSpy.scrollHandler(c);\n    });\n  }\n};\n\nmodule.exports = scrollSpy;\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/mixins/scroll-spy.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"contentWrapper\":\"contentWrapper__18s8x\",\"contentWrapperNarrow\":\"contentWrapperNarrow__ELJK_\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/ContentWrapper/style.css\n// module id = JgYe\n// module chunks = 0","import './style/index.css';\nimport App from './components/app';\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","!function(){\"use strict\";function e(){}function t(t,n){var o,r,i,l,a=E;for(l=arguments.length;l-- >2;)W.push(arguments[l]);n&&null!=n.children&&(W.length||W.push(n.children),delete n.children);while(W.length)if((r=W.pop())&&void 0!==r.pop)for(l=r.length;l--;)W.push(r[l]);else\"boolean\"==typeof r&&(r=null),(i=\"function\"!=typeof t)&&(null==r?r=\"\":\"number\"==typeof r?r+=\"\":\"string\"!=typeof r&&(i=!1)),i&&o?a[a.length-1]+=r:a===E?a=[r]:a.push(r),o=i;var u=new e;return u.nodeName=t,u.children=a,u.attributes=null==n?void 0:n,u.key=null==n?void 0:n.key,void 0!==S.vnode&&S.vnode(u),u}function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e,o){return t(e.nodeName,n(n({},e.attributes),o),arguments.length>2?[].slice.call(arguments,2):e.children)}function r(e){!e.__d&&(e.__d=!0)&&1==A.push(e)&&(S.debounceRendering||P)(i)}function i(){var e,t=A;A=[];while(e=t.pop())e.__d&&k(e)}function l(e,t,n){return\"string\"==typeof t||\"number\"==typeof t?void 0!==e.splitText:\"string\"==typeof t.nodeName?!e._componentConstructor&&a(e,t.nodeName):n||e._componentConstructor===t.nodeName}function a(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function u(e){var t=n({},e.attributes);t.children=e.children;var o=e.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===t[r]&&(t[r]=o[r]);return t}function _(e,t){var n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",e):document.createElement(e);return n.__n=e,n}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function c(e,t,n,o,r){if(\"className\"===t&&(t=\"class\"),\"key\"===t);else if(\"ref\"===t)n&&n(null),o&&o(e);else if(\"class\"!==t||r)if(\"style\"===t){if(o&&\"string\"!=typeof o&&\"string\"!=typeof n||(e.style.cssText=o||\"\"),o&&\"object\"==typeof o){if(\"string\"!=typeof n)for(var i in n)i in o||(e.style[i]=\"\");for(var i in o)e.style[i]=\"number\"==typeof o[i]&&!1===V.test(i)?o[i]+\"px\":o[i]}}else if(\"dangerouslySetInnerHTML\"===t)o&&(e.innerHTML=o.__html||\"\");else if(\"o\"==t[0]&&\"n\"==t[1]){var l=t!==(t=t.replace(/Capture$/,\"\"));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,f,l):e.removeEventListener(t,f,l),(e.__l||(e.__l={}))[t]=o}else if(\"list\"!==t&&\"type\"!==t&&!r&&t in e)s(e,t,null==o?\"\":o),null!=o&&!1!==o||e.removeAttribute(t);else{var a=r&&t!==(t=t.replace(/^xlink\\:?/,\"\"));null==o||!1===o?a?e.removeAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase()):e.removeAttribute(t):\"function\"!=typeof o&&(a?e.setAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||\"\"}function s(e,t,n){try{e[t]=n}catch(e){}}function f(e){return this.__l[e.type](S.event&&S.event(e)||e)}function d(){var e;while(e=D.pop())S.afterMount&&S.afterMount(e),e.componentDidMount&&e.componentDidMount()}function h(e,t,n,o,r,i){H++||(R=null!=r&&void 0!==r.ownerSVGElement,j=null!=e&&!(\"__preactattr_\"in e));var l=m(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--H||(j=!1,i||d()),l}function m(e,t,n,o,r){var i=e,l=R;if(null!=t&&\"boolean\"!=typeof t||(t=\"\"),\"string\"==typeof t||\"number\"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if(\"function\"==typeof u)return U(e,t,n,o);if(R=\"svg\"===u||\"foreignObject\"!==u&&R,u+=\"\",(!e||!a(e,u))&&(i=_(u,R),e)){while(e.firstChild)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0)}var p=i.firstChild,c=i.__preactattr_,s=t.children;if(null==c){c=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)c[f[d].name]=f[d].value}return!j&&s&&1===s.length&&\"string\"==typeof s[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=s[0]&&(p.nodeValue=s[0]):(s&&s.length||null!=p)&&v(i,s,n,o,j||null!=c.dangerouslySetInnerHTML),g(i,t.attributes,c),R=l,i}function v(e,t,n,o,r){var i,a,u,_,c,s=e.childNodes,f=[],d={},h=0,v=0,y=s.length,g=0,w=t?t.length:0;if(0!==y)for(var C=0;C<y;C++){var x=s[C],N=x.__preactattr_,k=w&&N?x._component?x._component.__k:N.key:null;null!=k?(h++,d[k]=x):(N||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(f[g++]=x)}if(0!==w)for(var C=0;C<w;C++){_=t[C],c=null;var k=_.key;if(null!=k)h&&void 0!==d[k]&&(c=d[k],d[k]=void 0,h--);else if(!c&&v<g)for(i=v;i<g;i++)if(void 0!==f[i]&&l(a=f[i],_,r)){c=a,f[i]=void 0,i===g-1&&g--,i===v&&v++;break}c=m(c,_,n,o),u=s[C],c&&c!==e&&c!==u&&(null==u?e.appendChild(c):c===u.nextSibling?p(u):e.insertBefore(c,u))}if(h)for(var C in d)void 0!==d[C]&&b(d[C],!1);while(v<=g)void 0!==(c=f[g--])&&b(c,!1)}function b(e,t){var n=e._component;n?L(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||p(e),y(e))}function y(e){e=e.lastChild;while(e){var t=e.previousSibling;b(e,!0),e=t}}function g(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||c(e,o,n[o],n[o]=void 0,R);for(o in t)\"children\"===o||\"innerHTML\"===o||o in n&&t[o]===(\"value\"===o||\"checked\"===o?e[o]:n[o])||c(e,o,n[o],n[o]=t[o],R)}function w(e){var t=e.constructor.name;(I[t]||(I[t]=[])).push(e)}function C(e,t,n){var o,r=I[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),T.call(o,t,n)):(o=new T(t,n),o.constructor=e,o.render=x),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.__b=r[i].__b,r.splice(i,1);break}return o}function x(e,t,n){return this.constructor(e,n)}function N(e,t,n,o,i){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===S.syncComponentUpdates&&e.base?r(e):k(e,1,i)),e.__r&&e.__r(e))}function k(e,t,o,r){if(!e.__x){var i,l,a,_=e.props,p=e.state,c=e.context,s=e.__p||_,f=e.__s||p,m=e.__c||c,v=e.base,y=e.__b,g=v||y,w=e._component,x=!1;if(v&&(e.props=s,e.state=f,e.context=m,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(_,p,c)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(_,p,c),e.props=_,e.state=p,e.context=c),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!x){i=e.render(_,p,c),e.getChildContext&&(c=n(n({},c),e.getChildContext()));var U,T,M=i&&i.nodeName;if(\"function\"==typeof M){var W=u(i);l=w,l&&l.constructor===M&&W.key==l.__k?N(l,W,1,c,!1):(U=l,e._component=l=C(M,W,c),l.__b=l.__b||y,l.__u=e,N(l,W,0,c,!1),k(l,1,o,!0)),T=l.base}else a=g,U=w,U&&(a=e._component=null),(g||1===t)&&(a&&(a._component=null),T=h(a,i,c,o||!v,g&&g.parentNode,!0));if(g&&T!==g&&l!==w){var E=g.parentNode;E&&T!==E&&(E.replaceChild(T,g),U||(g._component=null,b(g,!1)))}if(U&&L(U),e.base=T,T&&!r){var P=e,V=e;while(V=V.__u)(P=V).base=T;T._component=P,T._componentConstructor=P.constructor}}if(!v||o?D.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(s,f,m),S.afterUpdate&&S.afterUpdate(e)),null!=e.__h)while(e.__h.length)e.__h.pop().call(e);H||r||d()}}function U(e,t,n,o){var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,_=a,p=u(t);while(r&&!_&&(r=r.__u))_=r.constructor===t.nodeName;return r&&_&&(!o||r._component)?(N(r,p,3,n,o),e=r.base):(i&&!a&&(L(i),e=l=null),r=C(t.nodeName,p,n),e&&!r.__b&&(r.__b=e,l=null),N(r,p,1,n,o),e=r.base,l&&e!==l&&(l._component=null,b(l,!1))),e}function L(e){S.beforeUnmount&&S.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?L(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,p(t),w(e),y(t)),e.__r&&e.__r(null)}function T(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}function M(e,t,n){return h(n,e,{},!1,t,!1)}var S={},W=[],E=[],P=\"function\"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,V=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,A=[],D=[],H=0,R=!1,j=!1,I={};n(T.prototype,{setState:function(e,t){var o=this.state;this.__s||(this.__s=n({},o)),n(o,\"function\"==typeof e?e(o,this.props):e),t&&(this.__h=this.__h||[]).push(t),r(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),k(this,2)},render:function(){}});var $={h:t,createElement:t,cloneElement:o,Component:T,render:M,rerender:i,options:S};\"undefined\"!=typeof module?module.exports=$:self.preact=$}();\n//# sourceMappingURL=preact.min.js.map\n\n\n// WEBPACK FOOTER //\n// ../~/preact/dist/preact.min.js","window.eve = require('eve')\n\n// Copyright (c) 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar mina = (function (eve) {\n    var animations = {},\n    requestAnimFrame = window.requestAnimationFrame       ||\n                       window.webkitRequestAnimationFrame ||\n                       window.mozRequestAnimationFrame    ||\n                       window.oRequestAnimationFrame      ||\n                       window.msRequestAnimationFrame     ||\n                       function (callback) {\n                           setTimeout(callback, 16, new Date().getTime());\n                           return true;\n                       },\n    requestID,\n    isArray = Array.isArray || function (a) {\n        return a instanceof Array ||\n            Object.prototype.toString.call(a) == \"[object Array]\";\n    },\n    idgen = 0,\n    idprefix = \"M\" + (+new Date).toString(36),\n    ID = function () {\n        return idprefix + (idgen++).toString(36);\n    },\n    diff = function (a, b, A, B) {\n        if (isArray(a)) {\n            res = [];\n            for (var i = 0, ii = a.length; i < ii; i++) {\n                res[i] = diff(a[i], b, A[i], B);\n            }\n            return res;\n        }\n        var dif = (A - a) / (B - b);\n        return function (bb) {\n            return a + dif * (bb - b);\n        };\n    },\n    timer = Date.now || function () {\n        return +new Date;\n    },\n    sta = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.s;\n        }\n        var ds = a.s - val;\n        a.b += a.dur * ds;\n        a.B += a.dur * ds;\n        a.s = val;\n    },\n    speed = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.spd;\n        }\n        a.spd = val;\n    },\n    duration = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.dur;\n        }\n        a.s = a.s * val / a.dur;\n        a.dur = val;\n    },\n    stopit = function () {\n        var a = this;\n        delete animations[a.id];\n        a.update();\n        eve(\"mina.stop.\" + a.id, a);\n    },\n    pause = function () {\n        var a = this;\n        if (a.pdif) {\n            return;\n        }\n        delete animations[a.id];\n        a.update();\n        a.pdif = a.get() - a.b;\n    },\n    resume = function () {\n        var a = this;\n        if (!a.pdif) {\n            return;\n        }\n        a.b = a.get() - a.pdif;\n        delete a.pdif;\n        animations[a.id] = a;\n        frame();\n    },\n    update = function () {\n        var a = this,\n            res;\n        if (isArray(a.start)) {\n            res = [];\n            for (var j = 0, jj = a.start.length; j < jj; j++) {\n                res[j] = +a.start[j] +\n                    (a.end[j] - a.start[j]) * a.easing(a.s);\n            }\n        } else {\n            res = +a.start + (a.end - a.start) * a.easing(a.s);\n        }\n        a.set(res);\n    },\n    frame = function (timeStamp) {\n        // Manual invokation?\n        if (!timeStamp) {\n            // Frame loop stopped?\n            if (!requestID) {\n                // Start frame loop...\n                requestID = requestAnimFrame(frame);\n            }\n            return;\n        }\n        var len = 0;\n        for (var i in animations) if (animations.hasOwnProperty(i)) {\n            var a = animations[i],\n                b = a.get(),\n                res;\n            len++;\n            a.s = (b - a.b) / (a.dur / a.spd);\n            if (a.s >= 1) {\n                delete animations[i];\n                a.s = 1;\n                len--;\n                (function (a) {\n                    setTimeout(function () {\n                        eve(\"mina.finish.\" + a.id, a);\n                    });\n                }(a));\n            }\n            a.update();\n        }\n        requestID = len ? requestAnimFrame(frame) : false;\n    },\n    /*\\\n     * mina\n     [ method ]\n     **\n     * Generic animation of numbers\n     **\n     - a (number) start _slave_ number\n     - A (number) end _slave_ number\n     - b (number) start _master_ number (start time in general case)\n     - B (number) end _master_ number (end time in general case)\n     - get (function) getter of _master_ number (see @mina.time)\n     - set (function) setter of _slave_ number\n     - easing (function) #optional easing function, default is @mina.linear\n     = (object) animation descriptor\n     o {\n     o         id (string) animation id,\n     o         start (number) start _slave_ number,\n     o         end (number) end _slave_ number,\n     o         b (number) start _master_ number,\n     o         s (number) animation status (0..1),\n     o         dur (number) animation duration,\n     o         spd (number) animation speed,\n     o         get (function) getter of _master_ number (see @mina.time),\n     o         set (function) setter of _slave_ number,\n     o         easing (function) easing function, default is @mina.linear,\n     o         status (function) status getter/setter,\n     o         speed (function) speed getter/setter,\n     o         duration (function) duration getter/setter,\n     o         stop (function) animation stopper\n     o         pause (function) pauses the animation\n     o         resume (function) resumes the animation\n     o         update (function) calles setter with the right value of the animation\n     o }\n    \\*/\n    mina = function (a, A, b, B, get, set, easing) {\n        var anim = {\n            id: ID(),\n            start: a,\n            end: A,\n            b: b,\n            s: 0,\n            dur: B - b,\n            spd: 1,\n            get: get,\n            set: set,\n            easing: easing || mina.linear,\n            status: sta,\n            speed: speed,\n            duration: duration,\n            stop: stopit,\n            pause: pause,\n            resume: resume,\n            update: update\n        };\n        animations[anim.id] = anim;\n        var len = 0, i;\n        for (i in animations) if (animations.hasOwnProperty(i)) {\n            len++;\n            if (len == 2) {\n                break;\n            }\n        }\n        len == 1 && frame();\n        return anim;\n    };\n    /*\\\n     * mina.time\n     [ method ]\n     **\n     * Returns the current time. Equivalent to:\n     | function () {\n     |     return (new Date).getTime();\n     | }\n    \\*/\n    mina.time = timer;\n    /*\\\n     * mina.getById\n     [ method ]\n     **\n     * Returns an animation by its id\n     - id (string) animation's id\n     = (object) See @mina\n    \\*/\n    mina.getById = function (id) {\n        return animations[id] || null;\n    };\n\n    /*\\\n     * mina.linear\n     [ method ]\n     **\n     * Default linear easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.linear = function (n) {\n        return n;\n    };\n    /*\\\n     * mina.easeout\n     [ method ]\n     **\n     * Easeout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easeout = function (n) {\n        return Math.pow(n, 1.7);\n    };\n    /*\\\n     * mina.easein\n     [ method ]\n     **\n     * Easein easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easein = function (n) {\n        return Math.pow(n, .48);\n    };\n    /*\\\n     * mina.easeinout\n     [ method ]\n     **\n     * Easeinout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easeinout = function (n) {\n        if (n == 1) {\n            return 1;\n        }\n        if (n == 0) {\n            return 0;\n        }\n        var q = .48 - n / 1.04,\n            Q = Math.sqrt(.1734 + q * q),\n            x = Q - q,\n            X = Math.pow(Math.abs(x), 1 / 3) * (x < 0 ? -1 : 1),\n            y = -Q - q,\n            Y = Math.pow(Math.abs(y), 1 / 3) * (y < 0 ? -1 : 1),\n            t = X + Y + .5;\n        return (1 - t) * 3 * t * t + t * t * t;\n    };\n    /*\\\n     * mina.backin\n     [ method ]\n     **\n     * Backin easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.backin = function (n) {\n        if (n == 1) {\n            return 1;\n        }\n        var s = 1.70158;\n        return n * n * ((s + 1) * n - s);\n    };\n    /*\\\n     * mina.backout\n     [ method ]\n     **\n     * Backout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.backout = function (n) {\n        if (n == 0) {\n            return 0;\n        }\n        n = n - 1;\n        var s = 1.70158;\n        return n * n * ((s + 1) * n + s) + 1;\n    };\n    /*\\\n     * mina.elastic\n     [ method ]\n     **\n     * Elastic easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.elastic = function (n) {\n        if (n == !!n) {\n            return n;\n        }\n        return Math.pow(2, -10 * n) * Math.sin((n - .075) *\n            (2 * Math.PI) / .3) + 1;\n    };\n    /*\\\n     * mina.bounce\n     [ method ]\n     **\n     * Bounce easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.bounce = function (n) {\n        var s = 7.5625,\n            p = 2.75,\n            l;\n        if (n < 1 / p) {\n            l = s * n * n;\n        } else {\n            if (n < 2 / p) {\n                n -= 1.5 / p;\n                l = s * n * n + .75;\n            } else {\n                if (n < 2.5 / p) {\n                    n -= 2.25 / p;\n                    l = s * n * n + .9375;\n                } else {\n                    n -= 2.625 / p;\n                    l = s * n * n + .984375;\n                }\n            }\n        }\n        return l;\n    };\n    window.mina = mina;\n    return mina;\n})(typeof eve == \"undefined\" ? function () {} : eve);\n\n// Copyright (c) 2013 - 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nvar Snap = (function(root) {\nSnap.version = \"0.5.1\";\n/*\\\n * Snap\n [ method ]\n **\n * Creates a drawing surface or wraps existing SVG element.\n **\n - width (number|string) width of surface\n - height (number|string) height of surface\n * or\n - DOM (SVGElement) element to be wrapped into Snap structure\n * or\n - array (array) array of elements (will return set of elements)\n * or\n - query (string) CSS query selector\n = (object) @Element\n\\*/\nfunction Snap(w, h) {\n    if (w) {\n        if (w.nodeType) {\n            return wrap(w);\n        }\n        if (is(w, \"array\") && Snap.set) {\n            return Snap.set.apply(Snap, w);\n        }\n        if (w instanceof Element) {\n            return w;\n        }\n        if (h == null) {\n            try {\n                w = glob.doc.querySelector(String(w));\n                return wrap(w);\n            } catch (e) {\n                return null;\n            }\n        }\n    }\n    w = w == null ? \"100%\" : w;\n    h = h == null ? \"100%\" : h;\n    return new Paper(w, h);\n}\nSnap.toString = function () {\n    return \"Snap v\" + this.version;\n};\nSnap._ = {};\nvar glob = {\n    win: root.window,\n    doc: root.window.document\n};\nSnap._.glob = glob;\nvar has = \"hasOwnProperty\",\n    Str = String,\n    toFloat = parseFloat,\n    toInt = parseInt,\n    math = Math,\n    mmax = math.max,\n    mmin = math.min,\n    abs = math.abs,\n    pow = math.pow,\n    PI = math.PI,\n    round = math.round,\n    E = \"\",\n    S = \" \",\n    objectToString = Object.prototype.toString,\n    ISURL = /^url\\(['\"]?([^\\)]+?)['\"]?\\)$/i,\n    colourRegExp = /^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?%?)\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?%?)\\s*\\))\\s*$/i,\n    bezierrg = /^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,\n    separator = Snap._.separator = /[,\\s]+/,\n    whitespace = /[\\s]/g,\n    commaSpaces = /[\\s]*,[\\s]*/,\n    hsrg = {hs: 1, rg: 1},\n    pathCommand = /([a-z])[\\s,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    tCommand = /([rstm])[\\s,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    pathValues = /(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\\s]*,?[\\s]*/ig,\n    idgen = 0,\n    idprefix = \"S\" + (+new Date).toString(36),\n    ID = function (el) {\n        return (el && el.type ? el.type : E) + idprefix + (idgen++).toString(36);\n    },\n    xlink = \"http://www.w3.org/1999/xlink\",\n    xmlns = \"http://www.w3.org/2000/svg\",\n    hub = {},\n    /*\\\n     * Snap.url\n     [ method ]\n     **\n     * Wraps path into `\"url('<path>')\"`.\n     - value (string) path\n     = (string) wrapped path\n    \\*/\n    URL = Snap.url = function (url) {\n        return \"url('#\" + url + \"')\";\n    };\n\nfunction $(el, attr) {\n    if (attr) {\n        if (el == \"#text\") {\n            el = glob.doc.createTextNode(attr.text || attr[\"#text\"] || \"\");\n        }\n        if (el == \"#comment\") {\n            el = glob.doc.createComment(attr.text || attr[\"#text\"] || \"\");\n        }\n        if (typeof el == \"string\") {\n            el = $(el);\n        }\n        if (typeof attr == \"string\") {\n            if (el.nodeType == 1) {\n                if (attr.substring(0, 6) == \"xlink:\") {\n                    return el.getAttributeNS(xlink, attr.substring(6));\n                }\n                if (attr.substring(0, 4) == \"xml:\") {\n                    return el.getAttributeNS(xmlns, attr.substring(4));\n                }\n                return el.getAttribute(attr);\n            } else if (attr == \"text\") {\n                return el.nodeValue;\n            } else {\n                return null;\n            }\n        }\n        if (el.nodeType == 1) {\n            for (var key in attr) if (attr[has](key)) {\n                var val = Str(attr[key]);\n                if (val) {\n                    if (key.substring(0, 6) == \"xlink:\") {\n                        el.setAttributeNS(xlink, key.substring(6), val);\n                    } else if (key.substring(0, 4) == \"xml:\") {\n                        el.setAttributeNS(xmlns, key.substring(4), val);\n                    } else {\n                        el.setAttribute(key, val);\n                    }\n                } else {\n                    el.removeAttribute(key);\n                }\n            }\n        } else if (\"text\" in attr) {\n            el.nodeValue = attr.text;\n        }\n    } else {\n        el = glob.doc.createElementNS(xmlns, el);\n    }\n    return el;\n}\nSnap._.$ = $;\nSnap._.id = ID;\nfunction getAttrs(el) {\n    var attrs = el.attributes,\n        name,\n        out = {};\n    for (var i = 0; i < attrs.length; i++) {\n        if (attrs[i].namespaceURI == xlink) {\n            name = \"xlink:\";\n        } else {\n            name = \"\";\n        }\n        name += attrs[i].name;\n        out[name] = attrs[i].textContent;\n    }\n    return out;\n}\nfunction is(o, type) {\n    type = Str.prototype.toLowerCase.call(type);\n    if (type == \"finite\") {\n        return isFinite(o);\n    }\n    if (type == \"array\" &&\n        (o instanceof Array || Array.isArray && Array.isArray(o))) {\n        return true;\n    }\n    return  type == \"null\" && o === null ||\n            type == typeof o && o !== null ||\n            type == \"object\" && o === Object(o) ||\n            objectToString.call(o).slice(8, -1).toLowerCase() == type;\n}\n/*\\\n * Snap.format\n [ method ]\n **\n * Replaces construction of type `{<name>}` to the corresponding argument\n **\n - token (string) string to format\n - json (object) object which properties are used as a replacement\n = (string) formatted string\n > Usage\n | // this draws a rectangular shape equivalent to \"M10,20h40v50h-40z\"\n | paper.path(Snap.format(\"M{x},{y}h{dim.width}v{dim.height}h{dim['negative width']}z\", {\n |     x: 10,\n |     y: 20,\n |     dim: {\n |         width: 40,\n |         height: 50,\n |         \"negative width\": -40\n |     }\n | }));\n\\*/\nSnap.format = (function () {\n    var tokenRegex = /\\{([^\\}]+)\\}/g,\n        objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g, // matches .xxxxx or [\"xxxxx\"] to run over object properties\n        replacer = function (all, key, obj) {\n            var res = obj;\n            key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\n                name = name || quotedName;\n                if (res) {\n                    if (name in res) {\n                        res = res[name];\n                    }\n                    typeof res == \"function\" && isFunc && (res = res());\n                }\n            });\n            res = (res == null || res == obj ? all : res) + \"\";\n            return res;\n        };\n    return function (str, obj) {\n        return Str(str).replace(tokenRegex, function (all, key) {\n            return replacer(all, key, obj);\n        });\n    };\n})();\nfunction clone(obj) {\n    if (typeof obj == \"function\" || Object(obj) !== obj) {\n        return obj;\n    }\n    var res = new obj.constructor;\n    for (var key in obj) if (obj[has](key)) {\n        res[key] = clone(obj[key]);\n    }\n    return res;\n}\nSnap._.clone = clone;\nfunction repush(array, item) {\n    for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n        return array.push(array.splice(i, 1)[0]);\n    }\n}\nfunction cacher(f, scope, postprocessor) {\n    function newf() {\n        var arg = Array.prototype.slice.call(arguments, 0),\n            args = arg.join(\"\\u2400\"),\n            cache = newf.cache = newf.cache || {},\n            count = newf.count = newf.count || [];\n        if (cache[has](args)) {\n            repush(count, args);\n            return postprocessor ? postprocessor(cache[args]) : cache[args];\n        }\n        count.length >= 1e3 && delete cache[count.shift()];\n        count.push(args);\n        cache[args] = f.apply(scope, arg);\n        return postprocessor ? postprocessor(cache[args]) : cache[args];\n    }\n    return newf;\n}\nSnap._.cacher = cacher;\nfunction angle(x1, y1, x2, y2, x3, y3) {\n    if (x3 == null) {\n        var x = x1 - x2,\n            y = y1 - y2;\n        if (!x && !y) {\n            return 0;\n        }\n        return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;\n    } else {\n        return angle(x1, y1, x3, y3) - angle(x2, y2, x3, y3);\n    }\n}\nfunction rad(deg) {\n    return deg % 360 * PI / 180;\n}\nfunction deg(rad) {\n    return rad * 180 / PI % 360;\n}\nfunction x_y() {\n    return this.x + S + this.y;\n}\nfunction x_y_w_h() {\n    return this.x + S + this.y + S + this.width + \" \\xd7 \" + this.height;\n}\n\n/*\\\n * Snap.rad\n [ method ]\n **\n * Transform angle to radians\n - deg (number) angle in degrees\n = (number) angle in radians\n\\*/\nSnap.rad = rad;\n/*\\\n * Snap.deg\n [ method ]\n **\n * Transform angle to degrees\n - rad (number) angle in radians\n = (number) angle in degrees\n\\*/\nSnap.deg = deg;\n/*\\\n * Snap.sin\n [ method ]\n **\n * Equivalent to `Math.sin()` only works with degrees, not radians.\n - angle (number) angle in degrees\n = (number) sin\n\\*/\nSnap.sin = function (angle) {\n    return math.sin(Snap.rad(angle));\n};\n/*\\\n * Snap.tan\n [ method ]\n **\n * Equivalent to `Math.tan()` only works with degrees, not radians.\n - angle (number) angle in degrees\n = (number) tan\n\\*/\nSnap.tan = function (angle) {\n    return math.tan(Snap.rad(angle));\n};\n/*\\\n * Snap.cos\n [ method ]\n **\n * Equivalent to `Math.cos()` only works with degrees, not radians.\n - angle (number) angle in degrees\n = (number) cos\n\\*/\nSnap.cos = function (angle) {\n    return math.cos(Snap.rad(angle));\n};\n/*\\\n * Snap.asin\n [ method ]\n **\n * Equivalent to `Math.asin()` only works with degrees, not radians.\n - num (number) value\n = (number) asin in degrees\n\\*/\nSnap.asin = function (num) {\n    return Snap.deg(math.asin(num));\n};\n/*\\\n * Snap.acos\n [ method ]\n **\n * Equivalent to `Math.acos()` only works with degrees, not radians.\n - num (number) value\n = (number) acos in degrees\n\\*/\nSnap.acos = function (num) {\n    return Snap.deg(math.acos(num));\n};\n/*\\\n * Snap.atan\n [ method ]\n **\n * Equivalent to `Math.atan()` only works with degrees, not radians.\n - num (number) value\n = (number) atan in degrees\n\\*/\nSnap.atan = function (num) {\n    return Snap.deg(math.atan(num));\n};\n/*\\\n * Snap.atan2\n [ method ]\n **\n * Equivalent to `Math.atan2()` only works with degrees, not radians.\n - num (number) value\n = (number) atan2 in degrees\n\\*/\nSnap.atan2 = function (num) {\n    return Snap.deg(math.atan2(num));\n};\n/*\\\n * Snap.angle\n [ method ]\n **\n * Returns an angle between two or three points\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n - x3 (number) #optional x coord of third point\n - y3 (number) #optional y coord of third point\n = (number) angle in degrees\n\\*/\nSnap.angle = angle;\n/*\\\n * Snap.len\n [ method ]\n **\n * Returns distance between two points\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n = (number) distance\n\\*/\nSnap.len = function (x1, y1, x2, y2) {\n    return Math.sqrt(Snap.len2(x1, y1, x2, y2));\n};\n/*\\\n * Snap.len2\n [ method ]\n **\n * Returns squared distance between two points\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n = (number) distance\n\\*/\nSnap.len2 = function (x1, y1, x2, y2) {\n    return (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n};\n/*\\\n * Snap.closestPoint\n [ method ]\n **\n * Returns closest point to a given one on a given path.\n - path (Element) path element\n - x (number) x coord of a point\n - y (number) y coord of a point\n = (object) in format\n {\n    x (number) x coord of the point on the path\n    y (number) y coord of the point on the path\n    length (number) length of the path to the point\n    distance (number) distance from the given point to the path\n }\n\\*/\n// Copied from http://bl.ocks.org/mbostock/8027637\nSnap.closestPoint = function (path, x, y) {\n    function distance2(p) {\n        var dx = p.x - x,\n            dy = p.y - y;\n        return dx * dx + dy * dy;\n    }\n    var pathNode = path.node,\n        pathLength = pathNode.getTotalLength(),\n        precision = pathLength / pathNode.pathSegList.numberOfItems * .125,\n        best,\n        bestLength,\n        bestDistance = Infinity;\n\n    // linear scan for coarse approximation\n    for (var scan, scanLength = 0, scanDistance; scanLength <= pathLength; scanLength += precision) {\n        if ((scanDistance = distance2(scan = pathNode.getPointAtLength(scanLength))) < bestDistance) {\n            best = scan;\n            bestLength = scanLength;\n            bestDistance = scanDistance;\n        }\n    }\n\n    // binary search for precise estimate\n    precision *= .5;\n    while (precision > .5) {\n        var before,\n            after,\n            beforeLength,\n            afterLength,\n            beforeDistance,\n            afterDistance;\n        if ((beforeLength = bestLength - precision) >= 0 && (beforeDistance = distance2(before = pathNode.getPointAtLength(beforeLength))) < bestDistance) {\n            best = before;\n            bestLength = beforeLength;\n            bestDistance = beforeDistance;\n        } else if ((afterLength = bestLength + precision) <= pathLength && (afterDistance = distance2(after = pathNode.getPointAtLength(afterLength))) < bestDistance) {\n            best = after;\n            bestLength = afterLength;\n            bestDistance = afterDistance;\n        } else {\n            precision *= .5;\n        }\n    }\n\n    best = {\n        x: best.x,\n        y: best.y,\n        length: bestLength,\n        distance: Math.sqrt(bestDistance)\n    };\n    return best;\n}\n/*\\\n * Snap.is\n [ method ]\n **\n * Handy replacement for the `typeof` operator\n - o () any object or primitive\n - type (string) name of the type, e.g., `string`, `function`, `number`, etc.\n = (boolean) `true` if given value is of given type\n\\*/\nSnap.is = is;\n/*\\\n * Snap.snapTo\n [ method ]\n **\n * Snaps given value to given grid\n - values (array|number) given array of values or step of the grid\n - value (number) value to adjust\n - tolerance (number) #optional maximum distance to the target value that would trigger the snap. Default is `10`.\n = (number) adjusted value\n\\*/\nSnap.snapTo = function (values, value, tolerance) {\n    tolerance = is(tolerance, \"finite\") ? tolerance : 10;\n    if (is(values, \"array\")) {\n        var i = values.length;\n        while (i--) if (abs(values[i] - value) <= tolerance) {\n            return values[i];\n        }\n    } else {\n        values = +values;\n        var rem = value % values;\n        if (rem < tolerance) {\n            return value - rem;\n        }\n        if (rem > values - tolerance) {\n            return value - rem + values;\n        }\n    }\n    return value;\n};\n// Colour\n/*\\\n * Snap.getRGB\n [ method ]\n **\n * Parses color string as RGB object\n - color (string) color string in one of the following formats:\n # <ul>\n #     <li>Color name (<code>red</code>, <code>green</code>, <code>cornflowerblue</code>, etc)</li>\n #     <li>#  shortened HTML color: (<code>#000</code>, <code>#fc0</code>, etc.)</li>\n #     <li>#  full length HTML color: (<code>#000000</code>, <code>#bd2300</code>)</li>\n #     <li>rgb(, , )  red, green and blue channels values: (<code>rgb(200,&nbsp;100,&nbsp;0)</code>)</li>\n #     <li>rgba(, , , )  also with opacity</li>\n #     <li>rgb(%, %, %)  same as above, but in %: (<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>)</li>\n #     <li>rgba(%, %, %, %)  also with opacity</li>\n #     <li>hsb(, , )  hue, saturation and brightness values: (<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>)</li>\n #     <li>hsba(, , , )  also with opacity</li>\n #     <li>hsb(%, %, %)  same as above, but in %</li>\n #     <li>hsba(%, %, %, %)  also with opacity</li>\n #     <li>hsl(, , )  hue, saturation and luminosity values: (<code>hsb(0.5,&nbsp;0.25,&nbsp;0.5)</code>)</li>\n #     <li>hsla(, , , )  also with opacity</li>\n #     <li>hsl(%, %, %)  same as above, but in %</li>\n #     <li>hsla(%, %, %, %)  also with opacity</li>\n # </ul>\n * Note that `%` can be used any time: `rgb(20%, 255, 50%)`.\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #,\n o     error (boolean) true if string can't be parsed\n o }\n\\*/\nSnap.getRGB = cacher(function (colour) {\n    if (!colour || !!((colour = Str(colour)).indexOf(\"-\") + 1)) {\n        return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n    }\n    if (colour == \"none\") {\n        return {r: -1, g: -1, b: -1, hex: \"none\", toString: rgbtoString};\n    }\n    !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == \"#\") && (colour = toHex(colour));\n    if (!colour) {\n        return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n    }\n    var res,\n        red,\n        green,\n        blue,\n        opacity,\n        t,\n        values,\n        rgb = colour.match(colourRegExp);\n    if (rgb) {\n        if (rgb[2]) {\n            blue = toInt(rgb[2].substring(5), 16);\n            green = toInt(rgb[2].substring(3, 5), 16);\n            red = toInt(rgb[2].substring(1, 3), 16);\n        }\n        if (rgb[3]) {\n            blue = toInt((t = rgb[3].charAt(3)) + t, 16);\n            green = toInt((t = rgb[3].charAt(2)) + t, 16);\n            red = toInt((t = rgb[3].charAt(1)) + t, 16);\n        }\n        if (rgb[4]) {\n            values = rgb[4].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red *= 2.55);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green *= 2.55);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue *= 2.55);\n            rgb[1].toLowerCase().slice(0, 4) == \"rgba\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n        }\n        if (rgb[5]) {\n            values = rgb[5].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red /= 100);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green /= 100);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue /= 100);\n            (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n            rgb[1].toLowerCase().slice(0, 4) == \"hsba\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n            return Snap.hsb2rgb(red, green, blue, opacity);\n        }\n        if (rgb[6]) {\n            values = rgb[6].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == \"%\" && (red /= 100);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == \"%\" && (green /= 100);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == \"%\" && (blue /= 100);\n            (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n            rgb[1].toLowerCase().slice(0, 4) == \"hsla\" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n            return Snap.hsl2rgb(red, green, blue, opacity);\n        }\n        red = mmin(math.round(red), 255);\n        green = mmin(math.round(green), 255);\n        blue = mmin(math.round(blue), 255);\n        opacity = mmin(mmax(opacity, 0), 1);\n        rgb = {r: red, g: green, b: blue, toString: rgbtoString};\n        rgb.hex = \"#\" + (16777216 | blue | green << 8 | red << 16).toString(16).slice(1);\n        rgb.opacity = is(opacity, \"finite\") ? opacity : 1;\n        return rgb;\n    }\n    return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: rgbtoString};\n}, Snap);\n/*\\\n * Snap.hsb\n [ method ]\n **\n * Converts HSB values to a hex representation of the color\n - h (number) hue\n - s (number) saturation\n - b (number) value or brightness\n = (string) hex representation of the color\n\\*/\nSnap.hsb = cacher(function (h, s, b) {\n    return Snap.hsb2rgb(h, s, b).hex;\n});\n/*\\\n * Snap.hsl\n [ method ]\n **\n * Converts HSL values to a hex representation of the color\n - h (number) hue\n - s (number) saturation\n - l (number) luminosity\n = (string) hex representation of the color\n\\*/\nSnap.hsl = cacher(function (h, s, l) {\n    return Snap.hsl2rgb(h, s, l).hex;\n});\n/*\\\n * Snap.rgb\n [ method ]\n **\n * Converts RGB values to a hex representation of the color\n - r (number) red\n - g (number) green\n - b (number) blue\n = (string) hex representation of the color\n\\*/\nSnap.rgb = cacher(function (r, g, b, o) {\n    if (is(o, \"finite\")) {\n        var round = math.round;\n        return \"rgba(\" + [round(r), round(g), round(b), +o.toFixed(2)] + \")\";\n    }\n    return \"#\" + (16777216 | b | g << 8 | r << 16).toString(16).slice(1);\n});\nvar toHex = function (color) {\n    var i = glob.doc.getElementsByTagName(\"head\")[0] || glob.doc.getElementsByTagName(\"svg\")[0],\n        red = \"rgb(255, 0, 0)\";\n    toHex = cacher(function (color) {\n        if (color.toLowerCase() == \"red\") {\n            return red;\n        }\n        i.style.color = red;\n        i.style.color = color;\n        var out = glob.doc.defaultView.getComputedStyle(i, E).getPropertyValue(\"color\");\n        return out == red ? null : out;\n    });\n    return toHex(color);\n},\nhsbtoString = function () {\n    return \"hsb(\" + [this.h, this.s, this.b] + \")\";\n},\nhsltoString = function () {\n    return \"hsl(\" + [this.h, this.s, this.l] + \")\";\n},\nrgbtoString = function () {\n    return this.opacity == 1 || this.opacity == null ?\n            this.hex :\n            \"rgba(\" + [this.r, this.g, this.b, this.opacity] + \")\";\n},\nprepareRGB = function (r, g, b) {\n    if (g == null && is(r, \"object\") && \"r\" in r && \"g\" in r && \"b\" in r) {\n        b = r.b;\n        g = r.g;\n        r = r.r;\n    }\n    if (g == null && is(r, string)) {\n        var clr = Snap.getRGB(r);\n        r = clr.r;\n        g = clr.g;\n        b = clr.b;\n    }\n    if (r > 1 || g > 1 || b > 1) {\n        r /= 255;\n        g /= 255;\n        b /= 255;\n    }\n\n    return [r, g, b];\n},\npackageRGB = function (r, g, b, o) {\n    r = math.round(r * 255);\n    g = math.round(g * 255);\n    b = math.round(b * 255);\n    var rgb = {\n        r: r,\n        g: g,\n        b: b,\n        opacity: is(o, \"finite\") ? o : 1,\n        hex: Snap.rgb(r, g, b),\n        toString: rgbtoString\n    };\n    is(o, \"finite\") && (rgb.opacity = o);\n    return rgb;\n};\n/*\\\n * Snap.color\n [ method ]\n **\n * Parses the color string and returns an object featuring the color's component values\n - clr (string) color string in one of the supported formats (see @Snap.getRGB)\n = (object) Combined RGB/HSB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #,\n o     error (boolean) `true` if string can't be parsed,\n o     h (number) hue,\n o     s (number) saturation,\n o     v (number) value (brightness),\n o     l (number) lightness\n o }\n\\*/\nSnap.color = function (clr) {\n    var rgb;\n    if (is(clr, \"object\") && \"h\" in clr && \"s\" in clr && \"b\" in clr) {\n        rgb = Snap.hsb2rgb(clr);\n        clr.r = rgb.r;\n        clr.g = rgb.g;\n        clr.b = rgb.b;\n        clr.opacity = 1;\n        clr.hex = rgb.hex;\n    } else if (is(clr, \"object\") && \"h\" in clr && \"s\" in clr && \"l\" in clr) {\n        rgb = Snap.hsl2rgb(clr);\n        clr.r = rgb.r;\n        clr.g = rgb.g;\n        clr.b = rgb.b;\n        clr.opacity = 1;\n        clr.hex = rgb.hex;\n    } else {\n        if (is(clr, \"string\")) {\n            clr = Snap.getRGB(clr);\n        }\n        if (is(clr, \"object\") && \"r\" in clr && \"g\" in clr && \"b\" in clr && !(\"error\" in clr)) {\n            rgb = Snap.rgb2hsl(clr);\n            clr.h = rgb.h;\n            clr.s = rgb.s;\n            clr.l = rgb.l;\n            rgb = Snap.rgb2hsb(clr);\n            clr.v = rgb.b;\n        } else {\n            clr = {hex: \"none\"};\n            clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\n            clr.error = 1;\n        }\n    }\n    clr.toString = rgbtoString;\n    return clr;\n};\n/*\\\n * Snap.hsb2rgb\n [ method ]\n **\n * Converts HSB values to an RGB object\n - h (number) hue\n - s (number) saturation\n - v (number) value or brightness\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #\n o }\n\\*/\nSnap.hsb2rgb = function (h, s, v, o) {\n    if (is(h, \"object\") && \"h\" in h && \"s\" in h && \"b\" in h) {\n        v = h.b;\n        s = h.s;\n        o = h.o;\n        h = h.h;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = h % 360 / 60;\n    C = v * s;\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = v - C;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n};\n/*\\\n * Snap.hsl2rgb\n [ method ]\n **\n * Converts HSL values to an RGB object\n - h (number) hue\n - s (number) saturation\n - l (number) luminosity\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #\n o }\n\\*/\nSnap.hsl2rgb = function (h, s, l, o) {\n    if (is(h, \"object\") && \"h\" in h && \"s\" in h && \"l\" in h) {\n        l = h.l;\n        s = h.s;\n        h = h.h;\n    }\n    if (h > 1 || s > 1 || l > 1) {\n        h /= 360;\n        s /= 100;\n        l /= 100;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = h % 360 / 60;\n    C = 2 * s * (l < .5 ? l : 1 - l);\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = l - C / 2;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n};\n/*\\\n * Snap.rgb2hsb\n [ method ]\n **\n * Converts RGB values to an HSB object\n - r (number) red\n - g (number) green\n - b (number) blue\n = (object) HSB object in the following format:\n o {\n o     h (number) hue,\n o     s (number) saturation,\n o     b (number) brightness\n o }\n\\*/\nSnap.rgb2hsb = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, V, C;\n    V = mmax(r, g, b);\n    C = V - mmin(r, g, b);\n    H = C == 0 ? null :\n        V == r ? (g - b) / C :\n        V == g ? (b - r) / C + 2 :\n                 (r - g) / C + 4;\n    H = (H + 360) % 6 * 60 / 360;\n    S = C == 0 ? 0 : C / V;\n    return {h: H, s: S, b: V, toString: hsbtoString};\n};\n/*\\\n * Snap.rgb2hsl\n [ method ]\n **\n * Converts RGB values to an HSL object\n - r (number) red\n - g (number) green\n - b (number) blue\n = (object) HSL object in the following format:\n o {\n o     h (number) hue,\n o     s (number) saturation,\n o     l (number) luminosity\n o }\n\\*/\nSnap.rgb2hsl = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, L, M, m, C;\n    M = mmax(r, g, b);\n    m = mmin(r, g, b);\n    C = M - m;\n    H = C == 0 ? null :\n        M == r ? (g - b) / C :\n        M == g ? (b - r) / C + 2 :\n                 (r - g) / C + 4;\n    H = (H + 360) % 6 * 60 / 360;\n    L = (M + m) / 2;\n    S = C == 0 ? 0 :\n         L < .5 ? C / (2 * L) :\n                  C / (2 - 2 * L);\n    return {h: H, s: S, l: L, toString: hsltoString};\n};\n\n// Transformations\n/*\\\n * Snap.parsePathString\n [ method ]\n **\n * Utility method\n **\n * Parses given path string into an array of arrays of path segments\n - pathString (string|array) path string or array of segments (in the last case it is returned straight away)\n = (array) array of segments\n\\*/\nSnap.parsePathString = function (pathString) {\n    if (!pathString) {\n        return null;\n    }\n    var pth = Snap.path(pathString);\n    if (pth.arr) {\n        return Snap.path.clone(pth.arr);\n    }\n\n    var paramCounts = {a: 7, c: 6, o: 2, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, u: 3, z: 0},\n        data = [];\n    if (is(pathString, \"array\") && is(pathString[0], \"array\")) { // rough assumption\n        data = Snap.path.clone(pathString);\n    }\n    if (!data.length) {\n        Str(pathString).replace(pathCommand, function (a, b, c) {\n            var params = [],\n                name = b.toLowerCase();\n            c.replace(pathValues, function (a, b) {\n                b && params.push(+b);\n            });\n            if (name == \"m\" && params.length > 2) {\n                data.push([b].concat(params.splice(0, 2)));\n                name = \"l\";\n                b = b == \"m\" ? \"l\" : \"L\";\n            }\n            if (name == \"o\" && params.length == 1) {\n                data.push([b, params[0]]);\n            }\n            if (name == \"r\") {\n                data.push([b].concat(params));\n            } else while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        });\n    }\n    data.toString = Snap.path.toString;\n    pth.arr = Snap.path.clone(data);\n    return data;\n};\n/*\\\n * Snap.parseTransformString\n [ method ]\n **\n * Utility method\n **\n * Parses given transform string into an array of transformations\n - TString (string|array) transform string or array of transformations (in the last case it is returned straight away)\n = (array) array of transformations\n\\*/\nvar parseTransformString = Snap.parseTransformString = function (TString) {\n    if (!TString) {\n        return null;\n    }\n    var paramCounts = {r: 3, s: 4, t: 2, m: 6},\n        data = [];\n    if (is(TString, \"array\") && is(TString[0], \"array\")) { // rough assumption\n        data = Snap.path.clone(TString);\n    }\n    if (!data.length) {\n        Str(TString).replace(tCommand, function (a, b, c) {\n            var params = [],\n                name = b.toLowerCase();\n            c.replace(pathValues, function (a, b) {\n                b && params.push(+b);\n            });\n            data.push([b].concat(params));\n        });\n    }\n    data.toString = Snap.path.toString;\n    return data;\n};\nfunction svgTransform2string(tstr) {\n    var res = [];\n    tstr = tstr.replace(/(?:^|\\s)(\\w+)\\(([^)]+)\\)/g, function (all, name, params) {\n        params = params.split(/\\s*,\\s*|\\s+/);\n        if (name == \"rotate\" && params.length == 1) {\n            params.push(0, 0);\n        }\n        if (name == \"scale\") {\n            if (params.length > 2) {\n                params = params.slice(0, 2);\n            } else if (params.length == 2) {\n                params.push(0, 0);\n            }\n            if (params.length == 1) {\n                params.push(params[0], 0, 0);\n            }\n        }\n        if (name == \"skewX\") {\n            res.push([\"m\", 1, 0, math.tan(rad(params[0])), 1, 0, 0]);\n        } else if (name == \"skewY\") {\n            res.push([\"m\", 1, math.tan(rad(params[0])), 0, 1, 0, 0]);\n        } else {\n            res.push([name.charAt(0)].concat(params));\n        }\n        return all;\n    });\n    return res;\n}\nSnap._.svgTransform2string = svgTransform2string;\nSnap._.rgTransform = /^[a-z][\\s]*-?\\.?\\d/i;\nfunction transform2matrix(tstr, bbox) {\n    var tdata = parseTransformString(tstr),\n        m = new Snap.Matrix;\n    if (tdata) {\n        for (var i = 0, ii = tdata.length; i < ii; i++) {\n            var t = tdata[i],\n                tlen = t.length,\n                command = Str(t[0]).toLowerCase(),\n                absolute = t[0] != command,\n                inver = absolute ? m.invert() : 0,\n                x1,\n                y1,\n                x2,\n                y2,\n                bb;\n            if (command == \"t\" && tlen == 2){\n                m.translate(t[1], 0);\n            } else if (command == \"t\" && tlen == 3) {\n                if (absolute) {\n                    x1 = inver.x(0, 0);\n                    y1 = inver.y(0, 0);\n                    x2 = inver.x(t[1], t[2]);\n                    y2 = inver.y(t[1], t[2]);\n                    m.translate(x2 - x1, y2 - y1);\n                } else {\n                    m.translate(t[1], t[2]);\n                }\n            } else if (command == \"r\") {\n                if (tlen == 2) {\n                    bb = bb || bbox;\n                    m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                } else if (tlen == 4) {\n                    if (absolute) {\n                        x2 = inver.x(t[2], t[3]);\n                        y2 = inver.y(t[2], t[3]);\n                        m.rotate(t[1], x2, y2);\n                    } else {\n                        m.rotate(t[1], t[2], t[3]);\n                    }\n                }\n            } else if (command == \"s\") {\n                if (tlen == 2 || tlen == 3) {\n                    bb = bb || bbox;\n                    m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                } else if (tlen == 4) {\n                    if (absolute) {\n                        x2 = inver.x(t[2], t[3]);\n                        y2 = inver.y(t[2], t[3]);\n                        m.scale(t[1], t[1], x2, y2);\n                    } else {\n                        m.scale(t[1], t[1], t[2], t[3]);\n                    }\n                } else if (tlen == 5) {\n                    if (absolute) {\n                        x2 = inver.x(t[3], t[4]);\n                        y2 = inver.y(t[3], t[4]);\n                        m.scale(t[1], t[2], x2, y2);\n                    } else {\n                        m.scale(t[1], t[2], t[3], t[4]);\n                    }\n                }\n            } else if (command == \"m\" && tlen == 7) {\n                m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\n            }\n        }\n    }\n    return m;\n}\nSnap._.transform2matrix = transform2matrix;\nSnap._unit2px = unit2px;\nvar contains = glob.doc.contains || glob.doc.compareDocumentPosition ?\n    function (a, b) {\n        var adown = a.nodeType == 9 ? a.documentElement : a,\n            bup = b && b.parentNode;\n            return a == bup || !!(bup && bup.nodeType == 1 && (\n                adown.contains ?\n                    adown.contains(bup) :\n                    a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16\n            ));\n    } :\n    function (a, b) {\n        if (b) {\n            while (b) {\n                b = b.parentNode;\n                if (b == a) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\nfunction getSomeDefs(el) {\n    var p = el.node.ownerSVGElement && wrap(el.node.ownerSVGElement) ||\n            el.node.parentNode && wrap(el.node.parentNode) ||\n            Snap.select(\"svg\") ||\n            Snap(0, 0),\n        pdefs = p.select(\"defs\"),\n        defs  = pdefs == null ? false : pdefs.node;\n    if (!defs) {\n        defs = make(\"defs\", p.node).node;\n    }\n    return defs;\n}\nfunction getSomeSVG(el) {\n    return el.node.ownerSVGElement && wrap(el.node.ownerSVGElement) || Snap.select(\"svg\");\n}\nSnap._.getSomeDefs = getSomeDefs;\nSnap._.getSomeSVG = getSomeSVG;\nfunction unit2px(el, name, value) {\n    var svg = getSomeSVG(el).node,\n        out = {},\n        mgr = svg.querySelector(\".svg---mgr\");\n    if (!mgr) {\n        mgr = $(\"rect\");\n        $(mgr, {x: -9e9, y: -9e9, width: 10, height: 10, \"class\": \"svg---mgr\", fill: \"none\"});\n        svg.appendChild(mgr);\n    }\n    function getW(val) {\n        if (val == null) {\n            return E;\n        }\n        if (val == +val) {\n            return val;\n        }\n        $(mgr, {width: val});\n        try {\n            return mgr.getBBox().width;\n        } catch (e) {\n            return 0;\n        }\n    }\n    function getH(val) {\n        if (val == null) {\n            return E;\n        }\n        if (val == +val) {\n            return val;\n        }\n        $(mgr, {height: val});\n        try {\n            return mgr.getBBox().height;\n        } catch (e) {\n            return 0;\n        }\n    }\n    function set(nam, f) {\n        if (name == null) {\n            out[nam] = f(el.attr(nam) || 0);\n        } else if (nam == name) {\n            out = f(value == null ? el.attr(nam) || 0 : value);\n        }\n    }\n    switch (el.type) {\n        case \"rect\":\n            set(\"rx\", getW);\n            set(\"ry\", getH);\n        case \"image\":\n            set(\"width\", getW);\n            set(\"height\", getH);\n        case \"text\":\n            set(\"x\", getW);\n            set(\"y\", getH);\n        break;\n        case \"circle\":\n            set(\"cx\", getW);\n            set(\"cy\", getH);\n            set(\"r\", getW);\n        break;\n        case \"ellipse\":\n            set(\"cx\", getW);\n            set(\"cy\", getH);\n            set(\"rx\", getW);\n            set(\"ry\", getH);\n        break;\n        case \"line\":\n            set(\"x1\", getW);\n            set(\"x2\", getW);\n            set(\"y1\", getH);\n            set(\"y2\", getH);\n        break;\n        case \"marker\":\n            set(\"refX\", getW);\n            set(\"markerWidth\", getW);\n            set(\"refY\", getH);\n            set(\"markerHeight\", getH);\n        break;\n        case \"radialGradient\":\n            set(\"fx\", getW);\n            set(\"fy\", getH);\n        break;\n        case \"tspan\":\n            set(\"dx\", getW);\n            set(\"dy\", getH);\n        break;\n        default:\n            set(name, getW);\n    }\n    svg.removeChild(mgr);\n    return out;\n}\n/*\\\n * Snap.select\n [ method ]\n **\n * Wraps a DOM element specified by CSS selector as @Element\n - query (string) CSS selector of the element\n = (Element) the current element\n\\*/\nSnap.select = function (query) {\n    query = Str(query).replace(/([^\\\\]):/g, \"$1\\\\:\");\n    return wrap(glob.doc.querySelector(query));\n};\n/*\\\n * Snap.selectAll\n [ method ]\n **\n * Wraps DOM elements specified by CSS selector as set or array of @Element\n - query (string) CSS selector of the element\n = (Element) the current element\n\\*/\nSnap.selectAll = function (query) {\n    var nodelist = glob.doc.querySelectorAll(query),\n        set = (Snap.set || Array)();\n    for (var i = 0; i < nodelist.length; i++) {\n        set.push(wrap(nodelist[i]));\n    }\n    return set;\n};\n\nfunction add2group(list) {\n    if (!is(list, \"array\")) {\n        list = Array.prototype.slice.call(arguments, 0);\n    }\n    var i = 0,\n        j = 0,\n        node = this.node;\n    while (this[i]) delete this[i++];\n    for (i = 0; i < list.length; i++) {\n        if (list[i].type == \"set\") {\n            list[i].forEach(function (el) {\n                node.appendChild(el.node);\n            });\n        } else {\n            node.appendChild(list[i].node);\n        }\n    }\n    var children = node.childNodes;\n    for (i = 0; i < children.length; i++) {\n        this[j++] = wrap(children[i]);\n    }\n    return this;\n}\n// Hub garbage collector every 10s\nsetInterval(function () {\n    for (var key in hub) if (hub[has](key)) {\n        var el = hub[key],\n            node = el.node;\n        if (el.type != \"svg\" && !node.ownerSVGElement || el.type == \"svg\" && (!node.parentNode || \"ownerSVGElement\" in node.parentNode && !node.ownerSVGElement)) {\n            delete hub[key];\n        }\n    }\n}, 1e4);\nfunction Element(el) {\n    if (el.snap in hub) {\n        return hub[el.snap];\n    }\n    var svg;\n    try {\n        svg = el.ownerSVGElement;\n    } catch(e) {}\n    /*\\\n     * Element.node\n     [ property (object) ]\n     **\n     * Gives you a reference to the DOM object, so you can assign event handlers or just mess around.\n     > Usage\n     | // draw a circle at coordinate 10,10 with radius of 10\n     | var c = paper.circle(10, 10, 10);\n     | c.node.onclick = function () {\n     |     c.attr(\"fill\", \"red\");\n     | };\n    \\*/\n    this.node = el;\n    if (svg) {\n        this.paper = new Paper(svg);\n    }\n    /*\\\n     * Element.type\n     [ property (string) ]\n     **\n     * SVG tag name of the given element.\n    \\*/\n    this.type = el.tagName || el.nodeName;\n    var id = this.id = ID(this);\n    this.anims = {};\n    this._ = {\n        transform: []\n    };\n    el.snap = id;\n    hub[id] = this;\n    if (this.type == \"g\") {\n        this.add = add2group;\n    }\n    if (this.type in {g: 1, mask: 1, pattern: 1, symbol: 1}) {\n        for (var method in Paper.prototype) if (Paper.prototype[has](method)) {\n            this[method] = Paper.prototype[method];\n        }\n    }\n}\n   /*\\\n     * Element.attr\n     [ method ]\n     **\n     * Gets or sets given attributes of the element.\n     **\n     - params (object) contains key-value pairs of attributes you want to set\n     * or\n     - param (string) name of the attribute\n     = (Element) the current element\n     * or\n     = (string) value of attribute\n     > Usage\n     | el.attr({\n     |     fill: \"#fc0\",\n     |     stroke: \"#000\",\n     |     strokeWidth: 2, // CamelCase...\n     |     \"fill-opacity\": 0.5, // or dash-separated names\n     |     width: \"*=2\" // prefixed values\n     | });\n     | console.log(el.attr(\"fill\")); // #fc0\n     * Prefixed values in format `\"+=10\"` supported. All four operations\n     * (`+`, `-`, `*` and `/`) could be used. Optionally you can use units for `+`\n     * and `-`: `\"+=2em\"`.\n    \\*/\n    Element.prototype.attr = function (params, value) {\n        var el = this,\n            node = el.node;\n        if (!params) {\n            if (node.nodeType != 1) {\n                return {\n                    text: node.nodeValue\n                };\n            }\n            var attr = node.attributes,\n                out = {};\n            for (var i = 0, ii = attr.length; i < ii; i++) {\n                out[attr[i].nodeName] = attr[i].nodeValue;\n            }\n            return out;\n        }\n        if (is(params, \"string\")) {\n            if (arguments.length > 1) {\n                var json = {};\n                json[params] = value;\n                params = json;\n            } else {\n                return eve(\"snap.util.getattr.\" + params, el).firstDefined();\n            }\n        }\n        for (var att in params) {\n            if (params[has](att)) {\n                eve(\"snap.util.attr.\" + att, el, params[att]);\n            }\n        }\n        return el;\n    };\n/*\\\n * Snap.parse\n [ method ]\n **\n * Parses SVG fragment and converts it into a @Fragment\n **\n - svg (string) SVG string\n = (Fragment) the @Fragment\n\\*/\nSnap.parse = function (svg) {\n    var f = glob.doc.createDocumentFragment(),\n        full = true,\n        div = glob.doc.createElement(\"div\");\n    svg = Str(svg);\n    if (!svg.match(/^\\s*<\\s*svg(?:\\s|>)/)) {\n        svg = \"<svg>\" + svg + \"</svg>\";\n        full = false;\n    }\n    div.innerHTML = svg;\n    svg = div.getElementsByTagName(\"svg\")[0];\n    if (svg) {\n        if (full) {\n            f = svg;\n        } else {\n            while (svg.firstChild) {\n                f.appendChild(svg.firstChild);\n            }\n        }\n    }\n    return new Fragment(f);\n};\nfunction Fragment(frag) {\n    this.node = frag;\n}\n/*\\\n * Snap.fragment\n [ method ]\n **\n * Creates a DOM fragment from a given list of elements or strings\n **\n - varargs () SVG string\n = (Fragment) the @Fragment\n\\*/\nSnap.fragment = function () {\n    var args = Array.prototype.slice.call(arguments, 0),\n        f = glob.doc.createDocumentFragment();\n    for (var i = 0, ii = args.length; i < ii; i++) {\n        var item = args[i];\n        if (item.node && item.node.nodeType) {\n            f.appendChild(item.node);\n        }\n        if (item.nodeType) {\n            f.appendChild(item);\n        }\n        if (typeof item == \"string\") {\n            f.appendChild(Snap.parse(item).node);\n        }\n    }\n    return new Fragment(f);\n};\n\nfunction make(name, parent) {\n    var res = $(name);\n    parent.appendChild(res);\n    var el = wrap(res);\n    return el;\n}\nfunction Paper(w, h) {\n    var res,\n        desc,\n        defs,\n        proto = Paper.prototype;\n    if (w && w.tagName && w.tagName.toLowerCase() == \"svg\") {\n        if (w.snap in hub) {\n            return hub[w.snap];\n        }\n        var doc = w.ownerDocument;\n        res = new Element(w);\n        desc = w.getElementsByTagName(\"desc\")[0];\n        defs = w.getElementsByTagName(\"defs\")[0];\n        if (!desc) {\n            desc = $(\"desc\");\n            desc.appendChild(doc.createTextNode(\"Created with Snap\"));\n            res.node.appendChild(desc);\n        }\n        if (!defs) {\n            defs = $(\"defs\");\n            res.node.appendChild(defs);\n        }\n        res.defs = defs;\n        for (var key in proto) if (proto[has](key)) {\n            res[key] = proto[key];\n        }\n        res.paper = res.root = res;\n    } else {\n        res = make(\"svg\", glob.doc.body);\n        $(res.node, {\n            height: h,\n            version: 1.1,\n            width: w,\n            xmlns: xmlns\n        });\n    }\n    return res;\n}\nfunction wrap(dom) {\n    if (!dom) {\n        return dom;\n    }\n    if (dom instanceof Element || dom instanceof Fragment) {\n        return dom;\n    }\n    if (dom.tagName && dom.tagName.toLowerCase() == \"svg\") {\n        return new Paper(dom);\n    }\n    if (dom.tagName && dom.tagName.toLowerCase() == \"object\" && dom.type == \"image/svg+xml\") {\n        return new Paper(dom.contentDocument.getElementsByTagName(\"svg\")[0]);\n    }\n    return new Element(dom);\n}\n\nSnap._.make = make;\nSnap._.wrap = wrap;\n/*\\\n * Paper.el\n [ method ]\n **\n * Creates an element on paper with a given name and no attributes\n **\n - name (string) tag name\n - attr (object) attributes\n = (Element) the current element\n > Usage\n | var c = paper.circle(10, 10, 10); // is the same as...\n | var c = paper.el(\"circle\").attr({\n |     cx: 10,\n |     cy: 10,\n |     r: 10\n | });\n | // and the same as\n | var c = paper.el(\"circle\", {\n |     cx: 10,\n |     cy: 10,\n |     r: 10\n | });\n\\*/\nPaper.prototype.el = function (name, attr) {\n    var el = make(name, this.node);\n    attr && el.attr(attr);\n    return el;\n};\n/*\\\n * Element.children\n [ method ]\n **\n * Returns array of all the children of the element.\n = (array) array of Elements\n\\*/\nElement.prototype.children = function () {\n    var out = [],\n        ch = this.node.childNodes;\n    for (var i = 0, ii = ch.length; i < ii; i++) {\n        out[i] = Snap(ch[i]);\n    }\n    return out;\n};\nfunction jsonFiller(root, o) {\n    for (var i = 0, ii = root.length; i < ii; i++) {\n        var item = {\n                type: root[i].type,\n                attr: root[i].attr()\n            },\n            children = root[i].children();\n        o.push(item);\n        if (children.length) {\n            jsonFiller(children, item.childNodes = []);\n        }\n    }\n}\n/*\\\n * Element.toJSON\n [ method ]\n **\n * Returns object representation of the given element and all its children.\n = (object) in format\n o {\n o     type (string) this.type,\n o     attr (object) attributes map,\n o     childNodes (array) optional array of children in the same format\n o }\n\\*/\nElement.prototype.toJSON = function () {\n    var out = [];\n    jsonFiller([this], out);\n    return out[0];\n};\n// default\neve.on(\"snap.util.getattr\", function () {\n    var att = eve.nt();\n    att = att.substring(att.lastIndexOf(\".\") + 1);\n    var css = att.replace(/[A-Z]/g, function (letter) {\n        return \"-\" + letter.toLowerCase();\n    });\n    if (cssAttr[has](css)) {\n        return this.node.ownerDocument.defaultView.getComputedStyle(this.node, null).getPropertyValue(css);\n    } else {\n        return $(this.node, att);\n    }\n});\nvar cssAttr = {\n    \"alignment-baseline\": 0,\n    \"baseline-shift\": 0,\n    \"clip\": 0,\n    \"clip-path\": 0,\n    \"clip-rule\": 0,\n    \"color\": 0,\n    \"color-interpolation\": 0,\n    \"color-interpolation-filters\": 0,\n    \"color-profile\": 0,\n    \"color-rendering\": 0,\n    \"cursor\": 0,\n    \"direction\": 0,\n    \"display\": 0,\n    \"dominant-baseline\": 0,\n    \"enable-background\": 0,\n    \"fill\": 0,\n    \"fill-opacity\": 0,\n    \"fill-rule\": 0,\n    \"filter\": 0,\n    \"flood-color\": 0,\n    \"flood-opacity\": 0,\n    \"font\": 0,\n    \"font-family\": 0,\n    \"font-size\": 0,\n    \"font-size-adjust\": 0,\n    \"font-stretch\": 0,\n    \"font-style\": 0,\n    \"font-variant\": 0,\n    \"font-weight\": 0,\n    \"glyph-orientation-horizontal\": 0,\n    \"glyph-orientation-vertical\": 0,\n    \"image-rendering\": 0,\n    \"kerning\": 0,\n    \"letter-spacing\": 0,\n    \"lighting-color\": 0,\n    \"marker\": 0,\n    \"marker-end\": 0,\n    \"marker-mid\": 0,\n    \"marker-start\": 0,\n    \"mask\": 0,\n    \"opacity\": 0,\n    \"overflow\": 0,\n    \"pointer-events\": 0,\n    \"shape-rendering\": 0,\n    \"stop-color\": 0,\n    \"stop-opacity\": 0,\n    \"stroke\": 0,\n    \"stroke-dasharray\": 0,\n    \"stroke-dashoffset\": 0,\n    \"stroke-linecap\": 0,\n    \"stroke-linejoin\": 0,\n    \"stroke-miterlimit\": 0,\n    \"stroke-opacity\": 0,\n    \"stroke-width\": 0,\n    \"text-anchor\": 0,\n    \"text-decoration\": 0,\n    \"text-rendering\": 0,\n    \"unicode-bidi\": 0,\n    \"visibility\": 0,\n    \"word-spacing\": 0,\n    \"writing-mode\": 0\n};\n\neve.on(\"snap.util.attr\", function (value) {\n    var att = eve.nt(),\n        attr = {};\n    att = att.substring(att.lastIndexOf(\".\") + 1);\n    attr[att] = value;\n    var style = att.replace(/-(\\w)/gi, function (all, letter) {\n            return letter.toUpperCase();\n        }),\n        css = att.replace(/[A-Z]/g, function (letter) {\n            return \"-\" + letter.toLowerCase();\n        });\n    if (cssAttr[has](css)) {\n        this.node.style[style] = value == null ? E : value;\n    } else {\n        $(this.node, attr);\n    }\n});\n(function (proto) {}(Paper.prototype));\n\n// simple ajax\n/*\\\n * Snap.ajax\n [ method ]\n **\n * Simple implementation of Ajax\n **\n - url (string) URL\n - postData (object|string) data for post request\n - callback (function) callback\n - scope (object) #optional scope of callback\n * or\n - url (string) URL\n - callback (function) callback\n - scope (object) #optional scope of callback\n = (XMLHttpRequest) the XMLHttpRequest object, just in case\n\\*/\nSnap.ajax = function (url, postData, callback, scope){\n    var req = new XMLHttpRequest,\n        id = ID();\n    if (req) {\n        if (is(postData, \"function\")) {\n            scope = callback;\n            callback = postData;\n            postData = null;\n        } else if (is(postData, \"object\")) {\n            var pd = [];\n            for (var key in postData) if (postData.hasOwnProperty(key)) {\n                pd.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(postData[key]));\n            }\n            postData = pd.join(\"&\");\n        }\n        req.open(postData ? \"POST\" : \"GET\", url, true);\n        if (postData) {\n            req.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n            req.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        }\n        if (callback) {\n            eve.once(\"snap.ajax.\" + id + \".0\", callback);\n            eve.once(\"snap.ajax.\" + id + \".200\", callback);\n            eve.once(\"snap.ajax.\" + id + \".304\", callback);\n        }\n        req.onreadystatechange = function() {\n            if (req.readyState != 4) return;\n            eve(\"snap.ajax.\" + id + \".\" + req.status, scope, req);\n        };\n        if (req.readyState == 4) {\n            return req;\n        }\n        req.send(postData);\n        return req;\n    }\n};\n/*\\\n * Snap.load\n [ method ]\n **\n * Loads external SVG file as a @Fragment (see @Snap.ajax for more advanced AJAX)\n **\n - url (string) URL\n - callback (function) callback\n - scope (object) #optional scope of callback\n\\*/\nSnap.load = function (url, callback, scope) {\n    Snap.ajax(url, function (req) {\n        var f = Snap.parse(req.responseText);\n        scope ? callback.call(scope, f) : callback(f);\n    });\n};\nvar getOffset = function (elem) {\n    var box = elem.getBoundingClientRect(),\n        doc = elem.ownerDocument,\n        body = doc.body,\n        docElem = doc.documentElement,\n        clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\n        top  = box.top  + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,\n        left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\n    return {\n        y: top,\n        x: left\n    };\n};\n/*\\\n * Snap.getElementByPoint\n [ method ]\n **\n * Returns you topmost element under given point.\n **\n = (object) Snap element object\n - x (number) x coordinate from the top left corner of the window\n - y (number) y coordinate from the top left corner of the window\n > Usage\n | Snap.getElementByPoint(mouseX, mouseY).attr({stroke: \"#f00\"});\n\\*/\nSnap.getElementByPoint = function (x, y) {\n    var paper = this,\n        svg = paper.canvas,\n        target = glob.doc.elementFromPoint(x, y);\n    if (glob.win.opera && target.tagName == \"svg\") {\n        var so = getOffset(target),\n            sr = target.createSVGRect();\n        sr.x = x - so.x;\n        sr.y = y - so.y;\n        sr.width = sr.height = 1;\n        var hits = target.getIntersectionList(sr, null);\n        if (hits.length) {\n            target = hits[hits.length - 1];\n        }\n    }\n    if (!target) {\n        return null;\n    }\n    return wrap(target);\n};\n/*\\\n * Snap.plugin\n [ method ]\n **\n * Let you write plugins. You pass in a function with five arguments, like this:\n | Snap.plugin(function (Snap, Element, Paper, global, Fragment) {\n |     Snap.newmethod = function () {};\n |     Element.prototype.newmethod = function () {};\n |     Paper.prototype.newmethod = function () {};\n | });\n * Inside the function you have access to all main objects (and their\n * prototypes). This allow you to extend anything you want.\n **\n - f (function) your plugin body\n\\*/\nSnap.plugin = function (f) {\n    f(Snap, Element, Paper, glob, Fragment);\n};\nglob.win.Snap = Snap;\nreturn Snap;\n}(window || this));\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        Str = String,\n        unit2px = Snap._unit2px,\n        $ = Snap._.$,\n        make = Snap._.make,\n        getSomeDefs = Snap._.getSomeDefs,\n        has = \"hasOwnProperty\",\n        wrap = Snap._.wrap;\n    /*\\\n     * Element.getBBox\n     [ method ]\n     **\n     * Returns the bounding box descriptor for the given element\n     **\n     = (object) bounding box descriptor:\n     o {\n     o     cx: (number) x of the center,\n     o     cy: (number) x of the center,\n     o     h: (number) height,\n     o     height: (number) height,\n     o     path: (string) path command for the box,\n     o     r0: (number) radius of a circle that fully encloses the box,\n     o     r1: (number) radius of the smallest circle that can be enclosed,\n     o     r2: (number) radius of the largest circle that can be enclosed,\n     o     vb: (string) box as a viewbox command,\n     o     w: (number) width,\n     o     width: (number) width,\n     o     x2: (number) x of the right side,\n     o     x: (number) x of the left side,\n     o     y2: (number) y of the bottom edge,\n     o     y: (number) y of the top edge\n     o }\n    \\*/\n    elproto.getBBox = function (isWithoutTransform) {\n        if (this.type == \"tspan\") {\n            return Snap._.box(this.node.getClientRects().item(0));\n        }\n        if (!Snap.Matrix || !Snap.path) {\n            return this.node.getBBox();\n        }\n        var el = this,\n            m = new Snap.Matrix;\n        if (el.removed) {\n            return Snap._.box();\n        }\n        while (el.type == \"use\") {\n            if (!isWithoutTransform) {\n                m = m.add(el.transform().localMatrix.translate(el.attr(\"x\") || 0, el.attr(\"y\") || 0));\n            }\n            if (el.original) {\n                el = el.original;\n            } else {\n                var href = el.attr(\"xlink:href\");\n                el = el.original = el.node.ownerDocument.getElementById(href.substring(href.indexOf(\"#\") + 1));\n            }\n        }\n        var _ = el._,\n            pathfinder = Snap.path.get[el.type] || Snap.path.get.deflt;\n        try {\n            if (isWithoutTransform) {\n                _.bboxwt = pathfinder ? Snap.path.getBBox(el.realPath = pathfinder(el)) : Snap._.box(el.node.getBBox());\n                return Snap._.box(_.bboxwt);\n            } else {\n                el.realPath = pathfinder(el);\n                el.matrix = el.transform().localMatrix;\n                _.bbox = Snap.path.getBBox(Snap.path.map(el.realPath, m.add(el.matrix)));\n                return Snap._.box(_.bbox);\n            }\n        } catch (e) {\n            // Firefox doesnt give you bbox of hidden element\n            return Snap._.box();\n        }\n    };\n    var propString = function () {\n        return this.string;\n    };\n    function extractTransform(el, tstr) {\n        if (tstr == null) {\n            var doReturn = true;\n            if (el.type == \"linearGradient\" || el.type == \"radialGradient\") {\n                tstr = el.node.getAttribute(\"gradientTransform\");\n            } else if (el.type == \"pattern\") {\n                tstr = el.node.getAttribute(\"patternTransform\");\n            } else {\n                tstr = el.node.getAttribute(\"transform\");\n            }\n            if (!tstr) {\n                return new Snap.Matrix;\n            }\n            tstr = Snap._.svgTransform2string(tstr);\n        } else {\n            if (!Snap._.rgTransform.test(tstr)) {\n                tstr = Snap._.svgTransform2string(tstr);\n            } else {\n                tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, el._.transform || \"\");\n            }\n            if (is(tstr, \"array\")) {\n                tstr = Snap.path ? Snap.path.toString.call(tstr) : Str(tstr);\n            }\n            el._.transform = tstr;\n        }\n        var m = Snap._.transform2matrix(tstr, el.getBBox(1));\n        if (doReturn) {\n            return m;\n        } else {\n            el.matrix = m;\n        }\n    }\n    /*\\\n     * Element.transform\n     [ method ]\n     **\n     * Gets or sets transformation of the element\n     **\n     - tstr (string) transform string in Snap or SVG format\n     = (Element) the current element\n     * or\n     = (object) transformation descriptor:\n     o {\n     o     string (string) transform string,\n     o     globalMatrix (Matrix) matrix of all transformations applied to element or its parents,\n     o     localMatrix (Matrix) matrix of transformations applied only to the element,\n     o     diffMatrix (Matrix) matrix of difference between global and local transformations,\n     o     global (string) global transformation as string,\n     o     local (string) local transformation as string,\n     o     toString (function) returns `string` property\n     o }\n    \\*/\n    elproto.transform = function (tstr) {\n        var _ = this._;\n        if (tstr == null) {\n            var papa = this,\n                global = new Snap.Matrix(this.node.getCTM()),\n                local = extractTransform(this),\n                ms = [local],\n                m = new Snap.Matrix,\n                i,\n                localString = local.toTransformString(),\n                string = Str(local) == Str(this.matrix) ?\n                            Str(_.transform) : localString;\n            while (papa.type != \"svg\" && (papa = papa.parent())) {\n                ms.push(extractTransform(papa));\n            }\n            i = ms.length;\n            while (i--) {\n                m.add(ms[i]);\n            }\n            return {\n                string: string,\n                globalMatrix: global,\n                totalMatrix: m,\n                localMatrix: local,\n                diffMatrix: global.clone().add(local.invert()),\n                global: global.toTransformString(),\n                total: m.toTransformString(),\n                local: localString,\n                toString: propString\n            };\n        }\n        if (tstr instanceof Snap.Matrix) {\n            this.matrix = tstr;\n            this._.transform = tstr.toTransformString();\n        } else {\n            extractTransform(this, tstr);\n        }\n\n        if (this.node) {\n            if (this.type == \"linearGradient\" || this.type == \"radialGradient\") {\n                $(this.node, {gradientTransform: this.matrix});\n            } else if (this.type == \"pattern\") {\n                $(this.node, {patternTransform: this.matrix});\n            } else {\n                $(this.node, {transform: this.matrix});\n            }\n        }\n\n        return this;\n    };\n    /*\\\n     * Element.parent\n     [ method ]\n     **\n     * Returns the element's parent\n     **\n     = (Element) the parent element\n    \\*/\n    elproto.parent = function () {\n        return wrap(this.node.parentNode);\n    };\n    /*\\\n     * Element.append\n     [ method ]\n     **\n     * Appends the given element to current one\n     **\n     - el (Element|Set) element to append\n     = (Element) the parent element\n    \\*/\n    /*\\\n     * Element.add\n     [ method ]\n     **\n     * See @Element.append\n    \\*/\n    elproto.append = elproto.add = function (el) {\n        if (el) {\n            if (el.type == \"set\") {\n                var it = this;\n                el.forEach(function (el) {\n                    it.add(el);\n                });\n                return this;\n            }\n            el = wrap(el);\n            this.node.appendChild(el.node);\n            el.paper = this.paper;\n        }\n        return this;\n    };\n    /*\\\n     * Element.appendTo\n     [ method ]\n     **\n     * Appends the current element to the given one\n     **\n     - el (Element) parent element to append to\n     = (Element) the child element\n    \\*/\n    elproto.appendTo = function (el) {\n        if (el) {\n            el = wrap(el);\n            el.append(this);\n        }\n        return this;\n    };\n    /*\\\n     * Element.prepend\n     [ method ]\n     **\n     * Prepends the given element to the current one\n     **\n     - el (Element) element to prepend\n     = (Element) the parent element\n    \\*/\n    elproto.prepend = function (el) {\n        if (el) {\n            if (el.type == \"set\") {\n                var it = this,\n                    first;\n                el.forEach(function (el) {\n                    if (first) {\n                        first.after(el);\n                    } else {\n                        it.prepend(el);\n                    }\n                    first = el;\n                });\n                return this;\n            }\n            el = wrap(el);\n            var parent = el.parent();\n            this.node.insertBefore(el.node, this.node.firstChild);\n            this.add && this.add();\n            el.paper = this.paper;\n            this.parent() && this.parent().add();\n            parent && parent.add();\n        }\n        return this;\n    };\n    /*\\\n     * Element.prependTo\n     [ method ]\n     **\n     * Prepends the current element to the given one\n     **\n     - el (Element) parent element to prepend to\n     = (Element) the child element\n    \\*/\n    elproto.prependTo = function (el) {\n        el = wrap(el);\n        el.prepend(this);\n        return this;\n    };\n    /*\\\n     * Element.before\n     [ method ]\n     **\n     * Inserts given element before the current one\n     **\n     - el (Element) element to insert\n     = (Element) the parent element\n    \\*/\n    elproto.before = function (el) {\n        if (el.type == \"set\") {\n            var it = this;\n            el.forEach(function (el) {\n                var parent = el.parent();\n                it.node.parentNode.insertBefore(el.node, it.node);\n                parent && parent.add();\n            });\n            this.parent().add();\n            return this;\n        }\n        el = wrap(el);\n        var parent = el.parent();\n        this.node.parentNode.insertBefore(el.node, this.node);\n        this.parent() && this.parent().add();\n        parent && parent.add();\n        el.paper = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.after\n     [ method ]\n     **\n     * Inserts given element after the current one\n     **\n     - el (Element) element to insert\n     = (Element) the parent element\n    \\*/\n    elproto.after = function (el) {\n        el = wrap(el);\n        var parent = el.parent();\n        if (this.node.nextSibling) {\n            this.node.parentNode.insertBefore(el.node, this.node.nextSibling);\n        } else {\n            this.node.parentNode.appendChild(el.node);\n        }\n        this.parent() && this.parent().add();\n        parent && parent.add();\n        el.paper = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.insertBefore\n     [ method ]\n     **\n     * Inserts the element after the given one\n     **\n     - el (Element) element next to whom insert to\n     = (Element) the parent element\n    \\*/\n    elproto.insertBefore = function (el) {\n        el = wrap(el);\n        var parent = this.parent();\n        el.node.parentNode.insertBefore(this.node, el.node);\n        this.paper = el.paper;\n        parent && parent.add();\n        el.parent() && el.parent().add();\n        return this;\n    };\n    /*\\\n     * Element.insertAfter\n     [ method ]\n     **\n     * Inserts the element after the given one\n     **\n     - el (Element) element next to whom insert to\n     = (Element) the parent element\n    \\*/\n    elproto.insertAfter = function (el) {\n        el = wrap(el);\n        var parent = this.parent();\n        el.node.parentNode.insertBefore(this.node, el.node.nextSibling);\n        this.paper = el.paper;\n        parent && parent.add();\n        el.parent() && el.parent().add();\n        return this;\n    };\n    /*\\\n     * Element.remove\n     [ method ]\n     **\n     * Removes element from the DOM\n     = (Element) the detached element\n    \\*/\n    elproto.remove = function () {\n        var parent = this.parent();\n        this.node.parentNode && this.node.parentNode.removeChild(this.node);\n        delete this.paper;\n        this.removed = true;\n        parent && parent.add();\n        return this;\n    };\n    /*\\\n     * Element.select\n     [ method ]\n     **\n     * Gathers the nested @Element matching the given set of CSS selectors\n     **\n     - query (string) CSS selector\n     = (Element) result of query selection\n    \\*/\n    elproto.select = function (query) {\n        return wrap(this.node.querySelector(query));\n    };\n    /*\\\n     * Element.selectAll\n     [ method ]\n     **\n     * Gathers nested @Element objects matching the given set of CSS selectors\n     **\n     - query (string) CSS selector\n     = (Set|array) result of query selection\n    \\*/\n    elproto.selectAll = function (query) {\n        var nodelist = this.node.querySelectorAll(query),\n            set = (Snap.set || Array)();\n        for (var i = 0; i < nodelist.length; i++) {\n            set.push(wrap(nodelist[i]));\n        }\n        return set;\n    };\n    /*\\\n     * Element.asPX\n     [ method ]\n     **\n     * Returns given attribute of the element as a `px` value (not %, em, etc.)\n     **\n     - attr (string) attribute name\n     - value (string) #optional attribute value\n     = (Element) result of query selection\n    \\*/\n    elproto.asPX = function (attr, value) {\n        if (value == null) {\n            value = this.attr(attr);\n        }\n        return +unit2px(this, attr, value);\n    };\n    // SIERRA Element.use(): I suggest adding a note about how to access the original element the returned <use> instantiates. It's a part of SVG with which ordinary web developers may be least familiar.\n    /*\\\n     * Element.use\n     [ method ]\n     **\n     * Creates a `<use>` element linked to the current element\n     **\n     = (Element) the `<use>` element\n    \\*/\n    elproto.use = function () {\n        var use,\n            id = this.node.id;\n        if (!id) {\n            id = this.id;\n            $(this.node, {\n                id: id\n            });\n        }\n        if (this.type == \"linearGradient\" || this.type == \"radialGradient\" ||\n            this.type == \"pattern\") {\n            use = make(this.type, this.node.parentNode);\n        } else {\n            use = make(\"use\", this.node.parentNode);\n        }\n        $(use.node, {\n            \"xlink:href\": \"#\" + id\n        });\n        use.original = this;\n        return use;\n    };\n    function fixids(el) {\n        var els = el.selectAll(\"*\"),\n            it,\n            url = /^\\s*url\\((\"|'|)(.*)\\1\\)\\s*$/,\n            ids = [],\n            uses = {};\n        function urltest(it, name) {\n            var val = $(it.node, name);\n            val = val && val.match(url);\n            val = val && val[2];\n            if (val && val.charAt() == \"#\") {\n                val = val.substring(1);\n            } else {\n                return;\n            }\n            if (val) {\n                uses[val] = (uses[val] || []).concat(function (id) {\n                    var attr = {};\n                    attr[name] = Snap.url(id);\n                    $(it.node, attr);\n                });\n            }\n        }\n        function linktest(it) {\n            var val = $(it.node, \"xlink:href\");\n            if (val && val.charAt() == \"#\") {\n                val = val.substring(1);\n            } else {\n                return;\n            }\n            if (val) {\n                uses[val] = (uses[val] || []).concat(function (id) {\n                    it.attr(\"xlink:href\", \"#\" + id);\n                });\n            }\n        }\n        for (var i = 0, ii = els.length; i < ii; i++) {\n            it = els[i];\n            urltest(it, \"fill\");\n            urltest(it, \"stroke\");\n            urltest(it, \"filter\");\n            urltest(it, \"mask\");\n            urltest(it, \"clip-path\");\n            linktest(it);\n            var oldid = $(it.node, \"id\");\n            if (oldid) {\n                $(it.node, {id: it.id});\n                ids.push({\n                    old: oldid,\n                    id: it.id\n                });\n            }\n        }\n        for (i = 0, ii = ids.length; i < ii; i++) {\n            var fs = uses[ids[i].old];\n            if (fs) {\n                for (var j = 0, jj = fs.length; j < jj; j++) {\n                    fs[j](ids[i].id);\n                }\n            }\n        }\n    }\n    /*\\\n     * Element.clone\n     [ method ]\n     **\n     * Creates a clone of the element and inserts it after the element\n     **\n     = (Element) the clone\n    \\*/\n    elproto.clone = function () {\n        var clone = wrap(this.node.cloneNode(true));\n        if ($(clone.node, \"id\")) {\n            $(clone.node, {id: clone.id});\n        }\n        fixids(clone);\n        clone.insertAfter(this);\n        return clone;\n    };\n    /*\\\n     * Element.toDefs\n     [ method ]\n     **\n     * Moves element to the shared `<defs>` area\n     **\n     = (Element) the element\n    \\*/\n    elproto.toDefs = function () {\n        var defs = getSomeDefs(this);\n        defs.appendChild(this.node);\n        return this;\n    };\n    /*\\\n     * Element.toPattern\n     [ method ]\n     **\n     * Creates a `<pattern>` element from the current element\n     **\n     * To create a pattern you have to specify the pattern rect:\n     - x (string|number)\n     - y (string|number)\n     - width (string|number)\n     - height (string|number)\n     = (Element) the `<pattern>` element\n     * You can use pattern later on as an argument for `fill` attribute:\n     | var p = paper.path(\"M10-5-10,15M15,0,0,15M0-5-20,15\").attr({\n     |         fill: \"none\",\n     |         stroke: \"#bada55\",\n     |         strokeWidth: 5\n     |     }).pattern(0, 0, 10, 10),\n     |     c = paper.circle(200, 200, 100);\n     | c.attr({\n     |     fill: p\n     | });\n    \\*/\n    elproto.pattern = elproto.toPattern = function (x, y, width, height) {\n        var p = make(\"pattern\", getSomeDefs(this));\n        if (x == null) {\n            x = this.getBBox();\n        }\n        if (is(x, \"object\") && \"x\" in x) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            x = x.x;\n        }\n        $(p.node, {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            patternUnits: \"userSpaceOnUse\",\n            id: p.id,\n            viewBox: [x, y, width, height].join(\" \")\n        });\n        p.node.appendChild(this.node);\n        return p;\n    };\n// SIERRA Element.marker(): clarify what a reference point is. E.g., helps you offset the object from its edge such as when centering it over a path.\n// SIERRA Element.marker(): I suggest the method should accept default reference point values.  Perhaps centered with (refX = width/2) and (refY = height/2)? Also, couldn't it assume the element's current _width_ and _height_? And please specify what _x_ and _y_ mean: offsets? If so, from where?  Couldn't they also be assigned default values?\n    /*\\\n     * Element.marker\n     [ method ]\n     **\n     * Creates a `<marker>` element from the current element\n     **\n     * To create a marker you have to specify the bounding rect and reference point:\n     - x (number)\n     - y (number)\n     - width (number)\n     - height (number)\n     - refX (number)\n     - refY (number)\n     = (Element) the `<marker>` element\n     * You can specify the marker later as an argument for `marker-start`, `marker-end`, `marker-mid`, and `marker` attributes. The `marker` attribute places the marker at every point along the path, and `marker-mid` places them at every point except the start and end.\n    \\*/\n    // TODO add usage for markers\n    elproto.marker = function (x, y, width, height, refX, refY) {\n        var p = make(\"marker\", getSomeDefs(this));\n        if (x == null) {\n            x = this.getBBox();\n        }\n        if (is(x, \"object\") && \"x\" in x) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            refX = x.refX || x.cx;\n            refY = x.refY || x.cy;\n            x = x.x;\n        }\n        $(p.node, {\n            viewBox: [x, y, width, height].join(\" \"),\n            markerWidth: width,\n            markerHeight: height,\n            orient: \"auto\",\n            refX: refX || 0,\n            refY: refY || 0,\n            id: p.id\n        });\n        p.node.appendChild(this.node);\n        return p;\n    };\n    var eldata = {};\n    /*\\\n     * Element.data\n     [ method ]\n     **\n     * Adds or retrieves given value associated with given key. (Dont confuse\n     * with `data-` attributes)\n     *\n     * See also @Element.removeData\n     - key (string) key to store data\n     - value (any) #optional value to store\n     = (object) @Element\n     * or, if value is not specified:\n     = (any) value\n     > Usage\n     | for (var i = 0, i < 5, i++) {\n     |     paper.circle(10 + 15 * i, 10, 10)\n     |          .attr({fill: \"#000\"})\n     |          .data(\"i\", i)\n     |          .click(function () {\n     |             alert(this.data(\"i\"));\n     |          });\n     | }\n    \\*/\n    elproto.data = function (key, value) {\n        var data = eldata[this.id] = eldata[this.id] || {};\n        if (arguments.length == 0){\n            eve(\"snap.data.get.\" + this.id, this, data, null);\n            return data;\n        }\n        if (arguments.length == 1) {\n            if (Snap.is(key, \"object\")) {\n                for (var i in key) if (key[has](i)) {\n                    this.data(i, key[i]);\n                }\n                return this;\n            }\n            eve(\"snap.data.get.\" + this.id, this, data[key], key);\n            return data[key];\n        }\n        data[key] = value;\n        eve(\"snap.data.set.\" + this.id, this, value, key);\n        return this;\n    };\n    /*\\\n     * Element.removeData\n     [ method ]\n     **\n     * Removes value associated with an element by given key.\n     * If key is not provided, removes all the data of the element.\n     - key (string) #optional key\n     = (object) @Element\n    \\*/\n    elproto.removeData = function (key) {\n        if (key == null) {\n            eldata[this.id] = {};\n        } else {\n            eldata[this.id] && delete eldata[this.id][key];\n        }\n        return this;\n    };\n    /*\\\n     * Element.outerSVG\n     [ method ]\n     **\n     * Returns SVG code for the element, equivalent to HTML's `outerHTML`.\n     *\n     * See also @Element.innerSVG\n     = (string) SVG code for the element\n    \\*/\n    /*\\\n     * Element.toString\n     [ method ]\n     **\n     * See @Element.outerSVG\n    \\*/\n    elproto.outerSVG = elproto.toString = toString(1);\n    /*\\\n     * Element.innerSVG\n     [ method ]\n     **\n     * Returns SVG code for the element's contents, equivalent to HTML's `innerHTML`\n     = (string) SVG code for the element\n    \\*/\n    elproto.innerSVG = toString();\n    function toString(type) {\n        return function () {\n            var res = type ? \"<\" + this.type : \"\",\n                attr = this.node.attributes,\n                chld = this.node.childNodes;\n            if (type) {\n                for (var i = 0, ii = attr.length; i < ii; i++) {\n                    res += \" \" + attr[i].name + '=\"' +\n                            attr[i].value.replace(/\"/g, '\\\\\"') + '\"';\n                }\n            }\n            if (chld.length) {\n                type && (res += \">\");\n                for (i = 0, ii = chld.length; i < ii; i++) {\n                    if (chld[i].nodeType == 3) {\n                        res += chld[i].nodeValue;\n                    } else if (chld[i].nodeType == 1) {\n                        res += wrap(chld[i]).toString();\n                    }\n                }\n                type && (res += \"</\" + this.type + \">\");\n            } else {\n                type && (res += \"/>\");\n            }\n            return res;\n        };\n    }\n    elproto.toDataURL = function () {\n        if (window && window.btoa) {\n            var bb = this.getBBox(),\n                svg = Snap.format('<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"{width}\" height=\"{height}\" viewBox=\"{x} {y} {width} {height}\">{contents}</svg>', {\n                x: +bb.x.toFixed(3),\n                y: +bb.y.toFixed(3),\n                width: +bb.width.toFixed(3),\n                height: +bb.height.toFixed(3),\n                contents: this.outerSVG()\n            });\n            return \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(svg)));\n        }\n    };\n    /*\\\n     * Fragment.select\n     [ method ]\n     **\n     * See @Element.select\n    \\*/\n    Fragment.prototype.select = elproto.select;\n    /*\\\n     * Fragment.selectAll\n     [ method ]\n     **\n     * See @Element.selectAll\n    \\*/\n    Fragment.prototype.selectAll = elproto.selectAll;\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var objectToString = Object.prototype.toString,\n        Str = String,\n        math = Math,\n        E = \"\";\n    function Matrix(a, b, c, d, e, f) {\n        if (b == null && objectToString.call(a) == \"[object SVGMatrix]\") {\n            this.a = a.a;\n            this.b = a.b;\n            this.c = a.c;\n            this.d = a.d;\n            this.e = a.e;\n            this.f = a.f;\n            return;\n        }\n        if (a != null) {\n            this.a = +a;\n            this.b = +b;\n            this.c = +c;\n            this.d = +d;\n            this.e = +e;\n            this.f = +f;\n        } else {\n            this.a = 1;\n            this.b = 0;\n            this.c = 0;\n            this.d = 1;\n            this.e = 0;\n            this.f = 0;\n        }\n    }\n    (function (matrixproto) {\n        /*\\\n         * Matrix.add\n         [ method ]\n         **\n         * Adds the given matrix to existing one\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         * or\n         - matrix (object) @Matrix\n        \\*/\n        matrixproto.add = function (a, b, c, d, e, f) {\n            if (a && a instanceof Matrix) {\n                return this.add(a.a, a.b, a.c, a.d, a.e, a.f);\n            }\n            var aNew = a * this.a + b * this.c,\n                bNew = a * this.b + b * this.d;\n            this.e += e * this.a + f * this.c;\n            this.f += e * this.b + f * this.d;\n            this.c = c * this.a + d * this.c;\n            this.d = c * this.b + d * this.d;\n\n            this.a = aNew;\n            this.b = bNew;\n            return this;\n        };\n        /*\\\n         * Matrix.multLeft\n         [ method ]\n         **\n         * Multiplies a passed affine transform to the left: M * this.\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         * or\n         - matrix (object) @Matrix\n        \\*/\n        Matrix.prototype.multLeft = function (a, b, c, d, e, f) {\n            if (a && a instanceof Matrix) {\n                return this.multLeft(a.a, a.b, a.c, a.d, a.e, a.f);\n            }\n            var aNew = a * this.a + c * this.b,\n                cNew = a * this.c + c * this.d,\n                eNew = a * this.e + c * this.f + e;\n            this.b = b * this.a + d * this.b;\n            this.d = b * this.c + d * this.d;\n            this.f = b * this.e + d * this.f + f;\n\n            this.a = aNew;\n            this.c = cNew;\n            this.e = eNew;\n            return this;\n        };\n        /*\\\n         * Matrix.invert\n         [ method ]\n         **\n         * Returns an inverted version of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.invert = function () {\n            var me = this,\n                x = me.a * me.d - me.b * me.c;\n            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\n        };\n        /*\\\n         * Matrix.clone\n         [ method ]\n         **\n         * Returns a copy of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.clone = function () {\n            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n        };\n        /*\\\n         * Matrix.translate\n         [ method ]\n         **\n         * Translate the matrix\n         - x (number) horizontal offset distance\n         - y (number) vertical offset distance\n        \\*/\n        matrixproto.translate = function (x, y) {\n            this.e += x * this.a + y * this.c;\n            this.f += x * this.b + y * this.d;\n            return this;\n        };\n        /*\\\n         * Matrix.scale\n         [ method ]\n         **\n         * Scales the matrix\n         - x (number) amount to be scaled, with `1` resulting in no change\n         - y (number) #optional amount to scale along the vertical axis. (Otherwise `x` applies to both axes.)\n         - cx (number) #optional horizontal origin point from which to scale\n         - cy (number) #optional vertical origin point from which to scale\n         * Default cx, cy is the middle point of the element.\n        \\*/\n        matrixproto.scale = function (x, y, cx, cy) {\n            y == null && (y = x);\n            (cx || cy) && this.translate(cx, cy);\n            this.a *= x;\n            this.b *= x;\n            this.c *= y;\n            this.d *= y;\n            (cx || cy) && this.translate(-cx, -cy);\n            return this;\n        };\n        /*\\\n         * Matrix.rotate\n         [ method ]\n         **\n         * Rotates the matrix\n         - a (number) angle of rotation, in degrees\n         - x (number) horizontal origin point from which to rotate\n         - y (number) vertical origin point from which to rotate\n        \\*/\n        matrixproto.rotate = function (a, x, y) {\n            a = Snap.rad(a);\n            x = x || 0;\n            y = y || 0;\n            var cos = +math.cos(a).toFixed(9),\n                sin = +math.sin(a).toFixed(9);\n            this.add(cos, sin, -sin, cos, x, y);\n            return this.add(1, 0, 0, 1, -x, -y);\n        };\n        /*\\\n         * Matrix.skewX\n         [ method ]\n         **\n         * Skews the matrix along the x-axis\n         - x (number) Angle to skew along the x-axis (in degrees).\n        \\*/\n        matrixproto.skewX = function (x) {\n            return this.skew(x, 0);\n        };\n        /*\\\n         * Matrix.skewY\n         [ method ]\n         **\n         * Skews the matrix along the y-axis\n         - y (number) Angle to skew along the y-axis (in degrees).\n        \\*/\n        matrixproto.skewY = function (y) {\n            return this.skew(0, y);\n        };\n        /*\\\n         * Matrix.skew\n         [ method ]\n         **\n         * Skews the matrix\n         - y (number) Angle to skew along the y-axis (in degrees).\n         - x (number) Angle to skew along the x-axis (in degrees).\n        \\*/\n        matrixproto.skew = function (x, y) {\n            x = x || 0;\n            y = y || 0;\n            x = Snap.rad(x);\n            y = Snap.rad(y);\n            var c = math.tan(x).toFixed(9);\n            var b = math.tan(y).toFixed(9);\n            return this.add(1, b, c, 1, 0, 0);\n        };\n        /*\\\n         * Matrix.x\n         [ method ]\n         **\n         * Returns x coordinate for given point after transformation described by the matrix. See also @Matrix.y\n         - x (number)\n         - y (number)\n         = (number) x\n        \\*/\n        matrixproto.x = function (x, y) {\n            return x * this.a + y * this.c + this.e;\n        };\n        /*\\\n         * Matrix.y\n         [ method ]\n         **\n         * Returns y coordinate for given point after transformation described by the matrix. See also @Matrix.x\n         - x (number)\n         - y (number)\n         = (number) y\n        \\*/\n        matrixproto.y = function (x, y) {\n            return x * this.b + y * this.d + this.f;\n        };\n        matrixproto.get = function (i) {\n            return +this[Str.fromCharCode(97 + i)].toFixed(4);\n        };\n        matrixproto.toString = function () {\n            return \"matrix(\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + \")\";\n        };\n        matrixproto.offset = function () {\n            return [this.e.toFixed(4), this.f.toFixed(4)];\n        };\n        function norm(a) {\n            return a[0] * a[0] + a[1] * a[1];\n        }\n        function normalize(a) {\n            var mag = math.sqrt(norm(a));\n            a[0] && (a[0] /= mag);\n            a[1] && (a[1] /= mag);\n        }\n        /*\\\n         * Matrix.determinant\n         [ method ]\n         **\n         * Finds determinant of the given matrix.\n         = (number) determinant\n        \\*/\n        matrixproto.determinant = function () {\n            return this.a * this.d - this.b * this.c;\n        };\n        /*\\\n         * Matrix.split\n         [ method ]\n         **\n         * Splits matrix into primitive transformations\n         = (object) in format:\n         o dx (number) translation by x\n         o dy (number) translation by y\n         o scalex (number) scale by x\n         o scaley (number) scale by y\n         o shear (number) shear\n         o rotate (number) rotation in deg\n         o isSimple (boolean) could it be represented via simple transformations\n        \\*/\n        matrixproto.split = function () {\n            var out = {};\n            // translation\n            out.dx = this.e;\n            out.dy = this.f;\n\n            // scale and shear\n            var row = [[this.a, this.b], [this.c, this.d]];\n            out.scalex = math.sqrt(norm(row[0]));\n            normalize(row[0]);\n\n            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\n            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\n\n            out.scaley = math.sqrt(norm(row[1]));\n            normalize(row[1]);\n            out.shear /= out.scaley;\n\n            if (this.determinant() < 0) {\n                out.scalex = -out.scalex;\n            }\n\n            // rotation\n            var sin = row[0][1],\n                cos = row[1][1];\n            if (cos < 0) {\n                out.rotate = Snap.deg(math.acos(cos));\n                if (sin < 0) {\n                    out.rotate = 360 - out.rotate;\n                }\n            } else {\n                out.rotate = Snap.deg(math.asin(sin));\n            }\n\n            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\n            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\n            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\n            return out;\n        };\n        /*\\\n         * Matrix.toTransformString\n         [ method ]\n         **\n         * Returns transform string that represents given matrix\n         = (string) transform string\n        \\*/\n        matrixproto.toTransformString = function (shorter) {\n            var s = shorter || this.split();\n            if (!+s.shear.toFixed(9)) {\n                s.scalex = +s.scalex.toFixed(4);\n                s.scaley = +s.scaley.toFixed(4);\n                s.rotate = +s.rotate.toFixed(4);\n                return  (s.dx || s.dy ? \"t\" + [+s.dx.toFixed(4), +s.dy.toFixed(4)] : E) +\n                        (s.rotate ? \"r\" + [+s.rotate.toFixed(4), 0, 0] : E) +\n                        (s.scalex != 1 || s.scaley != 1 ? \"s\" + [s.scalex, s.scaley, 0, 0] : E);\n            } else {\n                return \"m\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\n            }\n        };\n    })(Matrix.prototype);\n    /*\\\n     * Snap.Matrix\n     [ method ]\n     **\n     * Matrix constructor, extend on your own risk.\n     * To create matrices use @Snap.matrix.\n    \\*/\n    Snap.Matrix = Matrix;\n    /*\\\n     * Snap.matrix\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns a matrix based on the given parameters\n     - a (number)\n     - b (number)\n     - c (number)\n     - d (number)\n     - e (number)\n     - f (number)\n     * or\n     - svgMatrix (SVGMatrix)\n     = (object) @Matrix\n    \\*/\n    Snap.matrix = function (a, b, c, d, e, f) {\n        return new Matrix(a, b, c, d, e, f);\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var has = \"hasOwnProperty\",\n        make = Snap._.make,\n        wrap = Snap._.wrap,\n        is = Snap.is,\n        getSomeDefs = Snap._.getSomeDefs,\n        reURLValue = /^url\\((['\"]?)([^)]+)\\1\\)$/,\n        $ = Snap._.$,\n        URL = Snap.url,\n        Str = String,\n        separator = Snap._.separator,\n        E = \"\";\n    /*\\\n     * Snap.deurl\n     [ method ]\n     **\n     * Unwraps path from `\"url(<path>)\"`.\n     - value (string) url path\n     = (string) unwrapped path\n    \\*/\n    Snap.deurl = function (value) {\n        var res = String(value).match(reURLValue);\n        return res ? res[2] : value;\n    }\n    // Attributes event handlers\n    eve.on(\"snap.util.attr.mask\", function (value) {\n        if (value instanceof Element || value instanceof Fragment) {\n            eve.stop();\n            if (value instanceof Fragment && value.node.childNodes.length == 1) {\n                value = value.node.firstChild;\n                getSomeDefs(this).appendChild(value);\n                value = wrap(value);\n            }\n            if (value.type == \"mask\") {\n                var mask = value;\n            } else {\n                mask = make(\"mask\", getSomeDefs(this));\n                mask.node.appendChild(value.node);\n            }\n            !mask.node.id && $(mask.node, {\n                id: mask.id\n            });\n            $(this.node, {\n                mask: URL(mask.id)\n            });\n        }\n    });\n    (function (clipIt) {\n        eve.on(\"snap.util.attr.clip\", clipIt);\n        eve.on(\"snap.util.attr.clip-path\", clipIt);\n        eve.on(\"snap.util.attr.clipPath\", clipIt);\n    }(function (value) {\n        if (value instanceof Element || value instanceof Fragment) {\n            eve.stop();\n            var clip,\n                node = value.node;\n            while (node) {\n                if (node.nodeName === \"clipPath\") {\n                    clip = new Element(node);\n                    break;\n                }\n                if (node.nodeName === \"svg\") {\n                    clip = undefined;\n                    break;\n                }\n                node = node.parentNode;\n            }\n            if (!clip) {\n                clip = make(\"clipPath\", getSomeDefs(this));\n                clip.node.appendChild(value.node);\n                !clip.node.id && $(clip.node, {\n                    id: clip.id\n                });\n            }\n            $(this.node, {\n                \"clip-path\": URL(clip.node.id || clip.id)\n            });\n        }\n    }));\n    function fillStroke(name) {\n        return function (value) {\n            eve.stop();\n            if (value instanceof Fragment && value.node.childNodes.length == 1 &&\n                (value.node.firstChild.tagName == \"radialGradient\" ||\n                value.node.firstChild.tagName == \"linearGradient\" ||\n                value.node.firstChild.tagName == \"pattern\")) {\n                value = value.node.firstChild;\n                getSomeDefs(this).appendChild(value);\n                value = wrap(value);\n            }\n            if (value instanceof Element) {\n                if (value.type == \"radialGradient\" || value.type == \"linearGradient\"\n                   || value.type == \"pattern\") {\n                    if (!value.node.id) {\n                        $(value.node, {\n                            id: value.id\n                        });\n                    }\n                    var fill = URL(value.node.id);\n                } else {\n                    fill = value.attr(name);\n                }\n            } else {\n                fill = Snap.color(value);\n                if (fill.error) {\n                    var grad = Snap(getSomeDefs(this).ownerSVGElement).gradient(value);\n                    if (grad) {\n                        if (!grad.node.id) {\n                            $(grad.node, {\n                                id: grad.id\n                            });\n                        }\n                        fill = URL(grad.node.id);\n                    } else {\n                        fill = value;\n                    }\n                } else {\n                    fill = Str(fill);\n                }\n            }\n            var attrs = {};\n            attrs[name] = fill;\n            $(this.node, attrs);\n            this.node.style[name] = E;\n        };\n    }\n    eve.on(\"snap.util.attr.fill\", fillStroke(\"fill\"));\n    eve.on(\"snap.util.attr.stroke\", fillStroke(\"stroke\"));\n    var gradrg = /^([lr])(?:\\(([^)]*)\\))?(.*)$/i;\n    eve.on(\"snap.util.grad.parse\", function parseGrad(string) {\n        string = Str(string);\n        var tokens = string.match(gradrg);\n        if (!tokens) {\n            return null;\n        }\n        var type = tokens[1],\n            params = tokens[2],\n            stops = tokens[3];\n        params = params.split(/\\s*,\\s*/).map(function (el) {\n            return +el == el ? +el : el;\n        });\n        if (params.length == 1 && params[0] == 0) {\n            params = [];\n        }\n        stops = stops.split(\"-\");\n        stops = stops.map(function (el) {\n            el = el.split(\":\");\n            var out = {\n                color: el[0]\n            };\n            if (el[1]) {\n                out.offset = parseFloat(el[1]);\n            }\n            return out;\n        });\n        var len = stops.length,\n            start = 0,\n            j = 0;\n        function seed(i, end) {\n            var step = (end - start) / (i - j);\n            for (var k = j; k < i; k++) {\n                stops[k].offset = +(+start + step * (k - j)).toFixed(2);\n            }\n            j = i;\n            start = end;\n        }\n        len--;\n        for (var i = 0; i < len; i++) if (\"offset\" in stops[i]) {\n            seed(i, stops[i].offset);\n        }\n        stops[len].offset = stops[len].offset || 100;\n        seed(len, stops[len].offset);\n        return {\n            type: type,\n            params: params,\n            stops: stops\n        };\n    });\n\n    eve.on(\"snap.util.attr.d\", function (value) {\n        eve.stop();\n        if (is(value, \"array\") && is(value[0], \"array\")) {\n            value = Snap.path.toString.call(value);\n        }\n        value = Str(value);\n        if (value.match(/[ruo]/i)) {\n            value = Snap.path.toAbsolute(value);\n        }\n        $(this.node, {d: value});\n    })(-1);\n    eve.on(\"snap.util.attr.#text\", function (value) {\n        eve.stop();\n        value = Str(value);\n        var txt = glob.doc.createTextNode(value);\n        while (this.node.firstChild) {\n            this.node.removeChild(this.node.firstChild);\n        }\n        this.node.appendChild(txt);\n    })(-1);\n    eve.on(\"snap.util.attr.path\", function (value) {\n        eve.stop();\n        this.attr({d: value});\n    })(-1);\n    eve.on(\"snap.util.attr.class\", function (value) {\n        eve.stop();\n        this.node.className.baseVal = value;\n    })(-1);\n    eve.on(\"snap.util.attr.viewBox\", function (value) {\n        var vb;\n        if (is(value, \"object\") && \"x\" in value) {\n            vb = [value.x, value.y, value.width, value.height].join(\" \");\n        } else if (is(value, \"array\")) {\n            vb = value.join(\" \");\n        } else {\n            vb = value;\n        }\n        $(this.node, {\n            viewBox: vb\n        });\n        eve.stop();\n    })(-1);\n    eve.on(\"snap.util.attr.transform\", function (value) {\n        this.transform(value);\n        eve.stop();\n    })(-1);\n    eve.on(\"snap.util.attr.r\", function (value) {\n        if (this.type == \"rect\") {\n            eve.stop();\n            $(this.node, {\n                rx: value,\n                ry: value\n            });\n        }\n    })(-1);\n    eve.on(\"snap.util.attr.textpath\", function (value) {\n        eve.stop();\n        if (this.type == \"text\") {\n            var id, tp, node;\n            if (!value && this.textPath) {\n                tp = this.textPath;\n                while (tp.node.firstChild) {\n                    this.node.appendChild(tp.node.firstChild);\n                }\n                tp.remove();\n                delete this.textPath;\n                return;\n            }\n            if (is(value, \"string\")) {\n                var defs = getSomeDefs(this),\n                    path = wrap(defs.parentNode).path(value);\n                defs.appendChild(path.node);\n                id = path.id;\n                path.attr({id: id});\n            } else {\n                value = wrap(value);\n                if (value instanceof Element) {\n                    id = value.attr(\"id\");\n                    if (!id) {\n                        id = value.id;\n                        value.attr({id: id});\n                    }\n                }\n            }\n            if (id) {\n                tp = this.textPath;\n                node = this.node;\n                if (tp) {\n                    tp.attr({\"xlink:href\": \"#\" + id});\n                } else {\n                    tp = $(\"textPath\", {\n                        \"xlink:href\": \"#\" + id\n                    });\n                    while (node.firstChild) {\n                        tp.appendChild(node.firstChild);\n                    }\n                    node.appendChild(tp);\n                    this.textPath = wrap(tp);\n                }\n            }\n        }\n    })(-1);\n    eve.on(\"snap.util.attr.text\", function (value) {\n        if (this.type == \"text\") {\n            var i = 0,\n                node = this.node,\n                tuner = function (chunk) {\n                    var out = $(\"tspan\");\n                    if (is(chunk, \"array\")) {\n                        for (var i = 0; i < chunk.length; i++) {\n                            out.appendChild(tuner(chunk[i]));\n                        }\n                    } else {\n                        out.appendChild(glob.doc.createTextNode(chunk));\n                    }\n                    out.normalize && out.normalize();\n                    return out;\n                };\n            while (node.firstChild) {\n                node.removeChild(node.firstChild);\n            }\n            var tuned = tuner(value);\n            while (tuned.firstChild) {\n                node.appendChild(tuned.firstChild);\n            }\n        }\n        eve.stop();\n    })(-1);\n    function setFontSize(value) {\n        eve.stop();\n        if (value == +value) {\n            value += \"px\";\n        }\n        this.node.style.fontSize = value;\n    }\n    eve.on(\"snap.util.attr.fontSize\", setFontSize)(-1);\n    eve.on(\"snap.util.attr.font-size\", setFontSize)(-1);\n\n\n    eve.on(\"snap.util.getattr.transform\", function () {\n        eve.stop();\n        return this.transform();\n    })(-1);\n    eve.on(\"snap.util.getattr.textpath\", function () {\n        eve.stop();\n        return this.textPath;\n    })(-1);\n    // Markers\n    (function () {\n        function getter(end) {\n            return function () {\n                eve.stop();\n                var style = glob.doc.defaultView.getComputedStyle(this.node, null).getPropertyValue(\"marker-\" + end);\n                if (style == \"none\") {\n                    return style;\n                } else {\n                    return Snap(glob.doc.getElementById(style.match(reURLValue)[1]));\n                }\n            };\n        }\n        function setter(end) {\n            return function (value) {\n                eve.stop();\n                var name = \"marker\" + end.charAt(0).toUpperCase() + end.substring(1);\n                if (value == \"\" || !value) {\n                    this.node.style[name] = \"none\";\n                    return;\n                }\n                if (value.type == \"marker\") {\n                    var id = value.node.id;\n                    if (!id) {\n                        $(value.node, {id: value.id});\n                    }\n                    this.node.style[name] = URL(id);\n                    return;\n                }\n            };\n        }\n        eve.on(\"snap.util.getattr.marker-end\", getter(\"end\"))(-1);\n        eve.on(\"snap.util.getattr.markerEnd\", getter(\"end\"))(-1);\n        eve.on(\"snap.util.getattr.marker-start\", getter(\"start\"))(-1);\n        eve.on(\"snap.util.getattr.markerStart\", getter(\"start\"))(-1);\n        eve.on(\"snap.util.getattr.marker-mid\", getter(\"mid\"))(-1);\n        eve.on(\"snap.util.getattr.markerMid\", getter(\"mid\"))(-1);\n        eve.on(\"snap.util.attr.marker-end\", setter(\"end\"))(-1);\n        eve.on(\"snap.util.attr.markerEnd\", setter(\"end\"))(-1);\n        eve.on(\"snap.util.attr.marker-start\", setter(\"start\"))(-1);\n        eve.on(\"snap.util.attr.markerStart\", setter(\"start\"))(-1);\n        eve.on(\"snap.util.attr.marker-mid\", setter(\"mid\"))(-1);\n        eve.on(\"snap.util.attr.markerMid\", setter(\"mid\"))(-1);\n    }());\n    eve.on(\"snap.util.getattr.r\", function () {\n        if (this.type == \"rect\" && $(this.node, \"rx\") == $(this.node, \"ry\")) {\n            eve.stop();\n            return $(this.node, \"rx\");\n        }\n    })(-1);\n    function textExtract(node) {\n        var out = [];\n        var children = node.childNodes;\n        for (var i = 0, ii = children.length; i < ii; i++) {\n            var chi = children[i];\n            if (chi.nodeType == 3) {\n                out.push(chi.nodeValue);\n            }\n            if (chi.tagName == \"tspan\") {\n                if (chi.childNodes.length == 1 && chi.firstChild.nodeType == 3) {\n                    out.push(chi.firstChild.nodeValue);\n                } else {\n                    out.push(textExtract(chi));\n                }\n            }\n        }\n        return out;\n    }\n    eve.on(\"snap.util.getattr.text\", function () {\n        if (this.type == \"text\" || this.type == \"tspan\") {\n            eve.stop();\n            var out = textExtract(this.node);\n            return out.length == 1 ? out[0] : out;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.#text\", function () {\n        return this.node.textContent;\n    })(-1);\n    eve.on(\"snap.util.getattr.fill\", function (internal) {\n        if (internal) {\n            return;\n        }\n        eve.stop();\n        var value = eve(\"snap.util.getattr.fill\", this, true).firstDefined();\n        return Snap(Snap.deurl(value)) || value;\n    })(-1);\n    eve.on(\"snap.util.getattr.stroke\", function (internal) {\n        if (internal) {\n            return;\n        }\n        eve.stop();\n        var value = eve(\"snap.util.getattr.stroke\", this, true).firstDefined();\n        return Snap(Snap.deurl(value)) || value;\n    })(-1);\n    eve.on(\"snap.util.getattr.viewBox\", function () {\n        eve.stop();\n        var vb = $(this.node, \"viewBox\");\n        if (vb) {\n            vb = vb.split(separator);\n            return Snap._.box(+vb[0], +vb[1], +vb[2], +vb[3]);\n        } else {\n            return;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.points\", function () {\n        var p = $(this.node, \"points\");\n        eve.stop();\n        if (p) {\n            return p.split(separator);\n        } else {\n            return;\n        }\n    })(-1);\n    eve.on(\"snap.util.getattr.path\", function () {\n        var p = $(this.node, \"d\");\n        eve.stop();\n        return p;\n    })(-1);\n    eve.on(\"snap.util.getattr.class\", function () {\n        return this.node.className.baseVal;\n    })(-1);\n    function getFontSize() {\n        eve.stop();\n        return this.node.style.fontSize;\n    }\n    eve.on(\"snap.util.getattr.fontSize\", getFontSize)(-1);\n    eve.on(\"snap.util.getattr.font-size\", getFontSize)(-1);\n});\n\n// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var rgNotSpace = /\\S+/g,\n        rgBadSpace = /[\\t\\r\\n\\f]/g,\n        rgTrim = /(^\\s+|\\s+$)/g,\n        Str = String,\n        elproto = Element.prototype;\n    /*\\\n     * Element.addClass\n     [ method ]\n     **\n     * Adds given class name or list of class names to the element.\n     - value (string) class name or space separated list of class names\n     **\n     = (Element) original element.\n    \\*/\n    elproto.addClass = function (value) {\n        var classes = Str(value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n\n        if (classes.length) {\n            j = 0;\n            while (clazz = classes[j++]) {\n                pos = curClasses.indexOf(clazz);\n                if (!~pos) {\n                    curClasses.push(clazz);\n                }\n            }\n\n            finalValue = curClasses.join(\" \");\n            if (className != finalValue) {\n                elem.className.baseVal = finalValue;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Element.removeClass\n     [ method ]\n     **\n     * Removes given class name or list of class names from the element.\n     - value (string) class name or space separated list of class names\n     **\n     = (Element) original element.\n    \\*/\n    elproto.removeClass = function (value) {\n        var classes = Str(value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n        if (curClasses.length) {\n            j = 0;\n            while (clazz = classes[j++]) {\n                pos = curClasses.indexOf(clazz);\n                if (~pos) {\n                    curClasses.splice(pos, 1);\n                }\n            }\n\n            finalValue = curClasses.join(\" \");\n            if (className != finalValue) {\n                elem.className.baseVal = finalValue;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Element.hasClass\n     [ method ]\n     **\n     * Checks if the element has a given class name in the list of class names applied to it.\n     - value (string) class name\n     **\n     = (boolean) `true` if the element has given class\n    \\*/\n    elproto.hasClass = function (value) {\n        var elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [];\n        return !!~curClasses.indexOf(value);\n    };\n    /*\\\n     * Element.toggleClass\n     [ method ]\n     **\n     * Add or remove one or more classes from the element, depending on either\n     * the classs presence or the value of the `flag` argument.\n     - value (string) class name or space separated list of class names\n     - flag (boolean) value to determine whether the class should be added or removed\n     **\n     = (Element) original element.\n    \\*/\n    elproto.toggleClass = function (value, flag) {\n        if (flag != null) {\n            if (flag) {\n                return this.addClass(value);\n            } else {\n                return this.removeClass(value);\n            }\n        }\n        var classes = (value || \"\").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n        j = 0;\n        while (clazz = classes[j++]) {\n            pos = curClasses.indexOf(clazz);\n            if (~pos) {\n                curClasses.splice(pos, 1);\n            } else {\n                curClasses.push(clazz);\n            }\n        }\n\n        finalValue = curClasses.join(\" \");\n        if (className != finalValue) {\n            elem.className.baseVal = finalValue;\n        }\n        return this;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var operators = {\n            \"+\": function (x, y) {\n                    return x + y;\n                },\n            \"-\": function (x, y) {\n                    return x - y;\n                },\n            \"/\": function (x, y) {\n                    return x / y;\n                },\n            \"*\": function (x, y) {\n                    return x * y;\n                }\n        },\n        Str = String,\n        reUnit = /[a-z]+$/i,\n        reAddon = /^\\s*([+\\-\\/*])\\s*=\\s*([\\d.eE+\\-]+)\\s*([^\\d\\s]+)?\\s*$/;\n    function getNumber(val) {\n        return val;\n    }\n    function getUnit(unit) {\n        return function (val) {\n            return +val.toFixed(3) + unit;\n        };\n    }\n    eve.on(\"snap.util.attr\", function (val) {\n        var plus = Str(val).match(reAddon);\n        if (plus) {\n            var evnt = eve.nt(),\n                name = evnt.substring(evnt.lastIndexOf(\".\") + 1),\n                a = this.attr(name),\n                atr = {};\n            eve.stop();\n            var unit = plus[3] || \"\",\n                aUnit = a.match(reUnit),\n                op = operators[plus[1]];\n            if (aUnit && aUnit == unit) {\n                val = op(parseFloat(a), +plus[2]);\n            } else {\n                a = this.asPX(name);\n                val = op(this.asPX(name), this.asPX(name, plus[2] + unit));\n            }\n            if (isNaN(a) || isNaN(val)) {\n                return;\n            }\n            atr[name] = val;\n            this.attr(atr);\n        }\n    })(-10);\n    eve.on(\"snap.util.equal\", function (name, b) {\n        var A, B, a = Str(this.attr(name) || \"\"),\n            el = this,\n            bplus = Str(b).match(reAddon);\n        if (bplus) {\n            eve.stop();\n            var unit = bplus[3] || \"\",\n                aUnit = a.match(reUnit),\n                op = operators[bplus[1]];\n            if (aUnit && aUnit == unit) {\n                return {\n                    from: parseFloat(a),\n                    to: op(parseFloat(a), +bplus[2]),\n                    f: getUnit(aUnit)\n                };\n            } else {\n                a = this.asPX(name);\n                return {\n                    from: a,\n                    to: op(a, this.asPX(name, bplus[2] + unit)),\n                    f: getNumber\n                };\n            }\n        }\n    })(-10);\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var proto = Paper.prototype,\n        is = Snap.is;\n    /*\\\n     * Paper.rect\n     [ method ]\n     *\n     * Draws a rectangle\n     **\n     - x (number) x coordinate of the top left corner\n     - y (number) y coordinate of the top left corner\n     - width (number) width\n     - height (number) height\n     - rx (number) #optional horizontal radius for rounded corners, default is 0\n     - ry (number) #optional vertical radius for rounded corners, default is rx or 0\n     = (object) the `rect` element\n     **\n     > Usage\n     | // regular rectangle\n     | var c = paper.rect(10, 10, 50, 50);\n     | // rectangle with rounded corners\n     | var c = paper.rect(40, 40, 50, 50, 10);\n    \\*/\n    proto.rect = function (x, y, w, h, rx, ry) {\n        var attr;\n        if (ry == null) {\n            ry = rx;\n        }\n        if (is(x, \"object\") && x == \"[object Object]\") {\n            attr = x;\n        } else if (x != null) {\n            attr = {\n                x: x,\n                y: y,\n                width: w,\n                height: h\n            };\n            if (rx != null) {\n                attr.rx = rx;\n                attr.ry = ry;\n            }\n        }\n        return this.el(\"rect\", attr);\n    };\n    /*\\\n     * Paper.circle\n     [ method ]\n     **\n     * Draws a circle\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - r (number) radius\n     = (object) the `circle` element\n     **\n     > Usage\n     | var c = paper.circle(50, 50, 40);\n    \\*/\n    proto.circle = function (cx, cy, r) {\n        var attr;\n        if (is(cx, \"object\") && cx == \"[object Object]\") {\n            attr = cx;\n        } else if (cx != null) {\n            attr = {\n                cx: cx,\n                cy: cy,\n                r: r\n            };\n        }\n        return this.el(\"circle\", attr);\n    };\n\n    var preload = (function () {\n        function onerror() {\n            this.parentNode.removeChild(this);\n        }\n        return function (src, f) {\n            var img = glob.doc.createElement(\"img\"),\n                body = glob.doc.body;\n            img.style.cssText = \"position:absolute;left:-9999em;top:-9999em\";\n            img.onload = function () {\n                f.call(img);\n                img.onload = img.onerror = null;\n                body.removeChild(img);\n            };\n            img.onerror = onerror;\n            body.appendChild(img);\n            img.src = src;\n        };\n    }());\n\n    /*\\\n     * Paper.image\n     [ method ]\n     **\n     * Places an image on the surface\n     **\n     - src (string) URI of the source image\n     - x (number) x offset position\n     - y (number) y offset position\n     - width (number) width of the image\n     - height (number) height of the image\n     = (object) the `image` element\n     * or\n     = (object) Snap element object with type `image`\n     **\n     > Usage\n     | var c = paper.image(\"apple.png\", 10, 10, 80, 80);\n    \\*/\n    proto.image = function (src, x, y, width, height) {\n        var el = this.el(\"image\");\n        if (is(src, \"object\") && \"src\" in src) {\n            el.attr(src);\n        } else if (src != null) {\n            var set = {\n                \"xlink:href\": src,\n                preserveAspectRatio: \"none\"\n            };\n            if (x != null && y != null) {\n                set.x = x;\n                set.y = y;\n            }\n            if (width != null && height != null) {\n                set.width = width;\n                set.height = height;\n            } else {\n                preload(src, function () {\n                    Snap._.$(el.node, {\n                        width: this.offsetWidth,\n                        height: this.offsetHeight\n                    });\n                });\n            }\n            Snap._.$(el.node, set);\n        }\n        return el;\n    };\n    /*\\\n     * Paper.ellipse\n     [ method ]\n     **\n     * Draws an ellipse\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - rx (number) horizontal radius\n     - ry (number) vertical radius\n     = (object) the `ellipse` element\n     **\n     > Usage\n     | var c = paper.ellipse(50, 50, 40, 20);\n    \\*/\n    proto.ellipse = function (cx, cy, rx, ry) {\n        var attr;\n        if (is(cx, \"object\") && cx == \"[object Object]\") {\n            attr = cx;\n        } else if (cx != null) {\n            attr ={\n                cx: cx,\n                cy: cy,\n                rx: rx,\n                ry: ry\n            };\n        }\n        return this.el(\"ellipse\", attr);\n    };\n    // SIERRA Paper.path(): Unclear from the link what a Catmull-Rom curveto is, and why it would make life any easier.\n    /*\\\n     * Paper.path\n     [ method ]\n     **\n     * Creates a `<path>` element using the given string as the path's definition\n     - pathString (string) #optional path string in SVG format\n     * Path string consists of one-letter commands, followed by comma seprarated arguments in numerical form. Example:\n     | \"M10,20L30,40\"\n     * This example features two commands: `M`, with arguments `(10, 20)` and `L` with arguments `(30, 40)`. Uppercase letter commands express coordinates in absolute terms, while lowercase commands express them in relative terms from the most recently declared coordinates.\n     *\n     # <p>Here is short list of commands available, for more details see <a href=\"http://www.w3.org/TR/SVG/paths.html#PathData\" title=\"Details of a path's data attribute's format are described in the SVG specification.\">SVG path string format</a> or <a href=\"https://developer.mozilla.org/en/SVG/Tutorial/Paths\">article about path strings at MDN</a>.</p>\n     # <table><thead><tr><th>Command</th><th>Name</th><th>Parameters</th></tr></thead><tbody>\n     # <tr><td>M</td><td>moveto</td><td>(x y)+</td></tr>\n     # <tr><td>Z</td><td>closepath</td><td>(none)</td></tr>\n     # <tr><td>L</td><td>lineto</td><td>(x y)+</td></tr>\n     # <tr><td>H</td><td>horizontal lineto</td><td>x+</td></tr>\n     # <tr><td>V</td><td>vertical lineto</td><td>y+</td></tr>\n     # <tr><td>C</td><td>curveto</td><td>(x1 y1 x2 y2 x y)+</td></tr>\n     # <tr><td>S</td><td>smooth curveto</td><td>(x2 y2 x y)+</td></tr>\n     # <tr><td>Q</td><td>quadratic Bzier curveto</td><td>(x1 y1 x y)+</td></tr>\n     # <tr><td>T</td><td>smooth quadratic Bzier curveto</td><td>(x y)+</td></tr>\n     # <tr><td>A</td><td>elliptical arc</td><td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td></tr>\n     # <tr><td>R</td><td><a href=\"http://en.wikipedia.org/wiki/CatmullRom_spline#Catmull.E2.80.93Rom_spline\">Catmull-Rom curveto</a>*</td><td>x1 y1 (x y)+</td></tr></tbody></table>\n     * * _Catmull-Rom curveto_ is a not standard SVG command and added to make life easier.\n     * Note: there is a special case when a path consists of only three commands: `M10,10Rz`. In this case the path connects back to its starting point.\n     > Usage\n     | var c = paper.path(\"M10 10L90 90\");\n     | // draw a diagonal line:\n     | // move to 10,10, line to 90,90\n    \\*/\n    proto.path = function (d) {\n        var attr;\n        if (is(d, \"object\") && !is(d, \"array\")) {\n            attr = d;\n        } else if (d) {\n            attr = {d: d};\n        }\n        return this.el(\"path\", attr);\n    };\n    /*\\\n     * Paper.g\n     [ method ]\n     **\n     * Creates a group element\n     **\n     - varargs () #optional elements to nest within the group\n     = (object) the `g` element\n     **\n     > Usage\n     | var c1 = paper.circle(),\n     |     c2 = paper.rect(),\n     |     g = paper.g(c2, c1); // note that the order of elements is different\n     * or\n     | var c1 = paper.circle(),\n     |     c2 = paper.rect(),\n     |     g = paper.g();\n     | g.add(c2, c1);\n    \\*/\n    /*\\\n     * Paper.group\n     [ method ]\n     **\n     * See @Paper.g\n    \\*/\n    proto.group = proto.g = function (first) {\n        var attr,\n            el = this.el(\"g\");\n        if (arguments.length == 1 && first && !first.type) {\n            el.attr(first);\n        } else if (arguments.length) {\n            el.add(Array.prototype.slice.call(arguments, 0));\n        }\n        return el;\n    };\n    /*\\\n     * Paper.svg\n     [ method ]\n     **\n     * Creates a nested SVG element.\n     - x (number) @optional X of the element\n     - y (number) @optional Y of the element\n     - width (number) @optional width of the element\n     - height (number) @optional height of the element\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     **\n     = (object) the `svg` element\n     **\n    \\*/\n    proto.svg = function (x, y, width, height, vbx, vby, vbw, vbh) {\n        var attrs = {};\n        if (is(x, \"object\") && y == null) {\n            attrs = x;\n        } else {\n            if (x != null) {\n                attrs.x = x;\n            }\n            if (y != null) {\n                attrs.y = y;\n            }\n            if (width != null) {\n                attrs.width = width;\n            }\n            if (height != null) {\n                attrs.height = height;\n            }\n            if (vbx != null && vby != null && vbw != null && vbh != null) {\n                attrs.viewBox = [vbx, vby, vbw, vbh];\n            }\n        }\n        return this.el(\"svg\", attrs);\n    };\n    /*\\\n     * Paper.mask\n     [ method ]\n     **\n     * Equivalent in behaviour to @Paper.g, except its a mask.\n     **\n     = (object) the `mask` element\n     **\n    \\*/\n    proto.mask = function (first) {\n        var attr,\n            el = this.el(\"mask\");\n        if (arguments.length == 1 && first && !first.type) {\n            el.attr(first);\n        } else if (arguments.length) {\n            el.add(Array.prototype.slice.call(arguments, 0));\n        }\n        return el;\n    };\n    /*\\\n     * Paper.ptrn\n     [ method ]\n     **\n     * Equivalent in behaviour to @Paper.g, except its a pattern.\n     - x (number) @optional X of the element\n     - y (number) @optional Y of the element\n     - width (number) @optional width of the element\n     - height (number) @optional height of the element\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     **\n     = (object) the `pattern` element\n     **\n    \\*/\n    proto.ptrn = function (x, y, width, height, vx, vy, vw, vh) {\n        if (is(x, \"object\")) {\n            var attr = x;\n        } else {\n            attr = {patternUnits: \"userSpaceOnUse\"};\n            if (x) {\n                attr.x = x;\n            }\n            if (y) {\n                attr.y = y;\n            }\n            if (width != null) {\n                attr.width = width;\n            }\n            if (height != null) {\n                attr.height = height;\n            }\n            if (vx != null && vy != null && vw != null && vh != null) {\n                attr.viewBox = [vx, vy, vw, vh];\n            } else {\n                attr.viewBox = [x || 0, y || 0, width || 0, height || 0];\n            }\n        }\n        return this.el(\"pattern\", attr);\n    };\n    /*\\\n     * Paper.use\n     [ method ]\n     **\n     * Creates a <use> element.\n     - id (string) @optional id of element to link\n     * or\n     - id (Element) @optional element to link\n     **\n     = (object) the `use` element\n     **\n    \\*/\n    proto.use = function (id) {\n        if (id != null) {\n            if (id instanceof Element) {\n                if (!id.attr(\"id\")) {\n                    id.attr({id: Snap._.id(id)});\n                }\n                id = id.attr(\"id\");\n            }\n            if (String(id).charAt() == \"#\") {\n                id = id.substring(1);\n            }\n            return this.el(\"use\", {\"xlink:href\": \"#\" + id});\n        } else {\n            return Element.prototype.use.call(this);\n        }\n    };\n    /*\\\n     * Paper.symbol\n     [ method ]\n     **\n     * Creates a <symbol> element.\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     = (object) the `symbol` element\n     **\n    \\*/\n    proto.symbol = function (vx, vy, vw, vh) {\n        var attr = {};\n        if (vx != null && vy != null && vw != null && vh != null) {\n            attr.viewBox = [vx, vy, vw, vh];\n        }\n\n        return this.el(\"symbol\", attr);\n    };\n    /*\\\n     * Paper.text\n     [ method ]\n     **\n     * Draws a text string\n     **\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - text (string|array) The text string to draw or array of strings to nest within separate `<tspan>` elements\n     = (object) the `text` element\n     **\n     > Usage\n     | var t1 = paper.text(50, 50, \"Snap\");\n     | var t2 = paper.text(50, 50, [\"S\",\"n\",\"a\",\"p\"]);\n     | // Text path usage\n     | t1.attr({textpath: \"M10,10L100,100\"});\n     | // or\n     | var pth = paper.path(\"M10,10L100,100\");\n     | t1.attr({textpath: pth});\n    \\*/\n    proto.text = function (x, y, text) {\n        var attr = {};\n        if (is(x, \"object\")) {\n            attr = x;\n        } else if (x != null) {\n            attr = {\n                x: x,\n                y: y,\n                text: text || \"\"\n            };\n        }\n        return this.el(\"text\", attr);\n    };\n    /*\\\n     * Paper.line\n     [ method ]\n     **\n     * Draws a line\n     **\n     - x1 (number) x coordinate position of the start\n     - y1 (number) y coordinate position of the start\n     - x2 (number) x coordinate position of the end\n     - y2 (number) y coordinate position of the end\n     = (object) the `line` element\n     **\n     > Usage\n     | var t1 = paper.line(50, 50, 100, 100);\n    \\*/\n    proto.line = function (x1, y1, x2, y2) {\n        var attr = {};\n        if (is(x1, \"object\")) {\n            attr = x1;\n        } else if (x1 != null) {\n            attr = {\n                x1: x1,\n                x2: x2,\n                y1: y1,\n                y2: y2\n            };\n        }\n        return this.el(\"line\", attr);\n    };\n    /*\\\n     * Paper.polyline\n     [ method ]\n     **\n     * Draws a polyline\n     **\n     - points (array) array of points\n     * or\n     - varargs () points\n     = (object) the `polyline` element\n     **\n     > Usage\n     | var p1 = paper.polyline([10, 10, 100, 100]);\n     | var p2 = paper.polyline(10, 10, 100, 100);\n    \\*/\n    proto.polyline = function (points) {\n        if (arguments.length > 1) {\n            points = Array.prototype.slice.call(arguments, 0);\n        }\n        var attr = {};\n        if (is(points, \"object\") && !is(points, \"array\")) {\n            attr = points;\n        } else if (points != null) {\n            attr = {points: points};\n        }\n        return this.el(\"polyline\", attr);\n    };\n    /*\\\n     * Paper.polygon\n     [ method ]\n     **\n     * Draws a polygon. See @Paper.polyline\n    \\*/\n    proto.polygon = function (points) {\n        if (arguments.length > 1) {\n            points = Array.prototype.slice.call(arguments, 0);\n        }\n        var attr = {};\n        if (is(points, \"object\") && !is(points, \"array\")) {\n            attr = points;\n        } else if (points != null) {\n            attr = {points: points};\n        }\n        return this.el(\"polygon\", attr);\n    };\n    // gradients\n    (function () {\n        var $ = Snap._.$;\n        // gradients' helpers\n        /*\\\n         * Element.stops\n         [ method ]\n         **\n         * Only for gradients!\n         * Returns array of gradient stops elements.\n         = (array) the stops array.\n        \\*/\n        function Gstops() {\n            return this.selectAll(\"stop\");\n        }\n        /*\\\n         * Element.addStop\n         [ method ]\n         **\n         * Only for gradients!\n         * Adds another stop to the gradient.\n         - color (string) stops color\n         - offset (number) stops offset 0..100\n         = (object) gradient element\n        \\*/\n        function GaddStop(color, offset) {\n            var stop = $(\"stop\"),\n                attr = {\n                    offset: +offset + \"%\"\n                };\n            color = Snap.color(color);\n            attr[\"stop-color\"] = color.hex;\n            if (color.opacity < 1) {\n                attr[\"stop-opacity\"] = color.opacity;\n            }\n            $(stop, attr);\n            var stops = this.stops(),\n                inserted;\n            for (var i = 0; i < stops.length; i++) {\n                var stopOffset = parseFloat(stops[i].attr(\"offset\"));\n                if (stopOffset > offset) {\n                    this.node.insertBefore(stop, stops[i].node);\n                    inserted = true;\n                    break;\n                }\n            }\n            if (!inserted) {\n                this.node.appendChild(stop);\n            }\n            return this;\n        }\n        function GgetBBox() {\n            if (this.type == \"linearGradient\") {\n                var x1 = $(this.node, \"x1\") || 0,\n                    x2 = $(this.node, \"x2\") || 1,\n                    y1 = $(this.node, \"y1\") || 0,\n                    y2 = $(this.node, \"y2\") || 0;\n                return Snap._.box(x1, y1, math.abs(x2 - x1), math.abs(y2 - y1));\n            } else {\n                var cx = this.node.cx || .5,\n                    cy = this.node.cy || .5,\n                    r = this.node.r || 0;\n                return Snap._.box(cx - r, cy - r, r * 2, r * 2);\n            }\n        }\n        /*\\\n         * Element.setStops\n         [ method ]\n         **\n         * Only for gradients!\n         * Updates stops of the gradient based on passed gradient descriptor. See @Ppaer.gradient\n         - str (string) gradient descriptor part after `()`.\n         = (object) gradient element\n         | var g = paper.gradient(\"l(0, 0, 1, 1)#000-#f00-#fff\");\n         | g.setStops(\"#fff-#000-#f00-#fc0\");\n        \\*/\n        function GsetStops(str) {\n            var grad = str,\n                stops = this.stops();\n            if (typeof str == \"string\") {\n                grad = eve(\"snap.util.grad.parse\", null, \"l(0,0,0,1)\" + str).firstDefined().stops;\n            }\n            if (!Snap.is(grad, \"array\")) {\n                return;\n            }\n            for (var i = 0; i < stops.length; i++) {\n                if (grad[i]) {\n                    var color = Snap.color(grad[i].color),\n                        attr = {\"offset\": grad[i].offset + \"%\"};\n                    attr[\"stop-color\"] = color.hex;\n                    if (color.opacity < 1) {\n                        attr[\"stop-opacity\"] = color.opacity;\n                    }\n                    stops[i].attr(attr);\n                } else {\n                    stops[i].remove();\n                }\n            }\n            for (i = stops.length; i < grad.length; i++) {\n                this.addStop(grad[i].color, grad[i].offset);\n            }\n            return this;\n        }\n        function gradient(defs, str) {\n            var grad = eve(\"snap.util.grad.parse\", null, str).firstDefined(),\n                el;\n            if (!grad) {\n                return null;\n            }\n            grad.params.unshift(defs);\n            if (grad.type.toLowerCase() == \"l\") {\n                el = gradientLinear.apply(0, grad.params);\n            } else {\n                el = gradientRadial.apply(0, grad.params);\n            }\n            if (grad.type != grad.type.toLowerCase()) {\n                $(el.node, {\n                    gradientUnits: \"userSpaceOnUse\"\n                });\n            }\n            var stops = grad.stops,\n                len = stops.length;\n            for (var i = 0; i < len; i++) {\n                var stop = stops[i];\n                el.addStop(stop.color, stop.offset);\n            }\n            return el;\n        }\n        function gradientLinear(defs, x1, y1, x2, y2) {\n            var el = Snap._.make(\"linearGradient\", defs);\n            el.stops = Gstops;\n            el.addStop = GaddStop;\n            el.getBBox = GgetBBox;\n            el.setStops = GsetStops;\n            if (x1 != null) {\n                $(el.node, {\n                    x1: x1,\n                    y1: y1,\n                    x2: x2,\n                    y2: y2\n                });\n            }\n            return el;\n        }\n        function gradientRadial(defs, cx, cy, r, fx, fy) {\n            var el = Snap._.make(\"radialGradient\", defs);\n            el.stops = Gstops;\n            el.addStop = GaddStop;\n            el.getBBox = GgetBBox;\n            if (cx != null) {\n                $(el.node, {\n                    cx: cx,\n                    cy: cy,\n                    r: r\n                });\n            }\n            if (fx != null && fy != null) {\n                $(el.node, {\n                    fx: fx,\n                    fy: fy\n                });\n            }\n            return el;\n        }\n        /*\\\n         * Paper.gradient\n         [ method ]\n         **\n         * Creates a gradient element\n         **\n         - gradient (string) gradient descriptor\n         > Gradient Descriptor\n         * The gradient descriptor is an expression formatted as\n         * follows: `<type>(<coords>)<colors>`.  The `<type>` can be\n         * either linear or radial.  The uppercase `L` or `R` letters\n         * indicate absolute coordinates offset from the SVG surface.\n         * Lowercase `l` or `r` letters indicate coordinates\n         * calculated relative to the element to which the gradient is\n         * applied.  Coordinates specify a linear gradient vector as\n         * `x1`, `y1`, `x2`, `y2`, or a radial gradient as `cx`, `cy`,\n         * `r` and optional `fx`, `fy` specifying a focal point away\n         * from the center of the circle. Specify `<colors>` as a list\n         * of dash-separated CSS color values.  Each color may be\n         * followed by a custom offset value, separated with a colon\n         * character.\n         > Examples\n         * Linear gradient, relative from top-left corner to bottom-right\n         * corner, from black through red to white:\n         | var g = paper.gradient(\"l(0, 0, 1, 1)#000-#f00-#fff\");\n         * Linear gradient, absolute from (0, 0) to (100, 100), from black\n         * through red at 25% to white:\n         | var g = paper.gradient(\"L(0, 0, 100, 100)#000-#f00:25-#fff\");\n         * Radial gradient, relative from the center of the element with radius\n         * half the width, from black to white:\n         | var g = paper.gradient(\"r(0.5, 0.5, 0.5)#000-#fff\");\n         * To apply the gradient:\n         | paper.circle(50, 50, 40).attr({\n         |     fill: g\n         | });\n         = (object) the `gradient` element\n        \\*/\n        proto.gradient = function (str) {\n            return gradient(this.defs, str);\n        };\n        proto.gradientLinear = function (x1, y1, x2, y2) {\n            return gradientLinear(this.defs, x1, y1, x2, y2);\n        };\n        proto.gradientRadial = function (cx, cy, r, fx, fy) {\n            return gradientRadial(this.defs, cx, cy, r, fx, fy);\n        };\n        /*\\\n         * Paper.toString\n         [ method ]\n         **\n         * Returns SVG code for the @Paper\n         = (string) SVG code for the @Paper\n        \\*/\n        proto.toString = function () {\n            var doc = this.node.ownerDocument,\n                f = doc.createDocumentFragment(),\n                d = doc.createElement(\"div\"),\n                svg = this.node.cloneNode(true),\n                res;\n            f.appendChild(d);\n            d.appendChild(svg);\n            Snap._.$(svg, {xmlns: \"http://www.w3.org/2000/svg\"});\n            res = d.innerHTML;\n            f.removeChild(f.firstChild);\n            return res;\n        };\n        /*\\\n         * Paper.toDataURL\n         [ method ]\n         **\n         * Returns SVG code for the @Paper as Data URI string.\n         = (string) Data URI string\n        \\*/\n        proto.toDataURL = function () {\n            if (window && window.btoa) {\n                return \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(this)));\n            }\n        };\n        /*\\\n         * Paper.clear\n         [ method ]\n         **\n         * Removes all child nodes of the paper, except <defs>.\n        \\*/\n        proto.clear = function () {\n            var node = this.node.firstChild,\n                next;\n            while (node) {\n                next = node.nextSibling;\n                if (node.tagName != \"defs\") {\n                    node.parentNode.removeChild(node);\n                } else {\n                    proto.clear.call({node: node});\n                }\n                node = next;\n            }\n        };\n    }());\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        clone = Snap._.clone,\n        has = \"hasOwnProperty\",\n        p2s = /,?([a-z]),?/gi,\n        toFloat = parseFloat,\n        math = Math,\n        PI = math.PI,\n        mmin = math.min,\n        mmax = math.max,\n        pow = math.pow,\n        abs = math.abs;\n    function paths(ps) {\n        var p = paths.ps = paths.ps || {};\n        if (p[ps]) {\n            p[ps].sleep = 100;\n        } else {\n            p[ps] = {\n                sleep: 100\n            };\n        }\n        setTimeout(function () {\n            for (var key in p) if (p[has](key) && key != ps) {\n                p[key].sleep--;\n                !p[key].sleep && delete p[key];\n            }\n        });\n        return p[ps];\n    }\n    function box(x, y, width, height) {\n        if (x == null) {\n            x = y = width = height = 0;\n        }\n        if (y == null) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            x = x.x;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            w: width,\n            height: height,\n            h: height,\n            x2: x + width,\n            y2: y + height,\n            cx: x + width / 2,\n            cy: y + height / 2,\n            r1: math.min(width, height) / 2,\n            r2: math.max(width, height) / 2,\n            r0: math.sqrt(width * width + height * height) / 2,\n            path: rectPath(x, y, width, height),\n            vb: [x, y, width, height].join(\" \")\n        };\n    }\n    function toString() {\n        return this.join(\",\").replace(p2s, \"$1\");\n    }\n    function pathClone(pathArray) {\n        var res = clone(pathArray);\n        res.toString = toString;\n        return res;\n    }\n    function getPointAtSegmentLength(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\n        if (length == null) {\n            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\n        } else {\n            return findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y,\n                getTotLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\n        }\n    }\n    function getLengthFactory(istotal, subpath) {\n        function O(val) {\n            return +(+val).toFixed(3);\n        }\n        return Snap._.cacher(function (path, length, onlystart) {\n            if (path instanceof Element) {\n                path = path.attr(\"d\");\n            }\n            path = path2curve(path);\n            var x, y, p, l, sp = \"\", subpaths = {}, point,\n                len = 0;\n            for (var i = 0, ii = path.length; i < ii; i++) {\n                p = path[i];\n                if (p[0] == \"M\") {\n                    x = +p[1];\n                    y = +p[2];\n                } else {\n                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                    if (len + l > length) {\n                        if (subpath && !subpaths.start) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            sp += [\n                                \"C\" + O(point.start.x),\n                                O(point.start.y),\n                                O(point.m.x),\n                                O(point.m.y),\n                                O(point.x),\n                                O(point.y)\n                            ];\n                            if (onlystart) {return sp;}\n                            subpaths.start = sp;\n                            sp = [\n                                \"M\" + O(point.x),\n                                O(point.y) + \"C\" + O(point.n.x),\n                                O(point.n.y),\n                                O(point.end.x),\n                                O(point.end.y),\n                                O(p[5]),\n                                O(p[6])\n                            ].join();\n                            len += l;\n                            x = +p[5];\n                            y = +p[6];\n                            continue;\n                        }\n                        if (!istotal && !subpath) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            return point;\n                        }\n                    }\n                    len += l;\n                    x = +p[5];\n                    y = +p[6];\n                }\n                sp += p.shift() + p;\n            }\n            subpaths.end = sp;\n            point = istotal ? len : subpath ? subpaths : findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\n            return point;\n        }, null, Snap._.clone);\n    }\n    var getTotalLength = getLengthFactory(1),\n        getPointAtLength = getLengthFactory(),\n        getSubpathsAtLength = getLengthFactory(0, 1);\n    function findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t,\n            t13 = pow(t1, 3),\n            t12 = pow(t1, 2),\n            t2 = t * t,\n            t3 = t2 * t,\n            x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n            y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\n            mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\n            my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\n            nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\n            ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\n            ax = t1 * p1x + t * c1x,\n            ay = t1 * p1y + t * c1y,\n            cx = t1 * c2x + t * p2x,\n            cy = t1 * c2y + t * p2y,\n            alpha = 90 - math.atan2(mx - nx, my - ny) * 180 / PI;\n        // (mx > nx || my < ny) && (alpha += 180);\n        return {\n            x: x,\n            y: y,\n            m: {x: mx, y: my},\n            n: {x: nx, y: ny},\n            start: {x: ax, y: ay},\n            end: {x: cx, y: cy},\n            alpha: alpha\n        };\n    }\n    function bezierBBox(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n        if (!Snap.is(p1x, \"array\")) {\n            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n        }\n        var bbox = curveDim.apply(null, p1x);\n        return box(\n            bbox.min.x,\n            bbox.min.y,\n            bbox.max.x - bbox.min.x,\n            bbox.max.y - bbox.min.y\n        );\n    }\n    function isPointInsideBBox(bbox, x, y) {\n        return  x >= bbox.x &&\n                x <= bbox.x + bbox.width &&\n                y >= bbox.y &&\n                y <= bbox.y + bbox.height;\n    }\n    function isBBoxIntersect(bbox1, bbox2) {\n        bbox1 = box(bbox1);\n        bbox2 = box(bbox2);\n        return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n            || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n            || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n            || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n            || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n            || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n            || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n            || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n            || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n                || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n            && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n                || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n    }\n    function base3(t, p1, p2, p3, p4) {\n        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n            t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n        return t * t2 - 3 * p1 + 3 * p2;\n    }\n    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n        if (z == null) {\n            z = 1;\n        }\n        z = z > 1 ? 1 : z < 0 ? 0 : z;\n        var z2 = z / 2,\n            n = 12,\n            Tvalues = [-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],\n            Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n            sum = 0;\n        for (var i = 0; i < n; i++) {\n            var ct = z2 * Tvalues[i] + z2,\n                xbase = base3(ct, x1, x2, x3, x4),\n                ybase = base3(ct, y1, y2, y3, y4),\n                comb = xbase * xbase + ybase * ybase;\n            sum += Cvalues[i] * math.sqrt(comb);\n        }\n        return z2 * sum;\n    }\n    function getTotLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\n        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\n            return;\n        }\n        var t = 1,\n            step = t / 2,\n            t2 = t - step,\n            l,\n            e = .01;\n        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        while (abs(l - ll) > e) {\n            step /= 2;\n            t2 += (l < ll ? 1 : -1) * step;\n            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        }\n        return t2;\n    }\n    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n        if (\n            mmax(x1, x2) < mmin(x3, x4) ||\n            mmin(x1, x2) > mmax(x3, x4) ||\n            mmax(y1, y2) < mmin(y3, y4) ||\n            mmin(y1, y2) > mmax(y3, y4)\n        ) {\n            return;\n        }\n        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n            ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n            denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n        if (!denominator) {\n            return;\n        }\n        var px = nx / denominator,\n            py = ny / denominator,\n            px2 = +px.toFixed(2),\n            py2 = +py.toFixed(2);\n        if (\n            px2 < +mmin(x1, x2).toFixed(2) ||\n            px2 > +mmax(x1, x2).toFixed(2) ||\n            px2 < +mmin(x3, x4).toFixed(2) ||\n            px2 > +mmax(x3, x4).toFixed(2) ||\n            py2 < +mmin(y1, y2).toFixed(2) ||\n            py2 > +mmax(y1, y2).toFixed(2) ||\n            py2 < +mmin(y3, y4).toFixed(2) ||\n            py2 > +mmax(y3, y4).toFixed(2)\n        ) {\n            return;\n        }\n        return {x: px, y: py};\n    }\n    function inter(bez1, bez2) {\n        return interHelper(bez1, bez2);\n    }\n    function interCount(bez1, bez2) {\n        return interHelper(bez1, bez2, 1);\n    }\n    function interHelper(bez1, bez2, justCount) {\n        var bbox1 = bezierBBox(bez1),\n            bbox2 = bezierBBox(bez2);\n        if (!isBBoxIntersect(bbox1, bbox2)) {\n            return justCount ? 0 : [];\n        }\n        var l1 = bezlen.apply(0, bez1),\n            l2 = bezlen.apply(0, bez2),\n            n1 = ~~(l1 / 8),\n            n2 = ~~(l2 / 8),\n            dots1 = [],\n            dots2 = [],\n            xy = {},\n            res = justCount ? 0 : [];\n        for (var i = 0; i < n1 + 1; i++) {\n            var p = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n            dots1.push({x: p.x, y: p.y, t: i / n1});\n        }\n        for (i = 0; i < n2 + 1; i++) {\n            p = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n            dots2.push({x: p.x, y: p.y, t: i / n2});\n        }\n        for (i = 0; i < n1; i++) {\n            for (var j = 0; j < n2; j++) {\n                var di = dots1[i],\n                    di1 = dots1[i + 1],\n                    dj = dots2[j],\n                    dj1 = dots2[j + 1],\n                    ci = abs(di1.x - di.x) < .001 ? \"y\" : \"x\",\n                    cj = abs(dj1.x - dj.x) < .001 ? \"y\" : \"x\",\n                    is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n                if (is) {\n                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\n                        continue;\n                    }\n                    xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n                        t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                    if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n                        if (justCount) {\n                            res++;\n                        } else {\n                            res.push({\n                                x: is.x,\n                                y: is.y,\n                                t1: t1,\n                                t2: t2\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    function pathIntersection(path1, path2) {\n        return interPathHelper(path1, path2);\n    }\n    function pathIntersectionNumber(path1, path2) {\n        return interPathHelper(path1, path2, 1);\n    }\n    function interPathHelper(path1, path2, justCount) {\n        path1 = path2curve(path1);\n        path2 = path2curve(path2);\n        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n            res = justCount ? 0 : [];\n        for (var i = 0, ii = path1.length; i < ii; i++) {\n            var pi = path1[i];\n            if (pi[0] == \"M\") {\n                x1 = x1m = pi[1];\n                y1 = y1m = pi[2];\n            } else {\n                if (pi[0] == \"C\") {\n                    bez1 = [x1, y1].concat(pi.slice(1));\n                    x1 = bez1[6];\n                    y1 = bez1[7];\n                } else {\n                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                    x1 = x1m;\n                    y1 = y1m;\n                }\n                for (var j = 0, jj = path2.length; j < jj; j++) {\n                    var pj = path2[j];\n                    if (pj[0] == \"M\") {\n                        x2 = x2m = pj[1];\n                        y2 = y2m = pj[2];\n                    } else {\n                        if (pj[0] == \"C\") {\n                            bez2 = [x2, y2].concat(pj.slice(1));\n                            x2 = bez2[6];\n                            y2 = bez2[7];\n                        } else {\n                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                            x2 = x2m;\n                            y2 = y2m;\n                        }\n                        var intr = interHelper(bez1, bez2, justCount);\n                        if (justCount) {\n                            res += intr;\n                        } else {\n                            for (var k = 0, kk = intr.length; k < kk; k++) {\n                                intr[k].segment1 = i;\n                                intr[k].segment2 = j;\n                                intr[k].bez1 = bez1;\n                                intr[k].bez2 = bez2;\n                            }\n                            res = res.concat(intr);\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    function isPointInsidePath(path, x, y) {\n        var bbox = pathBBox(path);\n        return isPointInsideBBox(bbox, x, y) &&\n               interPathHelper(path, [[\"M\", x, y], [\"H\", bbox.x2 + 10]], 1) % 2 == 1;\n    }\n    function pathBBox(path) {\n        var pth = paths(path);\n        if (pth.bbox) {\n            return clone(pth.bbox);\n        }\n        if (!path) {\n            return box();\n        }\n        path = path2curve(path);\n        var x = 0,\n            y = 0,\n            X = [],\n            Y = [],\n            p;\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            p = path[i];\n            if (p[0] == \"M\") {\n                x = p[1];\n                y = p[2];\n                X.push(x);\n                Y.push(y);\n            } else {\n                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                X = X.concat(dim.min.x, dim.max.x);\n                Y = Y.concat(dim.min.y, dim.max.y);\n                x = p[5];\n                y = p[6];\n            }\n        }\n        var xmin = mmin.apply(0, X),\n            ymin = mmin.apply(0, Y),\n            xmax = mmax.apply(0, X),\n            ymax = mmax.apply(0, Y),\n            bb = box(xmin, ymin, xmax - xmin, ymax - ymin);\n        pth.bbox = clone(bb);\n        return bb;\n    }\n    function rectPath(x, y, w, h, r) {\n        if (r) {\n            return [\n                [\"M\", +x + +r, y],\n                [\"l\", w - r * 2, 0],\n                [\"a\", r, r, 0, 0, 1, r, r],\n                [\"l\", 0, h - r * 2],\n                [\"a\", r, r, 0, 0, 1, -r, r],\n                [\"l\", r * 2 - w, 0],\n                [\"a\", r, r, 0, 0, 1, -r, -r],\n                [\"l\", 0, r * 2 - h],\n                [\"a\", r, r, 0, 0, 1, r, -r],\n                [\"z\"]\n            ];\n        }\n        var res = [[\"M\", x, y], [\"l\", w, 0], [\"l\", 0, h], [\"l\", -w, 0], [\"z\"]];\n        res.toString = toString;\n        return res;\n    }\n    function ellipsePath(x, y, rx, ry, a) {\n        if (a == null && ry == null) {\n            ry = rx;\n        }\n        x = +x;\n        y = +y;\n        rx = +rx;\n        ry = +ry;\n        if (a != null) {\n            var rad = Math.PI / 180,\n                x1 = x + rx * Math.cos(-ry * rad),\n                x2 = x + rx * Math.cos(-a * rad),\n                y1 = y + rx * Math.sin(-ry * rad),\n                y2 = y + rx * Math.sin(-a * rad),\n                res = [[\"M\", x1, y1], [\"A\", rx, rx, 0, +(a - ry > 180), 0, x2, y2]];\n        } else {\n            res = [\n                [\"M\", x, y],\n                [\"m\", 0, -ry],\n                [\"a\", rx, ry, 0, 1, 1, 0, 2 * ry],\n                [\"a\", rx, ry, 0, 1, 1, 0, -2 * ry],\n                [\"z\"]\n            ];\n        }\n        res.toString = toString;\n        return res;\n    }\n    var unit2px = Snap._unit2px,\n        getPath = {\n        path: function (el) {\n            return el.attr(\"path\");\n        },\n        circle: function (el) {\n            var attr = unit2px(el);\n            return ellipsePath(attr.cx, attr.cy, attr.r);\n        },\n        ellipse: function (el) {\n            var attr = unit2px(el);\n            return ellipsePath(attr.cx || 0, attr.cy || 0, attr.rx, attr.ry);\n        },\n        rect: function (el) {\n            var attr = unit2px(el);\n            return rectPath(attr.x || 0, attr.y || 0, attr.width, attr.height, attr.rx, attr.ry);\n        },\n        image: function (el) {\n            var attr = unit2px(el);\n            return rectPath(attr.x || 0, attr.y || 0, attr.width, attr.height);\n        },\n        line: function (el) {\n            return \"M\" + [el.attr(\"x1\") || 0, el.attr(\"y1\") || 0, el.attr(\"x2\"), el.attr(\"y2\")];\n        },\n        polyline: function (el) {\n            return \"M\" + el.attr(\"points\");\n        },\n        polygon: function (el) {\n            return \"M\" + el.attr(\"points\") + \"z\";\n        },\n        deflt: function (el) {\n            var bbox = el.node.getBBox();\n            return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n        }\n    };\n    function pathToRelative(pathArray) {\n        var pth = paths(pathArray),\n            lowerCase = String.prototype.toLowerCase;\n        if (pth.rel) {\n            return pathClone(pth.rel);\n        }\n        if (!Snap.is(pathArray, \"array\") || !Snap.is(pathArray && pathArray[0], \"array\")) {\n            pathArray = Snap.parsePathString(pathArray);\n        }\n        var res = [],\n            x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0;\n        if (pathArray[0][0] == \"M\") {\n            x = pathArray[0][1];\n            y = pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res.push([\"M\", x, y]);\n        }\n        for (var i = start, ii = pathArray.length; i < ii; i++) {\n            var r = res[i] = [],\n                pa = pathArray[i];\n            if (pa[0] != lowerCase.call(pa[0])) {\n                r[0] = lowerCase.call(pa[0]);\n                switch (r[0]) {\n                    case \"a\":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +(pa[6] - x).toFixed(3);\n                        r[7] = +(pa[7] - y).toFixed(3);\n                        break;\n                    case \"v\":\n                        r[1] = +(pa[1] - y).toFixed(3);\n                        break;\n                    case \"m\":\n                        mx = pa[1];\n                        my = pa[2];\n                    default:\n                        for (var j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +(pa[j] - (j % 2 ? x : y)).toFixed(3);\n                        }\n                }\n            } else {\n                r = res[i] = [];\n                if (pa[0] == \"m\") {\n                    mx = pa[1] + x;\n                    my = pa[2] + y;\n                }\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    res[i][k] = pa[k];\n                }\n            }\n            var len = res[i].length;\n            switch (res[i][0]) {\n                case \"z\":\n                    x = mx;\n                    y = my;\n                    break;\n                case \"h\":\n                    x += +res[i][len - 1];\n                    break;\n                case \"v\":\n                    y += +res[i][len - 1];\n                    break;\n                default:\n                    x += +res[i][len - 2];\n                    y += +res[i][len - 1];\n            }\n        }\n        res.toString = toString;\n        pth.rel = pathClone(res);\n        return res;\n    }\n    function pathToAbsolute(pathArray) {\n        var pth = paths(pathArray);\n        if (pth.abs) {\n            return pathClone(pth.abs);\n        }\n        if (!is(pathArray, \"array\") || !is(pathArray && pathArray[0], \"array\")) { // rough assumption\n            pathArray = Snap.parsePathString(pathArray);\n        }\n        if (!pathArray || !pathArray.length) {\n            return [[\"M\", 0, 0]];\n        }\n        var res = [],\n            x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0,\n            pa0;\n        if (pathArray[0][0] == \"M\") {\n            x = +pathArray[0][1];\n            y = +pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res[0] = [\"M\", x, y];\n        }\n        var crz = pathArray.length == 3 &&\n            pathArray[0][0] == \"M\" &&\n            pathArray[1][0].toUpperCase() == \"R\" &&\n            pathArray[2][0].toUpperCase() == \"Z\";\n        for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n            res.push(r = []);\n            pa = pathArray[i];\n            pa0 = pa[0];\n            if (pa0 != pa0.toUpperCase()) {\n                r[0] = pa0.toUpperCase();\n                switch (r[0]) {\n                    case \"A\":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +pa[6] + x;\n                        r[7] = +pa[7] + y;\n                        break;\n                    case \"V\":\n                        r[1] = +pa[1] + y;\n                        break;\n                    case \"H\":\n                        r[1] = +pa[1] + x;\n                        break;\n                    case \"R\":\n                        var dots = [x, y].concat(pa.slice(1));\n                        for (var j = 2, jj = dots.length; j < jj; j++) {\n                            dots[j] = +dots[j] + x;\n                            dots[++j] = +dots[j] + y;\n                        }\n                        res.pop();\n                        res = res.concat(catmullRom2bezier(dots, crz));\n                        break;\n                    case \"O\":\n                        res.pop();\n                        dots = ellipsePath(x, y, pa[1], pa[2]);\n                        dots.push(dots[0]);\n                        res = res.concat(dots);\n                        break;\n                    case \"U\":\n                        res.pop();\n                        res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                        r = [\"U\"].concat(res[res.length - 1].slice(-2));\n                        break;\n                    case \"M\":\n                        mx = +pa[1] + x;\n                        my = +pa[2] + y;\n                    default:\n                        for (j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +pa[j] + (j % 2 ? x : y);\n                        }\n                }\n            } else if (pa0 == \"R\") {\n                dots = [x, y].concat(pa.slice(1));\n                res.pop();\n                res = res.concat(catmullRom2bezier(dots, crz));\n                r = [\"R\"].concat(pa.slice(-2));\n            } else if (pa0 == \"O\") {\n                res.pop();\n                dots = ellipsePath(x, y, pa[1], pa[2]);\n                dots.push(dots[0]);\n                res = res.concat(dots);\n            } else if (pa0 == \"U\") {\n                res.pop();\n                res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                r = [\"U\"].concat(res[res.length - 1].slice(-2));\n            } else {\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    r[k] = pa[k];\n                }\n            }\n            pa0 = pa0.toUpperCase();\n            if (pa0 != \"O\") {\n                switch (r[0]) {\n                    case \"Z\":\n                        x = +mx;\n                        y = +my;\n                        break;\n                    case \"H\":\n                        x = r[1];\n                        break;\n                    case \"V\":\n                        y = r[1];\n                        break;\n                    case \"M\":\n                        mx = r[r.length - 2];\n                        my = r[r.length - 1];\n                    default:\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                }\n            }\n        }\n        res.toString = toString;\n        pth.abs = pathClone(res);\n        return res;\n    }\n    function l2c(x1, y1, x2, y2) {\n        return [x1, y1, x2, y2, x2, y2];\n    }\n    function q2c(x1, y1, ax, ay, x2, y2) {\n        var _13 = 1 / 3,\n            _23 = 2 / 3;\n        return [\n                _13 * x1 + _23 * ax,\n                _13 * y1 + _23 * ay,\n                _13 * x2 + _23 * ax,\n                _13 * y2 + _23 * ay,\n                x2,\n                y2\n            ];\n    }\n    function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n        // for more information of where this math came from visit:\n        // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n        var _120 = PI * 120 / 180,\n            rad = PI / 180 * (+angle || 0),\n            res = [],\n            xy,\n            rotate = Snap._.cacher(function (x, y, rad) {\n                var X = x * math.cos(rad) - y * math.sin(rad),\n                    Y = x * math.sin(rad) + y * math.cos(rad);\n                return {x: X, y: Y};\n            });\n        if (!rx || !ry) {\n            return [x1, y1, x2, y2, x2, y2];\n        }\n        if (!recursive) {\n            xy = rotate(x1, y1, -rad);\n            x1 = xy.x;\n            y1 = xy.y;\n            xy = rotate(x2, y2, -rad);\n            x2 = xy.x;\n            y2 = xy.y;\n            var cos = math.cos(PI / 180 * angle),\n                sin = math.sin(PI / 180 * angle),\n                x = (x1 - x2) / 2,\n                y = (y1 - y2) / 2;\n            var h = x * x / (rx * rx) + y * y / (ry * ry);\n            if (h > 1) {\n                h = math.sqrt(h);\n                rx = h * rx;\n                ry = h * ry;\n            }\n            var rx2 = rx * rx,\n                ry2 = ry * ry,\n                k = (large_arc_flag == sweep_flag ? -1 : 1) *\n                    math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n                cx = k * rx * y / ry + (x1 + x2) / 2,\n                cy = k * -ry * x / rx + (y1 + y2) / 2,\n                f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n                f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n            f1 = x1 < cx ? PI - f1 : f1;\n            f2 = x2 < cx ? PI - f2 : f2;\n            f1 < 0 && (f1 = PI * 2 + f1);\n            f2 < 0 && (f2 = PI * 2 + f2);\n            if (sweep_flag && f1 > f2) {\n                f1 = f1 - PI * 2;\n            }\n            if (!sweep_flag && f2 > f1) {\n                f2 = f2 - PI * 2;\n            }\n        } else {\n            f1 = recursive[0];\n            f2 = recursive[1];\n            cx = recursive[2];\n            cy = recursive[3];\n        }\n        var df = f2 - f1;\n        if (abs(df) > _120) {\n            var f2old = f2,\n                x2old = x2,\n                y2old = y2;\n            f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n            x2 = cx + rx * math.cos(f2);\n            y2 = cy + ry * math.sin(f2);\n            res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n        }\n        df = f2 - f1;\n        var c1 = math.cos(f1),\n            s1 = math.sin(f1),\n            c2 = math.cos(f2),\n            s2 = math.sin(f2),\n            t = math.tan(df / 4),\n            hx = 4 / 3 * rx * t,\n            hy = 4 / 3 * ry * t,\n            m1 = [x1, y1],\n            m2 = [x1 + hx * s1, y1 - hy * c1],\n            m3 = [x2 + hx * s2, y2 - hy * c2],\n            m4 = [x2, y2];\n        m2[0] = 2 * m1[0] - m2[0];\n        m2[1] = 2 * m1[1] - m2[1];\n        if (recursive) {\n            return [m2, m3, m4].concat(res);\n        } else {\n            res = [m2, m3, m4].concat(res).join().split(\",\");\n            var newres = [];\n            for (var i = 0, ii = res.length; i < ii; i++) {\n                newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n            }\n            return newres;\n        }\n    }\n    function findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t;\n        return {\n            x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\n            y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\n        };\n    }\n\n    // Returns bounding box of cubic bezier curve.\n    // Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n    // Original version: NISHIO Hirokazu\n    // Modifications: https://github.com/timo22345\n    function curveDim(x0, y0, x1, y1, x2, y2, x3, y3) {\n        var tvalues = [],\n            bounds = [[], []],\n            a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n        for (var i = 0; i < 2; ++i) {\n            if (i == 0) {\n                b = 6 * x0 - 12 * x1 + 6 * x2;\n                a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n                c = 3 * x1 - 3 * x0;\n            } else {\n                b = 6 * y0 - 12 * y1 + 6 * y2;\n                a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n                c = 3 * y1 - 3 * y0;\n            }\n            if (abs(a) < 1e-12) {\n                if (abs(b) < 1e-12) {\n                    continue;\n                }\n                t = -c / b;\n                if (0 < t && t < 1) {\n                    tvalues.push(t);\n                }\n                continue;\n            }\n            b2ac = b * b - 4 * c * a;\n            sqrtb2ac = math.sqrt(b2ac);\n            if (b2ac < 0) {\n                continue;\n            }\n            t1 = (-b + sqrtb2ac) / (2 * a);\n            if (0 < t1 && t1 < 1) {\n                tvalues.push(t1);\n            }\n            t2 = (-b - sqrtb2ac) / (2 * a);\n            if (0 < t2 && t2 < 1) {\n                tvalues.push(t2);\n            }\n        }\n\n        var x, y, j = tvalues.length,\n            jlen = j,\n            mt;\n        while (j--) {\n            t = tvalues[j];\n            mt = 1 - t;\n            bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n            bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n        }\n\n        bounds[0][jlen] = x0;\n        bounds[1][jlen] = y0;\n        bounds[0][jlen + 1] = x3;\n        bounds[1][jlen + 1] = y3;\n        bounds[0].length = bounds[1].length = jlen + 2;\n\n\n        return {\n          min: {x: mmin.apply(0, bounds[0]), y: mmin.apply(0, bounds[1])},\n          max: {x: mmax.apply(0, bounds[0]), y: mmax.apply(0, bounds[1])}\n        };\n    }\n\n    function path2curve(path, path2) {\n        var pth = !path2 && paths(path);\n        if (!path2 && pth.curve) {\n            return pathClone(pth.curve);\n        }\n        var p = pathToAbsolute(path),\n            p2 = path2 && pathToAbsolute(path2),\n            attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n            attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n            processPath = function (path, d, pcom) {\n                var nx, ny;\n                if (!path) {\n                    return [\"C\", d.x, d.y, d.x, d.y, d.x, d.y];\n                }\n                !(path[0] in {T: 1, Q: 1}) && (d.qx = d.qy = null);\n                switch (path[0]) {\n                    case \"M\":\n                        d.X = path[1];\n                        d.Y = path[2];\n                        break;\n                    case \"A\":\n                        path = [\"C\"].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                        break;\n                    case \"S\":\n                        if (pcom == \"C\" || pcom == \"S\") { // In \"S\" case we have to take into account, if the previous command is C/S.\n                            nx = d.x * 2 - d.bx;          // And reflect the previous\n                            ny = d.y * 2 - d.by;          // command's control point relative to the current point.\n                        }\n                        else {                            // or some else or nothing\n                            nx = d.x;\n                            ny = d.y;\n                        }\n                        path = [\"C\", nx, ny].concat(path.slice(1));\n                        break;\n                    case \"T\":\n                        if (pcom == \"Q\" || pcom == \"T\") { // In \"T\" case we have to take into account, if the previous command is Q/T.\n                            d.qx = d.x * 2 - d.qx;        // And make a reflection similar\n                            d.qy = d.y * 2 - d.qy;        // to case \"S\".\n                        }\n                        else {                            // or something else or nothing\n                            d.qx = d.x;\n                            d.qy = d.y;\n                        }\n                        path = [\"C\"].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                        break;\n                    case \"Q\":\n                        d.qx = path[1];\n                        d.qy = path[2];\n                        path = [\"C\"].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                        break;\n                    case \"L\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, path[1], path[2]));\n                        break;\n                    case \"H\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, path[1], d.y));\n                        break;\n                    case \"V\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, d.x, path[1]));\n                        break;\n                    case \"Z\":\n                        path = [\"C\"].concat(l2c(d.x, d.y, d.X, d.Y));\n                        break;\n                }\n                return path;\n            },\n            fixArc = function (pp, i) {\n                if (pp[i].length > 7) {\n                    pp[i].shift();\n                    var pi = pp[i];\n                    while (pi.length) {\n                        pcoms1[i] = \"A\"; // if created multiple C:s, their original seg is saved\n                        p2 && (pcoms2[i] = \"A\"); // the same as above\n                        pp.splice(i++, 0, [\"C\"].concat(pi.splice(0, 6)));\n                    }\n                    pp.splice(i, 1);\n                    ii = mmax(p.length, p2 && p2.length || 0);\n                }\n            },\n            fixM = function (path1, path2, a1, a2, i) {\n                if (path1 && path2 && path1[i][0] == \"M\" && path2[i][0] != \"M\") {\n                    path2.splice(i, 0, [\"M\", a2.x, a2.y]);\n                    a1.bx = 0;\n                    a1.by = 0;\n                    a1.x = path1[i][1];\n                    a1.y = path1[i][2];\n                    ii = mmax(p.length, p2 && p2.length || 0);\n                }\n            },\n            pcoms1 = [], // path commands of original path p\n            pcoms2 = [], // path commands of original path p2\n            pfirst = \"\", // temporary holder for original path command\n            pcom = \"\"; // holder for previous path command of original path\n        for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\n            p[i] && (pfirst = p[i][0]); // save current path command\n\n            if (pfirst != \"C\") // C is not saved yet, because it may be result of conversion\n            {\n                pcoms1[i] = pfirst; // Save current path command\n                i && ( pcom = pcoms1[i - 1]); // Get previous path command pcom\n            }\n            p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n            if (pcoms1[i] != \"A\" && pfirst == \"C\") pcoms1[i] = \"C\"; // A is the only command\n            // which may produce multiple C:s\n            // so we have to make sure that C is also C in original path\n\n            fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n            if (p2) { // the same procedures is done to p2\n                p2[i] && (pfirst = p2[i][0]);\n                if (pfirst != \"C\") {\n                    pcoms2[i] = pfirst;\n                    i && (pcom = pcoms2[i - 1]);\n                }\n                p2[i] = processPath(p2[i], attrs2, pcom);\n\n                if (pcoms2[i] != \"A\" && pfirst == \"C\") {\n                    pcoms2[i] = \"C\";\n                }\n\n                fixArc(p2, i);\n            }\n            fixM(p, p2, attrs, attrs2, i);\n            fixM(p2, p, attrs2, attrs, i);\n            var seg = p[i],\n                seg2 = p2 && p2[i],\n                seglen = seg.length,\n                seg2len = p2 && seg2.length;\n            attrs.x = seg[seglen - 2];\n            attrs.y = seg[seglen - 1];\n            attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n            attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n            attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\n            attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\n            attrs2.x = p2 && seg2[seg2len - 2];\n            attrs2.y = p2 && seg2[seg2len - 1];\n        }\n        if (!p2) {\n            pth.curve = pathClone(p);\n        }\n        return p2 ? [p, p2] : p;\n    }\n    function mapPath(path, matrix) {\n        if (!matrix) {\n            return path;\n        }\n        var x, y, i, j, ii, jj, pathi;\n        path = path2curve(path);\n        for (i = 0, ii = path.length; i < ii; i++) {\n            pathi = path[i];\n            for (j = 1, jj = pathi.length; j < jj; j += 2) {\n                x = matrix.x(pathi[j], pathi[j + 1]);\n                y = matrix.y(pathi[j], pathi[j + 1]);\n                pathi[j] = x;\n                pathi[j + 1] = y;\n            }\n        }\n        return path;\n    }\n\n    // http://schepers.cc/getting-to-the-point\n    function catmullRom2bezier(crp, z) {\n        var d = [];\n        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n            var p = [\n                        {x: +crp[i - 2], y: +crp[i - 1]},\n                        {x: +crp[i],     y: +crp[i + 1]},\n                        {x: +crp[i + 2], y: +crp[i + 3]},\n                        {x: +crp[i + 4], y: +crp[i + 5]}\n                    ];\n            if (z) {\n                if (!i) {\n                    p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};\n                } else if (iLen - 4 == i) {\n                    p[3] = {x: +crp[0], y: +crp[1]};\n                } else if (iLen - 2 == i) {\n                    p[2] = {x: +crp[0], y: +crp[1]};\n                    p[3] = {x: +crp[2], y: +crp[3]};\n                }\n            } else {\n                if (iLen - 4 == i) {\n                    p[3] = p[2];\n                } else if (!i) {\n                    p[0] = {x: +crp[i], y: +crp[i + 1]};\n                }\n            }\n            d.push([\"C\",\n                  (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n                  (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n                  (p[1].x + 6 * p[2].x - p[3].x) / 6,\n                  (p[1].y + 6*p[2].y - p[3].y) / 6,\n                  p[2].x,\n                  p[2].y\n            ]);\n        }\n\n        return d;\n    }\n\n    // export\n    Snap.path = paths;\n\n    /*\\\n     * Snap.path.getTotalLength\n     [ method ]\n     **\n     * Returns the length of the given path in pixels\n     **\n     - path (string) SVG path string\n     **\n     = (number) length\n    \\*/\n    Snap.path.getTotalLength = getTotalLength;\n    /*\\\n     * Snap.path.getPointAtLength\n     [ method ]\n     **\n     * Returns the coordinates of the point located at the given length along the given path\n     **\n     - path (string) SVG path string\n     - length (number) length, in pixels, from the start of the path, excluding non-rendering jumps\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate,\n     o     y: (number) y coordinate,\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    Snap.path.getPointAtLength = getPointAtLength;\n    /*\\\n     * Snap.path.getSubpath\n     [ method ]\n     **\n     * Returns the subpath of a given path between given start and end lengths\n     **\n     - path (string) SVG path string\n     - from (number) length, in pixels, from the start of the path to the start of the segment\n     - to (number) length, in pixels, from the start of the path to the end of the segment\n     **\n     = (string) path string definition for the segment\n    \\*/\n    Snap.path.getSubpath = function (path, from, to) {\n        if (this.getTotalLength(path) - to < 1e-6) {\n            return getSubpathsAtLength(path, from).end;\n        }\n        var a = getSubpathsAtLength(path, to, 1);\n        return from ? getSubpathsAtLength(a, from).end : a;\n    };\n    /*\\\n     * Element.getTotalLength\n     [ method ]\n     **\n     * Returns the length of the path in pixels (only works for `path` elements)\n     = (number) length\n    \\*/\n    elproto.getTotalLength = function () {\n        if (this.node.getTotalLength) {\n            return this.node.getTotalLength();\n        }\n    };\n    // SIERRA Element.getPointAtLength()/Element.getTotalLength(): If a <path> is broken into different segments, is the jump distance to the new coordinates set by the _M_ or _m_ commands calculated as part of the path's total length?\n    /*\\\n     * Element.getPointAtLength\n     [ method ]\n     **\n     * Returns coordinates of the point located at the given length on the given path (only works for `path` elements)\n     **\n     - length (number) length, in pixels, from the start of the path, excluding non-rendering jumps\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate,\n     o     y: (number) y coordinate,\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    elproto.getPointAtLength = function (length) {\n        return getPointAtLength(this.attr(\"d\"), length);\n    };\n    // SIERRA Element.getSubpath(): Similar to the problem for Element.getPointAtLength(). Unclear how this would work for a segmented path. Overall, the concept of _subpath_ and what I'm calling a _segment_ (series of non-_M_ or _Z_ commands) is unclear.\n    /*\\\n     * Element.getSubpath\n     [ method ]\n     **\n     * Returns subpath of a given element from given start and end lengths (only works for `path` elements)\n     **\n     - from (number) length, in pixels, from the start of the path to the start of the segment\n     - to (number) length, in pixels, from the start of the path to the end of the segment\n     **\n     = (string) path string definition for the segment\n    \\*/\n    elproto.getSubpath = function (from, to) {\n        return Snap.path.getSubpath(this.attr(\"d\"), from, to);\n    };\n    Snap._.box = box;\n    /*\\\n     * Snap.path.findDotsAtSegment\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds dot coordinates on the given cubic bezir curve at the given t\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     - t (number) position on the curve (0..1)\n     = (object) point information in format:\n     o {\n     o     x: (number) x coordinate of the point,\n     o     y: (number) y coordinate of the point,\n     o     m: {\n     o         x: (number) x coordinate of the left anchor,\n     o         y: (number) y coordinate of the left anchor\n     o     },\n     o     n: {\n     o         x: (number) x coordinate of the right anchor,\n     o         y: (number) y coordinate of the right anchor\n     o     },\n     o     start: {\n     o         x: (number) x coordinate of the start of the curve,\n     o         y: (number) y coordinate of the start of the curve\n     o     },\n     o     end: {\n     o         x: (number) x coordinate of the end of the curve,\n     o         y: (number) y coordinate of the end of the curve\n     o     },\n     o     alpha: (number) angle of the curve derivative at the point\n     o }\n    \\*/\n    Snap.path.findDotsAtSegment = findDotsAtSegment;\n    /*\\\n     * Snap.path.bezierBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns the bounding box of a given cubic bezir curve\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     * or\n     - bez (array) array of six points for bezir curve\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box,\n     o     y: (number) y coordinate of the left top point of the box,\n     o     x2: (number) x coordinate of the right bottom point of the box,\n     o     y2: (number) y coordinate of the right bottom point of the box,\n     o     width: (number) width of the box,\n     o     height: (number) height of the box\n     o }\n    \\*/\n    Snap.path.bezierBBox = bezierBBox;\n    /*\\\n     * Snap.path.isPointInsideBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside bounding box\n     - bbox (string) bounding box\n     - x (string) x coordinate of the point\n     - y (string) y coordinate of the point\n     = (boolean) `true` if point is inside\n    \\*/\n    Snap.path.isPointInsideBBox = isPointInsideBBox;\n    Snap.closest = function (x, y, X, Y) {\n        var r = 100,\n            b = box(x - r / 2, y - r / 2, r, r),\n            inside = [],\n            getter = X[0].hasOwnProperty(\"x\") ? function (i) {\n                return {\n                    x: X[i].x,\n                    y: X[i].y\n                };\n            } : function (i) {\n                return {\n                    x: X[i],\n                    y: Y[i]\n                };\n            },\n            found = 0;\n        while (r <= 1e6 && !found) {\n            for (var i = 0, ii = X.length; i < ii; i++) {\n                var xy = getter(i);\n                if (isPointInsideBBox(b, xy.x, xy.y)) {\n                    found++;\n                    inside.push(xy);\n                    break;\n                }\n            }\n            if (!found) {\n                r *= 2;\n                b = box(x - r / 2, y - r / 2, r, r)\n            }\n        }\n        if (r == 1e6) {\n            return;\n        }\n        var len = Infinity,\n            res;\n        for (i = 0, ii = inside.length; i < ii; i++) {\n            var l = Snap.len(x, y, inside[i].x, inside[i].y);\n            if (len > l) {\n                len = l;\n                inside[i].len = l;\n                res = inside[i];\n            }\n        }\n        return res;\n    };\n    /*\\\n     * Snap.path.isBBoxIntersect\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if two bounding boxes intersect\n     - bbox1 (string) first bounding box\n     - bbox2 (string) second bounding box\n     = (boolean) `true` if bounding boxes intersect\n    \\*/\n    Snap.path.isBBoxIntersect = isBBoxIntersect;\n    /*\\\n     * Snap.path.intersection\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds intersections of two paths\n     - path1 (string) path string\n     - path2 (string) path string\n     = (array) dots of intersection\n     o [\n     o     {\n     o         x: (number) x coordinate of the point,\n     o         y: (number) y coordinate of the point,\n     o         t1: (number) t value for segment of path1,\n     o         t2: (number) t value for segment of path2,\n     o         segment1: (number) order number for segment of path1,\n     o         segment2: (number) order number for segment of path2,\n     o         bez1: (array) eight coordinates representing bezir curve for the segment of path1,\n     o         bez2: (array) eight coordinates representing bezir curve for the segment of path2\n     o     }\n     o ]\n    \\*/\n    Snap.path.intersection = pathIntersection;\n    Snap.path.intersectionNumber = pathIntersectionNumber;\n    /*\\\n     * Snap.path.isPointInside\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside a given closed path.\n     *\n     * Note: fill mode doesnt affect the result of this method.\n     - path (string) path string\n     - x (number) x of the point\n     - y (number) y of the point\n     = (boolean) `true` if point is inside the path\n    \\*/\n    Snap.path.isPointInside = isPointInsidePath;\n    /*\\\n     * Snap.path.getBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns the bounding box of a given path\n     - path (string) path string\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box,\n     o     y: (number) y coordinate of the left top point of the box,\n     o     x2: (number) x coordinate of the right bottom point of the box,\n     o     y2: (number) y coordinate of the right bottom point of the box,\n     o     width: (number) width of the box,\n     o     height: (number) height of the box\n     o }\n    \\*/\n    Snap.path.getBBox = pathBBox;\n    Snap.path.get = getPath;\n    /*\\\n     * Snap.path.toRelative\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path coordinates into relative values\n     - path (string) path string\n     = (array) path string\n    \\*/\n    Snap.path.toRelative = pathToRelative;\n    /*\\\n     * Snap.path.toAbsolute\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path coordinates into absolute values\n     - path (string) path string\n     = (array) path string\n    \\*/\n    Snap.path.toAbsolute = pathToAbsolute;\n    /*\\\n     * Snap.path.toCubic\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to a new path where all segments are cubic bezir curves\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments\n    \\*/\n    Snap.path.toCubic = path2curve;\n    /*\\\n     * Snap.path.map\n     [ method ]\n     **\n     * Transform the path string with the given matrix\n     - path (string) path string\n     - matrix (object) see @Matrix\n     = (string) transformed path string\n    \\*/\n    Snap.path.map = mapPath;\n    Snap.path.toString = toString;\n    Snap.path.clone = pathClone;\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var mmax = Math.max,\n        mmin = Math.min;\n\n    // Set\n    var Set = function (items) {\n        this.items = [];\n\tthis.bindings = {};\n        this.length = 0;\n        this.type = \"set\";\n        if (items) {\n            for (var i = 0, ii = items.length; i < ii; i++) {\n                if (items[i]) {\n                    this[this.items.length] = this.items[this.items.length] = items[i];\n                    this.length++;\n                }\n            }\n        }\n    },\n    setproto = Set.prototype;\n    /*\\\n     * Set.push\n     [ method ]\n     **\n     * Adds each argument to the current set\n     = (object) original element\n    \\*/\n    setproto.push = function () {\n        var item,\n            len;\n        for (var i = 0, ii = arguments.length; i < ii; i++) {\n            item = arguments[i];\n            if (item) {\n                len = this.items.length;\n                this[len] = this.items[len] = item;\n                this.length++;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.pop\n     [ method ]\n     **\n     * Removes last element and returns it\n     = (object) element\n    \\*/\n    setproto.pop = function () {\n        this.length && delete this[this.length--];\n        return this.items.pop();\n    };\n    /*\\\n     * Set.forEach\n     [ method ]\n     **\n     * Executes given function for each element in the set\n     *\n     * If the function returns `false`, the loop stops running.\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Set object\n    \\*/\n    setproto.forEach = function (callback, thisArg) {\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            if (callback.call(thisArg, this.items[i], i) === false) {\n                return this;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.animate\n     [ method ]\n     **\n     * Animates each element in set in sync.\n     *\n     **\n     - attrs (object) key-value pairs of destination attributes\n     - duration (number) duration of the animation in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function that executes when the animation ends\n     * or\n     - animation (array) array of animation parameter for each element in set in format `[attrs, duration, easing, callback]`\n     > Usage\n     | // animate all elements in set to radius 10\n     | set.animate({r: 10}, 500, mina.easein);\n     | // or\n     | // animate first element to radius 10, but second to radius 20 and in different time\n     | set.animate([{r: 10}, 500, mina.easein], [{r: 20}, 1500, mina.easein]);\n     = (Element) the current element\n    \\*/\n    setproto.animate = function (attrs, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        if (attrs instanceof Snap._.Animation) {\n            callback = attrs.callback;\n            easing = attrs.easing;\n            ms = easing.dur;\n            attrs = attrs.attr;\n        }\n        var args = arguments;\n        if (Snap.is(attrs, \"array\") && Snap.is(args[args.length - 1], \"array\")) {\n            var each = true;\n        }\n        var begin,\n            handler = function () {\n                if (begin) {\n                    this.b = begin;\n                } else {\n                    begin = this.b;\n                }\n            },\n            cb = 0,\n            set = this,\n            callbacker = callback && function () {\n                if (++cb == set.length) {\n                    callback.call(this);\n                }\n            };\n        return this.forEach(function (el, i) {\n            eve.once(\"snap.animcreated.\" + el.id, handler);\n            if (each) {\n                args[i] && el.animate.apply(el, args[i]);\n            } else {\n                el.animate(attrs, ms, easing, callbacker);\n            }\n        });\n    };\n    /*\\\n     * Set.remove\n     [ method ]\n     **\n     * Removes all children of the set.\n     *\n     = (object) Set object\n    \\*/\n    setproto.remove = function () {\n        while (this.length) {\n            this.pop().remove();\n        }\n        return this;\n    };\n    /*\\\n     * Set.bind\n     [ method ]\n     **\n     * Specifies how to handle a specific attribute when applied\n     * to a set.\n     *\n     **\n     - attr (string) attribute name\n     - callback (function) function to run\n     * or\n     - attr (string) attribute name\n     - element (Element) specific element in the set to apply the attribute to\n     * or\n     - attr (string) attribute name\n     - element (Element) specific element in the set to apply the attribute to\n     - eattr (string) attribute on the element to bind the attribute to\n     = (object) Set object\n    \\*/\n    setproto.bind = function (attr, a, b) {\n        var data = {};\n        if (typeof a == \"function\") {\n            this.bindings[attr] = a;\n        } else {\n            var aname = b || attr;\n            this.bindings[attr] = function (v) {\n                data[aname] = v;\n                a.attr(data);\n            };\n        }\n        return this;\n    };\n    /*\\\n     * Set.attr\n     [ method ]\n     **\n     * Equivalent of @Element.attr.\n     = (object) Set object\n    \\*/\n    setproto.attr = function (value) {\n        var unbound = {};\n        for (var k in value) {\n            if (this.bindings[k]) {\n                this.bindings[k](value[k]);\n            } else {\n                unbound[k] = value[k];\n            }\n        }\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            this.items[i].attr(unbound);\n        }\n        return this;\n    };\n    /*\\\n     * Set.clear\n     [ method ]\n     **\n     * Removes all elements from the set\n    \\*/\n    setproto.clear = function () {\n        while (this.length) {\n            this.pop();\n        }\n    };\n    /*\\\n     * Set.splice\n     [ method ]\n     **\n     * Removes range of elements from the set\n     **\n     - index (number) position of the deletion\n     - count (number) number of element to remove\n     - insertion (object) #optional elements to insert\n     = (object) set elements that were deleted\n    \\*/\n    setproto.splice = function (index, count, insertion) {\n        index = index < 0 ? mmax(this.length + index, 0) : index;\n        count = mmax(0, mmin(this.length - index, count));\n        var tail = [],\n            todel = [],\n            args = [],\n            i;\n        for (i = 2; i < arguments.length; i++) {\n            args.push(arguments[i]);\n        }\n        for (i = 0; i < count; i++) {\n            todel.push(this[index + i]);\n        }\n        for (; i < this.length - index; i++) {\n            tail.push(this[index + i]);\n        }\n        var arglen = args.length;\n        for (i = 0; i < arglen + tail.length; i++) {\n            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\n        }\n        i = this.items.length = this.length -= count - arglen;\n        while (this[i]) {\n            delete this[i++];\n        }\n        return new Set(todel);\n    };\n    /*\\\n     * Set.exclude\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     - element (object) element to remove\n     = (boolean) `true` if object was found and removed from the set\n    \\*/\n    setproto.exclude = function (el) {\n        for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {\n            this.splice(i, 1);\n            return true;\n        }\n        return false;\n    };\n    /*\\\n     * Set.insertAfter\n     [ method ]\n     **\n     * Inserts set elements after given element.\n     **\n     - element (object) set will be inserted after this element\n     = (object) Set object\n    \\*/\n    setproto.insertAfter = function (el) {\n        var i = this.items.length;\n        while (i--) {\n            this.items[i].insertAfter(el);\n        }\n        return this;\n    };\n    /*\\\n     * Set.getBBox\n     [ method ]\n     **\n     * Union of all bboxes of the set. See @Element.getBBox.\n     = (object) bounding box descriptor. See @Element.getBBox.\n    \\*/\n    setproto.getBBox = function () {\n        var x = [],\n            y = [],\n            x2 = [],\n            y2 = [];\n        for (var i = this.items.length; i--;) if (!this.items[i].removed) {\n            var box = this.items[i].getBBox();\n            x.push(box.x);\n            y.push(box.y);\n            x2.push(box.x + box.width);\n            y2.push(box.y + box.height);\n        }\n        x = mmin.apply(0, x);\n        y = mmin.apply(0, y);\n        x2 = mmax.apply(0, x2);\n        y2 = mmax.apply(0, y2);\n        return {\n            x: x,\n            y: y,\n            x2: x2,\n            y2: y2,\n            width: x2 - x,\n            height: y2 - y,\n            cx: x + (x2 - x) / 2,\n            cy: y + (y2 - y) / 2\n        };\n    };\n    /*\\\n     * Set.insertAfter\n     [ method ]\n     **\n     * Creates a clone of the set.\n     **\n     = (object) New Set object\n    \\*/\n    setproto.clone = function (s) {\n        s = new Set;\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            s.push(this.items[i].clone());\n        }\n        return s;\n    };\n    setproto.toString = function () {\n        return \"Snap\\u2018s set\";\n    };\n    setproto.type = \"set\";\n    // export\n    /*\\\n     * Snap.Set\n     [ property ]\n     **\n     * Set constructor.\n    \\*/\n    Snap.Set = Set;\n    /*\\\n     * Snap.set\n     [ method ]\n     **\n     * Creates a set and fills it with list of arguments.\n     **\n     = (object) New Set object\n     | var r = paper.rect(0, 0, 10, 10),\n     |     s1 = Snap.set(), // empty set\n     |     s2 = Snap.set(r, paper.circle(100, 100, 20)); // prefilled set\n    \\*/\n    Snap.set = function () {\n        var set = new Set;\n        if (arguments.length) {\n            set.push.apply(set, Array.prototype.slice.call(arguments, 0));\n        }\n        return set;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var names = {},\n        reUnit = /[%a-z]+$/i,\n        Str = String;\n    names.stroke = names.fill = \"colour\";\n    function getEmpty(item) {\n        var l = item[0];\n        switch (l.toLowerCase()) {\n            case \"t\": return [l, 0, 0];\n            case \"m\": return [l, 1, 0, 0, 1, 0, 0];\n            case \"r\": if (item.length == 4) {\n                return [l, 0, item[2], item[3]];\n            } else {\n                return [l, 0];\n            }\n            case \"s\": if (item.length == 5) {\n                return [l, 1, 1, item[3], item[4]];\n            } else if (item.length == 3) {\n                return [l, 1, 1];\n            } else {\n                return [l, 1];\n            }\n        }\n    }\n    function equaliseTransform(t1, t2, getBBox) {\n        t1 = t1 || new Snap.Matrix;\n        t2 = t2 || new Snap.Matrix;\n        t1 = Snap.parseTransformString(t1.toTransformString()) || [];\n        t2 = Snap.parseTransformString(t2.toTransformString()) || [];\n        var maxlength = Math.max(t1.length, t2.length),\n            from = [],\n            to = [],\n            i = 0, j, jj,\n            tt1, tt2;\n        for (; i < maxlength; i++) {\n            tt1 = t1[i] || getEmpty(t2[i]);\n            tt2 = t2[i] || getEmpty(tt1);\n            if (tt1[0] != tt2[0] ||\n                tt1[0].toLowerCase() == \"r\" && (tt1[2] != tt2[2] || tt1[3] != tt2[3]) ||\n                tt1[0].toLowerCase() == \"s\" && (tt1[3] != tt2[3] || tt1[4] != tt2[4])\n                ) {\n                    t1 = Snap._.transform2matrix(t1, getBBox());\n                    t2 = Snap._.transform2matrix(t2, getBBox());\n                    from = [[\"m\", t1.a, t1.b, t1.c, t1.d, t1.e, t1.f]];\n                    to = [[\"m\", t2.a, t2.b, t2.c, t2.d, t2.e, t2.f]];\n                    break;\n            }\n            from[i] = [];\n            to[i] = [];\n            for (j = 0, jj = Math.max(tt1.length, tt2.length); j < jj; j++) {\n                j in tt1 && (from[i][j] = tt1[j]);\n                j in tt2 && (to[i][j] = tt2[j]);\n            }\n        }\n        return {\n            from: path2array(from),\n            to: path2array(to),\n            f: getPath(from)\n        };\n    }\n    function getNumber(val) {\n        return val;\n    }\n    function getUnit(unit) {\n        return function (val) {\n            return +val.toFixed(3) + unit;\n        };\n    }\n    function getViewBox(val) {\n        return val.join(\" \");\n    }\n    function getColour(clr) {\n        return Snap.rgb(clr[0], clr[1], clr[2], clr[3]);\n    }\n    function getPath(path) {\n        var k = 0, i, ii, j, jj, out, a, b = [];\n        for (i = 0, ii = path.length; i < ii; i++) {\n            out = \"[\";\n            a = ['\"' + path[i][0] + '\"'];\n            for (j = 1, jj = path[i].length; j < jj; j++) {\n                a[j] = \"val[\" + k++ + \"]\";\n            }\n            out += a + \"]\";\n            b[i] = out;\n        }\n        return Function(\"val\", \"return Snap.path.toString.call([\" + b + \"])\");\n    }\n    function path2array(path) {\n        var out = [];\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            for (var j = 1, jj = path[i].length; j < jj; j++) {\n                out.push(path[i][j]);\n            }\n        }\n        return out;\n    }\n    function isNumeric(obj) {\n        return isFinite(obj);\n    }\n    function arrayEqual(arr1, arr2) {\n        if (!Snap.is(arr1, \"array\") || !Snap.is(arr2, \"array\")) {\n            return false;\n        }\n        return arr1.toString() == arr2.toString();\n    }\n    Element.prototype.equal = function (name, b) {\n        return eve(\"snap.util.equal\", this, name, b).firstDefined();\n    };\n    eve.on(\"snap.util.equal\", function (name, b) {\n        var A, B, a = Str(this.attr(name) || \"\"),\n            el = this;\n        if (names[name] == \"colour\") {\n            A = Snap.color(a);\n            B = Snap.color(b);\n            return {\n                from: [A.r, A.g, A.b, A.opacity],\n                to: [B.r, B.g, B.b, B.opacity],\n                f: getColour\n            };\n        }\n        if (name == \"viewBox\") {\n            A = this.attr(name).vb.split(\" \").map(Number);\n            B = b.split(\" \").map(Number);\n            return {\n                from: A,\n                to: B,\n                f: getViewBox\n            };\n        }\n        if (name == \"transform\" || name == \"gradientTransform\" || name == \"patternTransform\") {\n            if (typeof b == \"string\") {\n                b = Str(b).replace(/\\.{3}|\\u2026/g, a);\n            }\n            a = this.matrix;\n            if (!Snap._.rgTransform.test(b)) {\n                b = Snap._.transform2matrix(Snap._.svgTransform2string(b), this.getBBox());\n            } else {\n                b = Snap._.transform2matrix(b, this.getBBox());\n            }\n            return equaliseTransform(a, b, function () {\n                return el.getBBox(1);\n            });\n        }\n        if (name == \"d\" || name == \"path\") {\n            A = Snap.path.toCubic(a, b);\n            return {\n                from: path2array(A[0]),\n                to: path2array(A[1]),\n                f: getPath(A[0])\n            };\n        }\n        if (name == \"points\") {\n            A = Str(a).split(Snap._.separator);\n            B = Str(b).split(Snap._.separator);\n            return {\n                from: A,\n                to: B,\n                f: function (val) { return val; }\n            };\n        }\n        if (isNumeric(a) && isNumeric(b)) {\n            return {\n                from: parseFloat(a),\n                to: parseFloat(b),\n                f: getNumber\n            };\n        }\n        var aUnit = a.match(reUnit),\n            bUnit = Str(b).match(reUnit);\n        if (aUnit && arrayEqual(aUnit, bUnit)) {\n            return {\n                from: parseFloat(a),\n                to: parseFloat(b),\n                f: getUnit(aUnit)\n            };\n        } else {\n            return {\n                from: this.asPX(name),\n                to: this.asPX(name, b),\n                f: getNumber\n            };\n        }\n    });\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n    has = \"hasOwnProperty\",\n    supportsTouch = \"createTouch\" in glob.doc,\n    events = [\n        \"click\", \"dblclick\", \"mousedown\", \"mousemove\", \"mouseout\",\n        \"mouseover\", \"mouseup\", \"touchstart\", \"touchmove\", \"touchend\",\n        \"touchcancel\"\n    ],\n    touchMap = {\n        mousedown: \"touchstart\",\n        mousemove: \"touchmove\",\n        mouseup: \"touchend\"\n    },\n    getScroll = function (xy, el) {\n        var name = xy == \"y\" ? \"scrollTop\" : \"scrollLeft\",\n            doc = el && el.node ? el.node.ownerDocument : glob.doc;\n        return doc[name in doc.documentElement ? \"documentElement\" : \"body\"][name];\n    },\n    preventDefault = function () {\n        this.returnValue = false;\n    },\n    preventTouch = function () {\n        return this.originalEvent.preventDefault();\n    },\n    stopPropagation = function () {\n        this.cancelBubble = true;\n    },\n    stopTouch = function () {\n        return this.originalEvent.stopPropagation();\n    },\n    addEvent = function (obj, type, fn, element) {\n        var realName = supportsTouch && touchMap[type] ? touchMap[type] : type,\n            f = function (e) {\n                var scrollY = getScroll(\"y\", element),\n                    scrollX = getScroll(\"x\", element);\n                if (supportsTouch && touchMap[has](type)) {\n                    for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\n                        if (e.targetTouches[i].target == obj || obj.contains(e.targetTouches[i].target)) {\n                            var olde = e;\n                            e = e.targetTouches[i];\n                            e.originalEvent = olde;\n                            e.preventDefault = preventTouch;\n                            e.stopPropagation = stopTouch;\n                            break;\n                        }\n                    }\n                }\n                var x = e.clientX + scrollX,\n                    y = e.clientY + scrollY;\n                return fn.call(element, e, x, y);\n            };\n\n        if (type !== realName) {\n            obj.addEventListener(type, f, false);\n        }\n\n        obj.addEventListener(realName, f, false);\n\n        return function () {\n            if (type !== realName) {\n                obj.removeEventListener(type, f, false);\n            }\n\n            obj.removeEventListener(realName, f, false);\n            return true;\n        };\n    },\n    drag = [],\n    dragMove = function (e) {\n        var x = e.clientX,\n            y = e.clientY,\n            scrollY = getScroll(\"y\"),\n            scrollX = getScroll(\"x\"),\n            dragi,\n            j = drag.length;\n        while (j--) {\n            dragi = drag[j];\n            if (supportsTouch) {\n                var i = e.touches && e.touches.length,\n                    touch;\n                while (i--) {\n                    touch = e.touches[i];\n                    if (touch.identifier == dragi.el._drag.id || dragi.el.node.contains(touch.target)) {\n                        x = touch.clientX;\n                        y = touch.clientY;\n                        (e.originalEvent ? e.originalEvent : e).preventDefault();\n                        break;\n                    }\n                }\n            } else {\n                e.preventDefault();\n            }\n            var node = dragi.el.node,\n                o,\n                next = node.nextSibling,\n                parent = node.parentNode,\n                display = node.style.display;\n            // glob.win.opera && parent.removeChild(node);\n            // node.style.display = \"none\";\n            // o = dragi.el.paper.getElementByPoint(x, y);\n            // node.style.display = display;\n            // glob.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\n            // o && eve(\"snap.drag.over.\" + dragi.el.id, dragi.el, o);\n            x += scrollX;\n            y += scrollY;\n            eve(\"snap.drag.move.\" + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\n        }\n    },\n    dragUp = function (e) {\n        Snap.unmousemove(dragMove).unmouseup(dragUp);\n        var i = drag.length,\n            dragi;\n        while (i--) {\n            dragi = drag[i];\n            dragi.el._drag = {};\n            eve(\"snap.drag.end.\" + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\n            eve.off(\"snap.drag.*.\" + dragi.el.id);\n        }\n        drag = [];\n    };\n    /*\\\n     * Element.click\n     [ method ]\n     **\n     * Adds a click event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unclick\n     [ method ]\n     **\n     * Removes a click event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.dblclick\n     [ method ]\n     **\n     * Adds a double click event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.undblclick\n     [ method ]\n     **\n     * Removes a double click event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mousedown\n     [ method ]\n     **\n     * Adds a mousedown event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousedown\n     [ method ]\n     **\n     * Removes a mousedown event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mousemove\n     [ method ]\n     **\n     * Adds a mousemove event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousemove\n     [ method ]\n     **\n     * Removes a mousemove event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseout\n     [ method ]\n     **\n     * Adds a mouseout event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseout\n     [ method ]\n     **\n     * Removes a mouseout event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseover\n     [ method ]\n     **\n     * Adds a mouseover event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseover\n     [ method ]\n     **\n     * Removes a mouseover event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseup\n     [ method ]\n     **\n     * Adds a mouseup event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseup\n     [ method ]\n     **\n     * Removes a mouseup event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchstart\n     [ method ]\n     **\n     * Adds a touchstart event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchstart\n     [ method ]\n     **\n     * Removes a touchstart event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchmove\n     [ method ]\n     **\n     * Adds a touchmove event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchmove\n     [ method ]\n     **\n     * Removes a touchmove event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchend\n     [ method ]\n     **\n     * Adds a touchend event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchend\n     [ method ]\n     **\n     * Removes a touchend event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchcancel\n     [ method ]\n     **\n     * Adds a touchcancel event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchcancel\n     [ method ]\n     **\n     * Removes a touchcancel event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    for (var i = events.length; i--;) {\n        (function (eventName) {\n            Snap[eventName] = elproto[eventName] = function (fn, scope) {\n                if (Snap.is(fn, \"function\")) {\n                    this.events = this.events || [];\n                    this.events.push({\n                        name: eventName,\n                        f: fn,\n                        unbind: addEvent(this.node || document, eventName, fn, scope || this)\n                    });\n                } else {\n                    for (var i = 0, ii = this.events.length; i < ii; i++) if (this.events[i].name == eventName) {\n                        try {\n                            this.events[i].f.call(this);\n                        } catch (e) {}\n                    }\n                }\n                return this;\n            };\n            Snap[\"un\" + eventName] =\n            elproto[\"un\" + eventName] = function (fn) {\n                var events = this.events || [],\n                    l = events.length;\n                while (l--) if (events[l].name == eventName &&\n                               (events[l].f == fn || !fn)) {\n                    events[l].unbind();\n                    events.splice(l, 1);\n                    !events.length && delete this.events;\n                    return this;\n                }\n                return this;\n            };\n        })(events[i]);\n    }\n    /*\\\n     * Element.hover\n     [ method ]\n     **\n     * Adds hover event handlers to the element\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     - icontext (object) #optional context for hover in handler\n     - ocontext (object) #optional context for hover out handler\n     = (object) @Element\n    \\*/\n    elproto.hover = function (f_in, f_out, scope_in, scope_out) {\n        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\n    };\n    /*\\\n     * Element.unhover\n     [ method ]\n     **\n     * Removes hover event handlers from the element\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     = (object) @Element\n    \\*/\n    elproto.unhover = function (f_in, f_out) {\n        return this.unmouseover(f_in).unmouseout(f_out);\n    };\n    var draggable = [];\n    // SIERRA unclear what _context_ refers to for starting, ending, moving the drag gesture.\n    // SIERRA Element.drag(): _x position of the mouse_: Where are the x/y values offset from?\n    // SIERRA Element.drag(): much of this member's doc appears to be duplicated for some reason.\n    // SIERRA Unclear about this sentence: _Additionally following drag events will be triggered: drag.start.<id> on start, drag.end.<id> on end and drag.move.<id> on every move._ Is there a global _drag_ object to which you can assign handlers keyed by an element's ID?\n    /*\\\n     * Element.drag\n     [ method ]\n     **\n     * Adds event handlers for an element's drag gesture\n     **\n     - onmove (function) handler for moving\n     - onstart (function) handler for drag start\n     - onend (function) handler for drag end\n     - mcontext (object) #optional context for moving handler\n     - scontext (object) #optional context for drag start handler\n     - econtext (object) #optional context for drag end handler\n     * Additionaly following `drag` events are triggered: `drag.start.<id>` on start, \n     * `drag.end.<id>` on end and `drag.move.<id>` on every move. When element is dragged over another element \n     * `drag.over.<id>` fires as well.\n     *\n     * Start event and start handler are called in specified context or in context of the element with following parameters:\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * Move event and move handler are called in specified context or in context of the element with following parameters:\n     o dx (number) shift by x from the start point\n     o dy (number) shift by y from the start point\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * End event and end handler are called in specified context or in context of the element with following parameters:\n     o event (object) DOM event object\n     = (object) @Element\n    \\*/\n    elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\n        var el = this;\n        if (!arguments.length) {\n            var origTransform;\n            return el.drag(function (dx, dy) {\n                this.attr({\n                    transform: origTransform + (origTransform ? \"T\" : \"t\") + [dx, dy]\n                });\n            }, function () {\n                origTransform = this.transform().local;\n            });\n        }\n        function start(e, x, y) {\n            (e.originalEvent || e).preventDefault();\n            el._drag.x = x;\n            el._drag.y = y;\n            el._drag.id = e.identifier;\n            !drag.length && Snap.mousemove(dragMove).mouseup(dragUp);\n            drag.push({el: el, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});\n            onstart && eve.on(\"snap.drag.start.\" + el.id, onstart);\n            onmove && eve.on(\"snap.drag.move.\" + el.id, onmove);\n            onend && eve.on(\"snap.drag.end.\" + el.id, onend);\n            eve(\"snap.drag.start.\" + el.id, start_scope || move_scope || el, x, y, e);\n        }\n        function init(e, x, y) {\n            eve(\"snap.draginit.\" + el.id, el, e, x, y);\n        }\n        eve.on(\"snap.draginit.\" + el.id, start);\n        el._drag = {};\n        draggable.push({el: el, start: start, init: init});\n        el.mousedown(init);\n        return el;\n    };\n    /*\n     * Element.onDragOver\n     [ method ]\n     **\n     * Shortcut to assign event handler for `drag.over.<id>` event, where `id` is the element's `id` (see @Element.id)\n     - f (function) handler for event, first argument would be the element you are dragging over\n    \\*/\n    // elproto.onDragOver = function (f) {\n    //     f ? eve.on(\"snap.drag.over.\" + this.id, f) : eve.unbind(\"snap.drag.over.\" + this.id);\n    // };\n    /*\\\n     * Element.undrag\n     [ method ]\n     **\n     * Removes all drag event handlers from the given element\n    \\*/\n    elproto.undrag = function () {\n        var i = draggable.length;\n        while (i--) if (draggable[i].el == this) {\n            this.unmousedown(draggable[i].init);\n            draggable.splice(i, 1);\n            eve.unbind(\"snap.drag.*.\" + this.id);\n            eve.unbind(\"snap.draginit.\" + this.id);\n        }\n        !draggable.length && Snap.unmousemove(dragMove).unmouseup(dragUp);\n        return this;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n        pproto = Paper.prototype,\n        rgurl = /^\\s*url\\((.+)\\)/,\n        Str = String,\n        $ = Snap._.$;\n    Snap.filter = {};\n    /*\\\n     * Paper.filter\n     [ method ]\n     **\n     * Creates a `<filter>` element\n     **\n     - filstr (string) SVG fragment of filter provided as a string\n     = (object) @Element\n     * Note: It is recommended to use filters embedded into the page inside an empty SVG element.\n     > Usage\n     | var f = paper.filter('<feGaussianBlur stdDeviation=\"2\"/>'),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    pproto.filter = function (filstr) {\n        var paper = this;\n        if (paper.type != \"svg\") {\n            paper = paper.paper;\n        }\n        var f = Snap.parse(Str(filstr)),\n            id = Snap._.id(),\n            width = paper.node.offsetWidth,\n            height = paper.node.offsetHeight,\n            filter = $(\"filter\");\n        $(filter, {\n            id: id,\n            filterUnits: \"userSpaceOnUse\"\n        });\n        filter.appendChild(f.node);\n        paper.defs.appendChild(filter);\n        return new Element(filter);\n    };\n\n    eve.on(\"snap.util.getattr.filter\", function () {\n        eve.stop();\n        var p = $(this.node, \"filter\");\n        if (p) {\n            var match = Str(p).match(rgurl);\n            return match && Snap.select(match[1]);\n        }\n    });\n    eve.on(\"snap.util.attr.filter\", function (value) {\n        if (value instanceof Element && value.type == \"filter\") {\n            eve.stop();\n            var id = value.node.id;\n            if (!id) {\n                $(value.node, {id: value.id});\n                id = value.id;\n            }\n            $(this.node, {\n                filter: Snap.url(id)\n            });\n        }\n        if (!value || value == \"none\") {\n            eve.stop();\n            this.node.removeAttribute(\"filter\");\n        }\n    });\n    /*\\\n     * Snap.filter.blur\n     [ method ]\n     **\n     * Returns an SVG markup string for the blur filter\n     **\n     - x (number) amount of horizontal blur, in pixels\n     - y (number) #optional amount of vertical blur, in pixels\n     = (string) filter representation\n     > Usage\n     | var f = paper.filter(Snap.filter.blur(5, 10)),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    Snap.filter.blur = function (x, y) {\n        if (x == null) {\n            x = 2;\n        }\n        var def = y == null ? x : [x, y];\n        return Snap.format('\\<feGaussianBlur stdDeviation=\"{def}\"/>', {\n            def: def\n        });\n    };\n    Snap.filter.blur.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.shadow\n     [ method ]\n     **\n     * Returns an SVG markup string for the shadow filter\n     **\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - blur (number) #optional amount of blur\n     - color (string) #optional color of the shadow\n     - opacity (number) #optional `0..1` opacity of the shadow\n     * or\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - color (string) #optional color of the shadow\n     - opacity (number) #optional `0..1` opacity of the shadow\n     * which makes blur default to `4`. Or\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - opacity (number) #optional `0..1` opacity of the shadow\n     = (string) filter representation\n     > Usage\n     | var f = paper.filter(Snap.filter.shadow(0, 2, .3)),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    Snap.filter.shadow = function (dx, dy, blur, color, opacity) {\n        if (opacity == null) {\n            if (color == null) {\n                opacity = blur;\n                blur = 4;\n                color = \"#000\";\n            } else {\n                opacity = color;\n                color = blur;\n                blur = 4;\n            }\n        }\n        if (blur == null) {\n            blur = 4;\n        }\n        if (opacity == null) {\n            opacity = 1;\n        }\n        if (dx == null) {\n            dx = 0;\n            dy = 2;\n        }\n        if (dy == null) {\n            dy = dx;\n        }\n        color = Snap.color(color);\n        return Snap.format('<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"{blur}\"/><feOffset dx=\"{dx}\" dy=\"{dy}\" result=\"offsetblur\"/><feFlood flood-color=\"{color}\"/><feComposite in2=\"offsetblur\" operator=\"in\"/><feComponentTransfer><feFuncA type=\"linear\" slope=\"{opacity}\"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/></feMerge>', {\n            color: color,\n            dx: dx,\n            dy: dy,\n            blur: blur,\n            opacity: opacity\n        });\n    };\n    Snap.filter.shadow.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.grayscale\n     [ method ]\n     **\n     * Returns an SVG markup string for the grayscale filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.grayscale = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"matrix\" values=\"{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0\"/>', {\n            a: 0.2126 + 0.7874 * (1 - amount),\n            b: 0.7152 - 0.7152 * (1 - amount),\n            c: 0.0722 - 0.0722 * (1 - amount),\n            d: 0.2126 - 0.2126 * (1 - amount),\n            e: 0.7152 + 0.2848 * (1 - amount),\n            f: 0.0722 - 0.0722 * (1 - amount),\n            g: 0.2126 - 0.2126 * (1 - amount),\n            h: 0.0722 + 0.9278 * (1 - amount)\n        });\n    };\n    Snap.filter.grayscale.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.sepia\n     [ method ]\n     **\n     * Returns an SVG markup string for the sepia filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.sepia = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"matrix\" values=\"{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0\"/>', {\n            a: 0.393 + 0.607 * (1 - amount),\n            b: 0.769 - 0.769 * (1 - amount),\n            c: 0.189 - 0.189 * (1 - amount),\n            d: 0.349 - 0.349 * (1 - amount),\n            e: 0.686 + 0.314 * (1 - amount),\n            f: 0.168 - 0.168 * (1 - amount),\n            g: 0.272 - 0.272 * (1 - amount),\n            h: 0.534 - 0.534 * (1 - amount),\n            i: 0.131 + 0.869 * (1 - amount)\n        });\n    };\n    Snap.filter.sepia.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.saturate\n     [ method ]\n     **\n     * Returns an SVG markup string for the saturate filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.saturate = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feColorMatrix type=\"saturate\" values=\"{amount}\"/>', {\n            amount: 1 - amount\n        });\n    };\n    Snap.filter.saturate.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.hueRotate\n     [ method ]\n     **\n     * Returns an SVG markup string for the hue-rotate filter\n     **\n     - angle (number) angle of rotation\n     = (string) filter representation\n    \\*/\n    Snap.filter.hueRotate = function (angle) {\n        angle = angle || 0;\n        return Snap.format('<feColorMatrix type=\"hueRotate\" values=\"{angle}\"/>', {\n            angle: angle\n        });\n    };\n    Snap.filter.hueRotate.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.invert\n     [ method ]\n     **\n     * Returns an SVG markup string for the invert filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.invert = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n//        <feColorMatrix type=\"matrix\" values=\"-1 0 0 0 1  0 -1 0 0 1  0 0 -1 0 1  0 0 0 1 0\" color-interpolation-filters=\"sRGB\"/>\n        return Snap.format('<feComponentTransfer><feFuncR type=\"table\" tableValues=\"{amount} {amount2}\"/><feFuncG type=\"table\" tableValues=\"{amount} {amount2}\"/><feFuncB type=\"table\" tableValues=\"{amount} {amount2}\"/></feComponentTransfer>', {\n            amount: amount,\n            amount2: 1 - amount\n        });\n    };\n    Snap.filter.invert.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.brightness\n     [ method ]\n     **\n     * Returns an SVG markup string for the brightness filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.brightness = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feComponentTransfer><feFuncR type=\"linear\" slope=\"{amount}\"/><feFuncG type=\"linear\" slope=\"{amount}\"/><feFuncB type=\"linear\" slope=\"{amount}\"/></feComponentTransfer>', {\n            amount: amount\n        });\n    };\n    Snap.filter.brightness.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.contrast\n     [ method ]\n     **\n     * Returns an SVG markup string for the contrast filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.contrast = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format('<feComponentTransfer><feFuncR type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/><feFuncG type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/><feFuncB type=\"linear\" slope=\"{amount}\" intercept=\"{amount2}\"/></feComponentTransfer>', {\n            amount: amount,\n            amount2: .5 - amount / 2\n        });\n    };\n    Snap.filter.contrast.toString = function () {\n        return this();\n    };\n});\n\n// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var box = Snap._.box,\n        is = Snap.is,\n        firstLetter = /^[^a-z]*([tbmlrc])/i,\n        toString = function () {\n            return \"T\" + this.dx + \",\" + this.dy;\n        };\n    /*\\\n     * Element.getAlign\n     [ method ]\n     **\n     * Returns shift needed to align the element relatively to given element.\n     * If no elements specified, parent `<svg>` container will be used.\n     - el (object) @optional alignment element\n     - way (string) one of six values: `\"top\"`, `\"middle\"`, `\"bottom\"`, `\"left\"`, `\"center\"`, `\"right\"`\n     = (object|string) Object in format `{dx: , dy: }` also has a string representation as a transformation string\n     > Usage\n     | el.transform(el.getAlign(el2, \"top\"));\n     * or\n     | var dy = el.getAlign(el2, \"top\").dy;\n    \\*/\n    Element.prototype.getAlign = function (el, way) {\n        if (way == null && is(el, \"string\")) {\n            way = el;\n            el = null;\n        }\n        el = el || this.paper;\n        var bx = el.getBBox ? el.getBBox() : box(el),\n            bb = this.getBBox(),\n            out = {};\n        way = way && way.match(firstLetter);\n        way = way ? way[1].toLowerCase() : \"c\";\n        switch (way) {\n            case \"t\":\n                out.dx = 0;\n                out.dy = bx.y - bb.y;\n            break;\n            case \"b\":\n                out.dx = 0;\n                out.dy = bx.y2 - bb.y2;\n            break;\n            case \"m\":\n                out.dx = 0;\n                out.dy = bx.cy - bb.cy;\n            break;\n            case \"l\":\n                out.dx = bx.x - bb.x;\n                out.dy = 0;\n            break;\n            case \"r\":\n                out.dx = bx.x2 - bb.x2;\n                out.dy = 0;\n            break;\n            default:\n                out.dx = bx.cx - bb.cx;\n                out.dy = 0;\n            break;\n        }\n        out.toString = toString;\n        return out;\n    };\n    /*\\\n     * Element.align\n     [ method ]\n     **\n     * Aligns the element relatively to given one via transformation.\n     * If no elements specified, parent `<svg>` container will be used.\n     - el (object) @optional alignment element\n     - way (string) one of six values: `\"top\"`, `\"middle\"`, `\"bottom\"`, `\"left\"`, `\"center\"`, `\"right\"`\n     = (object) this element\n     > Usage\n     | el.align(el2, \"top\");\n     * or\n     | el.align(\"middle\");\n    \\*/\n    Element.prototype.align = function (el, way) {\n        return this.transform(\"...\" + this.getAlign(el, way));\n    };\n});\n\n// Copyright (c) 2016 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        Str = String,\n        has = \"hasOwnProperty\";\n    function slice(from, to, f) {\n        return function (arr) {\n            var res = arr.slice(from, to);\n            if (res.length == 1) {\n                res = res[0];\n            }\n            return f ? f(res) : res;\n        };\n    }\n    var Animation = function (attr, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        this.attr = attr;\n        this.dur = ms;\n        easing && (this.easing = easing);\n        callback && (this.callback = callback);\n    };\n    Snap._.Animation = Animation;\n    /*\\\n     * Snap.animation\n     [ method ]\n     **\n     * Creates an animation object\n     **\n     - attr (object) attributes of final destination\n     - duration (number) duration of the animation, in milliseconds\n     - easing (function) #optional one of easing functions of @mina or custom one\n     - callback (function) #optional callback function that fires when animation ends\n     = (object) animation object\n    \\*/\n    Snap.animation = function (attr, ms, easing, callback) {\n        return new Animation(attr, ms, easing, callback);\n    };\n    /*\\\n     * Element.inAnim\n     [ method ]\n     **\n     * Returns a set of animations that may be able to manipulate the current element\n     **\n     = (object) in format:\n     o {\n     o     anim (object) animation object,\n     o     mina (object) @mina object,\n     o     curStatus (number) 0..1  status of the animation: 0  just started, 1  just finished,\n     o     status (function) gets or sets the status of the animation,\n     o     stop (function) stops the animation\n     o }\n    \\*/\n    elproto.inAnim = function () {\n        var el = this,\n            res = [];\n        for (var id in el.anims) if (el.anims[has](id)) {\n            (function (a) {\n                res.push({\n                    anim: new Animation(a._attrs, a.dur, a.easing, a._callback),\n                    mina: a,\n                    curStatus: a.status(),\n                    status: function (val) {\n                        return a.status(val);\n                    },\n                    stop: function () {\n                        a.stop();\n                    }\n                });\n            }(el.anims[id]));\n        }\n        return res;\n    };\n    /*\\\n     * Snap.animate\n     [ method ]\n     **\n     * Runs generic animation of one number into another with a caring function\n     **\n     - from (number|array) number or array of numbers\n     - to (number|array) number or array of numbers\n     - setter (function) caring function that accepts one number argument\n     - duration (number) duration, in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function to execute when animation ends\n     = (object) animation object in @mina format\n     o {\n     o     id (string) animation id, consider it read-only,\n     o     duration (function) gets or sets the duration of the animation,\n     o     easing (function) easing,\n     o     speed (function) gets or sets the speed of the animation,\n     o     status (function) gets or sets the status of the animation,\n     o     stop (function) stops the animation\n     o }\n     | var rect = Snap().rect(0, 0, 10, 10);\n     | Snap.animate(0, 10, function (val) {\n     |     rect.attr({\n     |         x: val\n     |     });\n     | }, 1000);\n     | // in given context is equivalent to\n     | rect.animate({x: 10}, 1000);\n    \\*/\n    Snap.animate = function (from, to, setter, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        var now = mina.time(),\n            anim = mina(from, to, now, now + ms, mina.time, setter, easing);\n        callback && eve.once(\"mina.finish.\" + anim.id, callback);\n        return anim;\n    };\n    /*\\\n     * Element.stop\n     [ method ]\n     **\n     * Stops all the animations for the current element\n     **\n     = (Element) the current element\n    \\*/\n    elproto.stop = function () {\n        var anims = this.inAnim();\n        for (var i = 0, ii = anims.length; i < ii; i++) {\n            anims[i].stop();\n        }\n        return this;\n    };\n    /*\\\n     * Element.animate\n     [ method ]\n     **\n     * Animates the given attributes of the element\n     **\n     - attrs (object) key-value pairs of destination attributes\n     - duration (number) duration of the animation in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function that executes when the animation ends\n     = (Element) the current element\n    \\*/\n    elproto.animate = function (attrs, ms, easing, callback) {\n        if (typeof easing == \"function\" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        if (attrs instanceof Animation) {\n            callback = attrs.callback;\n            easing = attrs.easing;\n            ms = attrs.dur;\n            attrs = attrs.attr;\n        }\n        var fkeys = [], tkeys = [], keys = {}, from, to, f, eq,\n            el = this;\n        for (var key in attrs) if (attrs[has](key)) {\n            if (el.equal) {\n                eq = el.equal(key, Str(attrs[key]));\n                from = eq.from;\n                to = eq.to;\n                f = eq.f;\n            } else {\n                from = +el.attr(key);\n                to = +attrs[key];\n            }\n            var len = is(from, \"array\") ? from.length : 1;\n            keys[key] = slice(fkeys.length, fkeys.length + len, f);\n            fkeys = fkeys.concat(from);\n            tkeys = tkeys.concat(to);\n        }\n        var now = mina.time(),\n            anim = mina(fkeys, tkeys, now, now + ms, mina.time, function (val) {\n                var attr = {};\n                for (var key in keys) if (keys[has](key)) {\n                    attr[key] = keys[key](val);\n                }\n                el.attr(attr);\n            }, easing);\n        el.anims[anim.id] = anim;\n        anim._attrs = attrs;\n        anim._callback = callback;\n        eve(\"snap.animcreated.\" + el.id, anim);\n        eve.once(\"mina.finish.\" + anim.id, function () {\n            eve.off(\"mina.*.\" + anim.id);\n            delete el.anims[anim.id];\n            callback && callback.call(el);\n        });\n        eve.once(\"mina.stop.\" + anim.id, function () {\n            eve.off(\"mina.*.\" + anim.id);\n            delete el.anims[anim.id];\n        });\n        return el;\n    };\n});\n\n// Copyright (c) 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    // Colours are from https://www.materialui.co\n    var red         = \"#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000\",\n        pink        = \"#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162\",\n        purple      = \"#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF\",\n        deeppurple  = \"#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA\",\n        indigo      = \"#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE\",\n        blue        = \"#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF\",\n        lightblue   = \"#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA\",\n        cyan        = \"#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4\",\n        teal        = \"#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5\",\n        green       = \"#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853\",\n        lightgreen  = \"#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17\",\n        lime        = \"#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00\",\n        yellow      = \"#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600\",\n        amber       = \"#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00\",\n        orange      = \"#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00\",\n        deeporange  = \"#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00\",\n        brown       = \"#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723\",\n        grey        = \"#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121\",\n        bluegrey    = \"#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238\";\n    /*\\\n     * Snap.mui\n     [ property ]\n     **\n     * Contain Material UI colours.\n     | Snap().rect(0, 0, 10, 10).attr({fill: Snap.mui.deeppurple, stroke: Snap.mui.amber[600]});\n     # For colour reference: <a href=\"https://www.materialui.co\">https://www.materialui.co</a>.\n    \\*/\n    Snap.mui = {};\n    /*\\\n     * Snap.flat\n     [ property ]\n     **\n     * Contain Flat UI colours.\n     | Snap().rect(0, 0, 10, 10).attr({fill: Snap.flat.carrot, stroke: Snap.flat.wetasphalt});\n     # For colour reference: <a href=\"https://www.materialui.co\">https://www.materialui.co</a>.\n    \\*/\n    Snap.flat = {};\n    function saveColor(colors) {\n        colors = colors.split(/(?=#)/);\n        var color = new String(colors[5]);\n        color[50] = colors[0];\n        color[100] = colors[1];\n        color[200] = colors[2];\n        color[300] = colors[3];\n        color[400] = colors[4];\n        color[500] = colors[5];\n        color[600] = colors[6];\n        color[700] = colors[7];\n        color[800] = colors[8];\n        color[900] = colors[9];\n        if (colors[10]) {\n            color.A100 = colors[10];\n            color.A200 = colors[11];\n            color.A400 = colors[12];\n            color.A700 = colors[13];\n        }\n        return color;\n    }\n    Snap.mui.red = saveColor(red);\n    Snap.mui.pink = saveColor(pink);\n    Snap.mui.purple = saveColor(purple);\n    Snap.mui.deeppurple = saveColor(deeppurple);\n    Snap.mui.indigo = saveColor(indigo);\n    Snap.mui.blue = saveColor(blue);\n    Snap.mui.lightblue = saveColor(lightblue);\n    Snap.mui.cyan = saveColor(cyan);\n    Snap.mui.teal = saveColor(teal);\n    Snap.mui.green = saveColor(green);\n    Snap.mui.lightgreen = saveColor(lightgreen);\n    Snap.mui.lime = saveColor(lime);\n    Snap.mui.yellow = saveColor(yellow);\n    Snap.mui.amber = saveColor(amber);\n    Snap.mui.orange = saveColor(orange);\n    Snap.mui.deeporange = saveColor(deeporange);\n    Snap.mui.brown = saveColor(brown);\n    Snap.mui.grey = saveColor(grey);\n    Snap.mui.bluegrey = saveColor(bluegrey);\n    Snap.flat.turquoise = \"#1abc9c\";\n    Snap.flat.greensea = \"#16a085\";\n    Snap.flat.sunflower = \"#f1c40f\";\n    Snap.flat.orange = \"#f39c12\";\n    Snap.flat.emerland = \"#2ecc71\";\n    Snap.flat.nephritis = \"#27ae60\";\n    Snap.flat.carrot = \"#e67e22\";\n    Snap.flat.pumpkin = \"#d35400\";\n    Snap.flat.peterriver = \"#3498db\";\n    Snap.flat.belizehole = \"#2980b9\";\n    Snap.flat.alizarin = \"#e74c3c\";\n    Snap.flat.pomegranate = \"#c0392b\";\n    Snap.flat.amethyst = \"#9b59b6\";\n    Snap.flat.wisteria = \"#8e44ad\";\n    Snap.flat.clouds = \"#ecf0f1\";\n    Snap.flat.silver = \"#bdc3c7\";\n    Snap.flat.wetasphalt = \"#34495e\";\n    Snap.flat.midnightblue = \"#2c3e50\";\n    Snap.flat.concrete = \"#95a5a6\";\n    Snap.flat.asbestos = \"#7f8c8d\";\n    /*\\\n     * Snap.importMUIColors\n     [ method ]\n     **\n     * Imports Material UI colours into global object.\n     | Snap.importMUIColors();\n     | Snap().rect(0, 0, 10, 10).attr({fill: deeppurple, stroke: amber[600]});\n     # For colour reference: <a href=\"https://www.materialui.co\">https://www.materialui.co</a>.\n    \\*/\n    Snap.importMUIColors = function () {\n        for (var color in Snap.mui) {\n            if (Snap.mui.hasOwnProperty(color)) {\n                window[color] = Snap.mui[color];\n            }\n        }\n    };\n});\n\nmodule.exports = Snap\n\n\n\n// WEBPACK FOOTER //\n// ../~/snapsvg-cjs/dist/snap.svg-cjs.js","\"use strict\";\n\nmodule.exports = {\n  /*\r\n   * https://github.com/oblador/angular-scroll (duScrollDefaultEasing)\r\n   */\n  defaultEasing: function defaultEasing(x) {\n    if (x < 0.5) {\n      return Math.pow(x * 2, 2) / 2;\n    }\n    return 1 - Math.pow((1 - x) * 2, 2) / 2;\n  },\n  /*\r\n   * https://gist.github.com/gre/1650294\r\n   */\n  // no easing, no acceleration\n  linear: function linear(x) {\n    return x;\n  },\n  // accelerating from zero velocity\n  easeInQuad: function easeInQuad(x) {\n    return x * x;\n  },\n  // decelerating to zero velocity\n  easeOutQuad: function easeOutQuad(x) {\n    return x * (2 - x);\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: function easeInOutQuad(x) {\n    return x < .5 ? 2 * x * x : -1 + (4 - 2 * x) * x;\n  },\n  // accelerating from zero velocity \n  easeInCubic: function easeInCubic(x) {\n    return x * x * x;\n  },\n  // decelerating to zero velocity \n  easeOutCubic: function easeOutCubic(x) {\n    return --x * x * x + 1;\n  },\n  // acceleration until halfway, then deceleration \n  easeInOutCubic: function easeInOutCubic(x) {\n    return x < .5 ? 4 * x * x * x : (x - 1) * (2 * x - 2) * (2 * x - 2) + 1;\n  },\n  // accelerating from zero velocity \n  easeInQuart: function easeInQuart(x) {\n    return x * x * x * x;\n  },\n  // decelerating to zero velocity \n  easeOutQuart: function easeOutQuart(x) {\n    return 1 - --x * x * x * x;\n  },\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: function easeInOutQuart(x) {\n    return x < .5 ? 8 * x * x * x * x : 1 - 8 * --x * x * x * x;\n  },\n  // accelerating from zero velocity\n  easeInQuint: function easeInQuint(x) {\n    return x * x * x * x * x;\n  },\n  // decelerating to zero velocity\n  easeOutQuint: function easeOutQuint(x) {\n    return 1 + --x * x * x * x * x;\n  },\n  // acceleration until halfway, then deceleration \n  easeInOutQuint: function easeInOutQuint(x) {\n    return x < .5 ? 16 * x * x * x * x * x : 1 + 16 * --x * x * x * x * x;\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/mixins/smooth.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Sticky = function (_Component) {\n  _inherits(Sticky, _Component);\n\n  function Sticky() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Sticky);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Sticky.__proto__ || Object.getPrototypeOf(Sticky)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      isSticky: false,\n      wasSticky: false,\n      style: {}\n    }, _this.handleContainerEvent = function (_ref2) {\n      var distanceFromTop = _ref2.distanceFromTop,\n          distanceFromBottom = _ref2.distanceFromBottom,\n          eventSource = _ref2.eventSource;\n\n      var parent = _this.context.getParent();\n\n      var preventingStickyStateChanges = false;\n      if (_this.props.relative) {\n        preventingStickyStateChanges = eventSource !== parent;\n        distanceFromTop = -(eventSource.scrollTop + eventSource.offsetTop) + _this.placeholder.offsetTop;\n      }\n\n      var placeholderClientRect = _this.placeholder.getBoundingClientRect();\n      var contentClientRect = _this.content.getBoundingClientRect();\n      var calculatedHeight = contentClientRect.height;\n\n      var bottomDifference = distanceFromBottom - _this.props.bottomOffset - calculatedHeight;\n\n      var wasSticky = !!_this.state.isSticky;\n      var isSticky = preventingStickyStateChanges ? wasSticky : distanceFromTop <= -_this.props.topOffset && distanceFromBottom > -_this.props.bottomOffset;\n\n      distanceFromBottom = (_this.props.relative ? parent.scrollHeight - parent.scrollTop : distanceFromBottom) - calculatedHeight;\n\n      var style = !isSticky ? {} : {\n        position: 'fixed',\n        top: bottomDifference > 0 ? _this.props.relative ? parent.offsetTop - parent.offsetParent.scrollTop : 0 : bottomDifference,\n        left: placeholderClientRect.left,\n        width: placeholderClientRect.width\n      };\n\n      if (!_this.props.disableHardwareAcceleration) {\n        style.transform = 'translateZ(0)';\n      }\n\n      _this.setState({\n        isSticky: isSticky,\n        wasSticky: wasSticky,\n        distanceFromTop: distanceFromTop,\n        distanceFromBottom: distanceFromBottom,\n        calculatedHeight: calculatedHeight,\n        style: style\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Sticky, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      if (!this.context.subscribe) throw new TypeError(\"Expected Sticky to be mounted within StickyContainer\");\n\n      this.context.subscribe(this.handleContainerEvent);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.context.unsubscribe(this.handleContainerEvent);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.placeholder.style.paddingBottom = this.props.disableCompensation ? 0 : (this.state.isSticky ? this.state.calculatedHeight : 0) + 'px';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var element = _react2.default.cloneElement(this.props.children({\n        isSticky: this.state.isSticky,\n        wasSticky: this.state.wasSticky,\n        distanceFromTop: this.state.distanceFromTop,\n        distanceFromBottom: this.state.distanceFromBottom,\n        calculatedHeight: this.state.calculatedHeight,\n        style: this.state.style\n      }), { ref: function ref(content) {\n          _this2.content = _reactDom2.default.findDOMNode(content);\n        } });\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement('div', { ref: function ref(placeholder) {\n            return _this2.placeholder = placeholder;\n          } }),\n        element\n      );\n    }\n  }]);\n\n  return Sticky;\n}(_react.Component);\n\nSticky.propTypes = {\n  topOffset: _propTypes2.default.number,\n  bottomOffset: _propTypes2.default.number,\n  relative: _propTypes2.default.bool,\n  children: _propTypes2.default.func.isRequired\n};\nSticky.defaultProps = {\n  relative: false,\n  topOffset: 0,\n  bottomOffset: 0,\n  disableCompensation: false,\n  disableHardwareAcceleration: false\n};\nSticky.contextTypes = {\n  subscribe: _propTypes2.default.func,\n  unsubscribe: _propTypes2.default.func,\n  getParent: _propTypes2.default.func\n};\nexports.default = Sticky;\n\n\n// WEBPACK FOOTER //\n// ../~/react-sticky/lib/Sticky.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = {\n  slide: require('./menus/slide'),\n  stack: require('./menus/stack'),\n  elastic: require('./menus/elastic'),\n  bubble: require('./menus/bubble'),\n  push: require('./menus/push'),\n  pushRotate: require('./menus/pushRotate'),\n  scaleDown: require('./menus/scaleDown'),\n  scaleRotate: require('./menus/scaleRotate'),\n  fallDown: require('./menus/fallDown'),\n  reveal: require('./menus/reveal')\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/BurgerMenu.js","import PropTypes from 'prop-types';\n\nimport BlockGrid from '../BlockGrid';\n\nimport style from './style.css';\n\nconst ProjectList = (props) => {\n  const { list } = props;\n\n  const listItems = list.map(item =>\n    (\n      <div className={style.projectList}>\n        <a href={item.target}>\n          <img\n            alt={item.thumbnail.alt}\n            className={style.thumbnail}\n            src={item.thumbnail.src}\n          />\n        </a>\n\n        <h2>{ item.heading }</h2>\n        <p>{ item.description }</p>\n\n        <a href={item.target}>\n          { item.link }\n        </a>\n      </div>));\n\n  return (\n    <BlockGrid items={listItems} />\n  );\n};\n\nProjectList.defaultProps = {\n  list: [],\n};\n\nProjectList.propTypes = {\n  list: PropTypes.array,\n};\n\nexport default ProjectList;\n\n\n\n// WEBPACK FOOTER //\n// ./components/ProjectList/index.js","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar Helpers = require('../mixins/Helpers');\n\nvar Link = function (_React$Component) {\n  _inherits(Link, _React$Component);\n\n  function Link() {\n    _classCallCheck(this, Link);\n\n    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n  }\n\n  _createClass(Link, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement(\n        'a',\n        this.props,\n        this.props.children\n      );\n    }\n  }]);\n\n  return Link;\n}(React.Component);\n\n;\n\nmodule.exports = Helpers.Scroll(Link);\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/components/Link.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StickyContainer = exports.Sticky = undefined;\n\nvar _Sticky = require('./Sticky');\n\nvar _Sticky2 = _interopRequireDefault(_Sticky);\n\nvar _Container = require('./Container');\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Sticky = _Sticky2.default;\nexports.StickyContainer = _Container2.default;\nexports.default = _Sticky2.default;\n\n\n// WEBPACK FOOTER //\n// ../~/react-sticky/lib/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"blockGrid\":\"blockGrid__2vnNa\",\"itemThird\":\"itemThird__2Qjah\",\"itemFourth\":\"itemFourth__2KdmZ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/BlockGrid/style.css\n// module id = Pro0\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"governanceList\":\"governanceList__329bw\",\"content\":\"content__2UNI4\",\"count\":\"count__23bGU\",\"itemContent\":\"itemContent__2Z4Ct\",\"itemWrapper\":\"itemWrapper__386Oe\",\"thumbnail\":\"thumbnail__2gHMV\",\"secondary\":\"secondary__3hl0a\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/GovernanceList/style.css\n// module id = QIRz\n// module chunks = 0","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar Helpers = require('../mixins/Helpers');\n\nvar Element = function (_React$Component) {\n  _inherits(Element, _React$Component);\n\n  function Element() {\n    _classCallCheck(this, Element);\n\n    return _possibleConstructorReturn(this, (Element.__proto__ || Object.getPrototypeOf(Element)).apply(this, arguments));\n  }\n\n  _createClass(Element, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      // Remove `parentBindings` from props\n      var newProps = _extends({}, this.props);\n      if (newProps.parentBindings) {\n        delete newProps.parentBindings;\n      }\n\n      return React.createElement(\n        'div',\n        _extends({}, newProps, { ref: function ref(el) {\n            _this2.props.parentBindings.domNode = el;\n          } }),\n        this.props.children\n      );\n    }\n  }]);\n\n  return Element;\n}(React.Component);\n\n;\n\nmodule.exports = Helpers.Element(Element);\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/components/Element.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar styles = {\n\n  overlay: function overlay(isOpen) {\n    return {\n      position: 'fixed',\n      zIndex: 1,\n      width: '100%',\n      height: '100%',\n      background: 'rgba(0, 0, 0, 0.3)',\n      opacity: isOpen ? 1 : 0,\n      MozTransform: isOpen ? '' : 'translate3d(100%, 0, 0)',\n      MsTransform: isOpen ? '' : 'translate3d(100%, 0, 0)',\n      OTransform: isOpen ? '' : 'translate3d(100%, 0, 0)',\n      WebkitTransform: isOpen ? '' : 'translate3d(100%, 0, 0)',\n      transform: isOpen ? '' : 'translate3d(100%, 0, 0)',\n      transition: isOpen ? 'opacity 0.3s' : 'opacity 0.3s, transform 0s 0.3s'\n    };\n  },\n\n  menuWrap: function menuWrap(isOpen, width, right) {\n    return {\n      position: 'fixed',\n      right: right ? 0 : 'inherit',\n      zIndex: 2,\n      width: width,\n      height: '100%',\n      MozTransform: isOpen ? '' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transition: 'all 0.5s'\n    };\n  },\n\n  menu: function menu() {\n    return {\n      height: '100%',\n      boxSizing: 'border-box',\n      overflow: 'auto'\n    };\n  },\n\n  itemList: function itemList() {\n    return {\n      height: '100%'\n    };\n  },\n\n  item: function item() {\n    return {\n      display: 'block',\n      outline: 'none'\n    };\n  },\n\n  burgerIcon: function burgerIcon(isOpen, width, right) {\n    return {};\n  }\n\n};\n\nexports['default'] = styles;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/baseStyles.js","'use strict';\n\nvar _require = require('./passive-event-listeners'),\n    addPassiveEventListener = _require.addPassiveEventListener,\n    removePassiveEventListener = _require.removePassiveEventListener;\n\nvar events = ['mousedown', 'mousewheel', 'touchmove', 'keydown'];\n\nmodule.exports = {\n  subscribe: function subscribe(cancelEvent) {\n    return typeof document !== 'undefined' && events.forEach(function (event) {\n      return addPassiveEventListener(document, event, cancelEvent);\n    });\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/mixins/cancel-events.js","import PropTypes from 'prop-types';\n\nimport { slide as Menu } from 'react-burger-menu';\nimport Scroll from 'react-scroll';\nimport { Sticky } from 'react-sticky';\n\nimport Header from '../Header';\n\nimport css from './style.css'; // Uses css instead of the usual 'style' to avoid variable shadowing with the sticky nav\n\nconst { Link } = Scroll;\n\nconst PageMenu = (props) => {\n  const {\n    links,\n  } = props;\n\n  const menuLinks = links.map(link =>\n    (\n      <Link\n        activeClass={css.active}\n        to={link.target}\n        spy\n        smooth\n        offset={-130}\n        duration={500}\n      >\n        { link.name }\n      </Link>));\n\n  return (\n    <div className={css.pageMenu}>\n      <Sticky>\n        { ({ isSticky, style }) => (\n          <Header\n            isSticky={isSticky}\n            links={menuLinks}\n            style={style}\n          />\n        ) }\n      </Sticky>\n\n      <Menu right>\n        { menuLinks }\n      </Menu>\n    </div>\n  );\n};\n\nPageMenu.defaultProps = {\n  links: [],\n};\n\nPageMenu.propTypes = {\n  links: PropTypes.array,\n};\n\nexport default PageMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./components/PageMenu/index.js","'use strict';\n\nvar addPassiveEventListener = require('./passive-event-listeners');\nvar utils = require('./utils');\n\nvar scrollHash = {\n  mountFlag: false,\n  initialized: false,\n  scroller: null,\n\n  mount: function mount(scroller) {\n    this.scroller = scroller;\n\n    this.handleHashChange = this.handleHashChange.bind(this);\n    window.addEventListener('hashchange', this.handleHashChange);\n\n    this.initStateFromHash();\n    this.mountFlag = true;\n  },\n  isMounted: function isMounted() {\n    return this.mountFlag;\n  },\n  isInitialized: function isInitialized() {\n    return this.initialized;\n  },\n  initStateFromHash: function initStateFromHash() {\n    var _this = this;\n\n    var hash = this.getHash();\n    if (hash) {\n      // time to all component Elements can registered in componentDidMount phase\n      window.setTimeout(function () {\n        _this.scrollTo(hash, true);\n        _this.initialized = true;\n      }, 10);\n    } else {\n      this.initialized = true;\n    }\n  },\n  scrollTo: function scrollTo(to, isInit) {\n    var scroller = this.scroller;\n    var element = scroller.get(to);\n    if (element && (isInit || to !== scroller.getActiveLink())) {\n      var container = utils.getScrollParent(element);\n      // scroller.setActiveLink(to);\n      scroller.scrollTo(to, { container: container });\n    }\n  },\n  getHash: function getHash() {\n    return utils.getHash();\n  },\n  changeHash: function changeHash(to) {\n    if (this.isInitialized()) {\n      utils.pushHash(to);\n    }\n  },\n  handleHashChange: function handleHashChange() {\n    this.scrollTo(this.getHash());\n  },\n\n\n  // todo - think about when unmount? (it can work without Links, while any element with id exists)\n  unmount: function unmount() {\n    this.scroller = null;\n    window.removeEventListener('hashchange', this.handleHashChange);\n  }\n};\n\nmodule.exports = scrollHash;\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/mixins/scroll-hash.js","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n// WEBPACK FOOTER //\n// ../~/fbjs/lib/emptyFunction.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, -600px) rotateY(20deg)' : 'translate3d(100px, 0, -600px) rotateY(-20deg)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, -600px) rotateY(20deg)' : 'translate3d(100px, 0, -600px) rotateY(-20deg)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, -600px) rotateY(20deg)' : 'translate3d(100px, 0, -600px) rotateY(-20deg)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, -600px) rotateY(20deg)' : 'translate3d(100px, 0, -600px) rotateY(-20deg)',\n      transform: isOpen ? '' : right ? 'translate3d(-100px, 0, -600px) rotateY(20deg)' : 'translate3d(100px, 0, -600px) rotateY(-20deg)',\n      transformStyle: 'preserve-3d',\n      transition: 'all 0.5s',\n      overflow: isOpen ? '' : 'hidden'\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      perspective: '1500px',\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menus/scaleRotate.js","import PropTypes from 'prop-types';\n\nimport BlockGrid from '../BlockGrid';\n\nimport style from './style.css';\n\nconst GovernanceList = (props) => {\n  const { list } = props;\n\n  const listItems = list.map((item, index) => {\n    const Secondary = () => {\n      if (item.secondary) {\n        return (\n          <div className={style.secondary}>\n            <h3>{ item.secondary.heading }</h3>\n            <p>{ item.secondary.content }</p>\n          </div>\n        );\n      }\n\n      return null;\n    };\n\n    return (\n      <div className={style.governanceList}>\n        <div className={style.itemWrapper}>\n          <div className={style.itemContent}>\n            <h2 className={style.count}>\n              <small>No</small>{ index + 1 }\n            </h2>\n            <div className={style.content}>\n              <p>\n                { item.description }\n              </p>\n              <Secondary />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  });\n\n  return (\n    <BlockGrid items={listItems} />\n  );\n};\n\nGovernanceList.defaultProps = {\n  list: [],\n};\n\nGovernanceList.propTypes = {\n  list: PropTypes.array,\n};\n\nexport default GovernanceList;\n\n\n\n// WEBPACK FOOTER //\n// ./components/GovernanceList/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"home\":\"home__MseGd\",\"headingCOZ\":\"headingCOZ__2NnxS\",\"subHeadingCOZ\":\"subHeadingCOZ__RhPJA\",\"tagline\":\"tagline__18fpn\",\"taglineContent\":\"taglineContent__ny-M6\",\"taglineWrapper\":\"taglineWrapper__3sTvD\",\"heroContent\":\"heroContent__IytNh\",\"subtitle\":\"subtitle__3NylB\",\"governanceSubtitle\":\"governanceSubtitle__1vhaP\",\"welcomeBox\":\"welcomeBox__2OvPS\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./routes/home/style.css\n// module id = ZAL5\n// module chunks = 0","import PropTypes from 'prop-types';\n\nimport ContentWrapper from '../ContentWrapper';\nimport Logo from '../Logo';\n\nimport css from './style.css';\n\nconst Header = (props) => {\n  const { isSticky, links, style } = props;\n\n  return (\n    <header className={css.header} style={style}>\n      <div className={isSticky ? css.headerWrapperVisible : css.headerWrapper}>\n        <ContentWrapper>\n          <div className={css.logo}>\n            <Logo />\n          </div>\n\n          <nav>\n            { links }\n          </nav>\n        </ContentWrapper>\n      </div>\n    </header>\n  );\n};\n\nHeader.defaultProps = {\n  isSticky: false,\n};\n\nHeader.propTypes = {\n  isSticky: PropTypes.bool,\n  links: PropTypes.node.isRequired,\n  style: PropTypes.object.isRequired,\n};\n\nexport default Header;\n\n\n\n// WEBPACK FOOTER //\n// ./components/Header/index.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar BurgerIcon = (function (_Component) {\n  _inherits(BurgerIcon, _Component);\n\n  function BurgerIcon(props) {\n    _classCallCheck(this, BurgerIcon);\n\n    _get(Object.getPrototypeOf(BurgerIcon.prototype), 'constructor', this).call(this, props);\n    this.state = {\n      hover: false\n    };\n  }\n\n  _createClass(BurgerIcon, [{\n    key: 'getLineStyle',\n    value: function getLineStyle(index) {\n      return {\n        position: 'absolute',\n        height: '20%',\n        left: 0,\n        right: 0,\n        top: 20 * (index * 2) + '%',\n        opacity: this.state.hover ? 0.6 : 1\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this = this;\n\n      var icon = undefined;\n      var buttonStyle = {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        width: '100%',\n        height: '100%',\n        margin: 0,\n        padding: 0,\n        border: 'none',\n        opacity: 0,\n        fontSize: 8,\n        cursor: 'pointer'\n      };\n\n      if (this.props.customIcon) {\n        var extraProps = {\n          className: 'bm-icon',\n          style: _extends({ width: '100%', height: '100%' }, this.props.styles.bmIcon)\n        };\n        icon = _react2['default'].cloneElement(this.props.customIcon, extraProps);\n      } else {\n        icon = _react2['default'].createElement(\n          'span',\n          null,\n          [0, 1, 2].map(function (bar) {\n            return _react2['default'].createElement('span', {\n              key: bar,\n              className: 'bm-burger-bars ' + _this.props.barClassName,\n              style: _extends({}, _this.getLineStyle(bar), _this.props.styles.bmBurgerBars)\n            });\n          })\n        );\n      }\n\n      return _react2['default'].createElement(\n        'div',\n        {\n          className: 'bm-burger-button ' + this.props.className,\n          style: _extends({ zIndex: 1 }, this.props.styles.bmBurgerButton)\n        },\n        icon,\n        _react2['default'].createElement(\n          'button',\n          {\n            onClick: this.props.onClick,\n            onMouseOver: function () {\n              return _this.setState({ hover: true });\n            },\n            onMouseOut: function () {\n              return _this.setState({ hover: false });\n            },\n            style: buttonStyle\n          },\n          'Open Menu'\n        )\n      );\n    }\n  }]);\n\n  return BurgerIcon;\n})(_react.Component);\n\nexports['default'] = BurgerIcon;\n\nBurgerIcon.propTypes = {\n  barClassName: _propTypes2['default'].string,\n  customIcon: _propTypes2['default'].element,\n  styles: _propTypes2['default'].object\n};\n\nBurgerIcon.defaultProps = {\n  barClassName: '',\n  className: '',\n  styles: {}\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/BurgerIcon.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"resources\":\"resources__3kWS3\",\"accent\":\"accent__1nhVP\",\"wrapper\":\"wrapper__2rbGW\",\"container\":\"container__FezQu\",\"subtitle\":\"subtitle__AUUpR\",\"socialList\":\"socialList__TdX5_\",\"itemContent\":\"itemContent__2tF0Q\",\"license\":\"license__2hMGP\",\"pullRequest\":\"pullRequest__1N-ow\",\"testNet\":\"testNet__1KJun\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Resources/style.css\n// module id = cEJm\n// module chunks = 0","\"use strict\";\n\nvar Events = {\n\tregistered: {},\n\tscrollEvent: {\n\t\tregister: function register(evtName, callback) {\n\t\t\tEvents.registered[evtName] = callback;\n\t\t},\n\t\tremove: function remove(evtName) {\n\t\t\tEvents.registered[evtName] = null;\n\t\t}\n\t}\n};\n\nmodule.exports = Events;\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/mixins/scroll-events.js","import PropTypes from 'prop-types';\n\nimport style from './style.css';\n\nconst Title = (props) => {\n  const {\n    children,\n  } = props;\n\n  return (\n    <div className={style.title}>\n      <svg\n        viewBox=\"0 0 44 38\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <g fill=\"#FFF\" fillRule=\"evenodd\">\n          <path d=\"M44 26l-5.666 6H27l11.334-12M33 15.067l-4.826-4.932L33 5.202 27.75.27 22.5 5.2 17.536 0 12 5.202 27.75 20M5.75 12L23 27.6 11.5 38H0l11.5-10.4L0 17.2\" />\n        </g>\n      </svg>\n\n      <h1>\n        { children }\n      </h1>\n    </div>\n  );\n};\n\nTitle.propTypes = {\n  children: PropTypes.string.isRequired,\n};\n\nexport default Title;\n\n\n\n// WEBPACK FOOTER //\n// ./components/Title/index.js","import PropTypes from 'prop-types';\nimport { Component, cloneElement, h, options, render } from 'preact';\n\nvar version = '15.1.0'; // trick libraries to think we are react\n\nvar ELEMENTS = 'a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan'.split(' ');\n\nvar REACT_ELEMENT_TYPE = (typeof Symbol!=='undefined' && Symbol.for && Symbol.for('react.element')) || 0xeac7;\n\nvar COMPONENT_WRAPPER_KEY = typeof Symbol!=='undefined' ? Symbol.for('__preactCompatWrapper') : '__preactCompatWrapper';\n\n// don't autobind these methods since they already have guaranteed context.\nvar AUTOBIND_BLACKLIST = {\n\tconstructor: 1,\n\trender: 1,\n\tshouldComponentUpdate: 1,\n\tcomponentWillReceiveProps: 1,\n\tcomponentWillUpdate: 1,\n\tcomponentDidUpdate: 1,\n\tcomponentWillMount: 1,\n\tcomponentDidMount: 1,\n\tcomponentWillUnmount: 1,\n\tcomponentDidUnmount: 1\n};\n\n\nvar CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/;\n\n\nvar BYPASS_HOOK = {};\n\n/*global process*/\nvar DEV = typeof process==='undefined' || !process.env || process.env.NODE_ENV!=='production';\n\n// a component that renders nothing. Used to replace components for unmountComponentAtNode.\nfunction EmptyComponent() { return null; }\n\n\n\n// make react think we're react.\nvar VNode = h('a', null).constructor;\nVNode.prototype.$$typeof = REACT_ELEMENT_TYPE;\nVNode.prototype.preactCompatUpgraded = false;\nVNode.prototype.preactCompatNormalized = false;\n\nObject.defineProperty(VNode.prototype, 'type', {\n\tget: function() { return this.nodeName; },\n\tset: function(v) { this.nodeName = v; },\n\tconfigurable:true\n});\n\nObject.defineProperty(VNode.prototype, 'props', {\n\tget: function() { return this.attributes; },\n\tset: function(v) { this.attributes = v; },\n\tconfigurable:true\n});\n\n\n\nvar oldEventHook = options.event;\noptions.event = function (e) {\n\tif (oldEventHook) { e = oldEventHook(e); }\n\te.persist = Object;\n\te.nativeEvent = e;\n\treturn e;\n};\n\n\nvar oldVnodeHook = options.vnode;\noptions.vnode = function (vnode) {\n\tif (!vnode.preactCompatUpgraded) {\n\t\tvnode.preactCompatUpgraded = true;\n\n\t\tvar tag = vnode.nodeName,\n\t\t\tattrs = vnode.attributes = extend({}, vnode.attributes);\n\n\t\tif (typeof tag==='function') {\n\t\t\tif (tag[COMPONENT_WRAPPER_KEY]===true || (tag.prototype && 'isReactComponent' in tag.prototype)) {\n\t\t\t\tif (vnode.children && String(vnode.children)==='') { vnode.children = undefined; }\n\t\t\t\tif (vnode.children) { attrs.children = vnode.children; }\n\n\t\t\t\tif (!vnode.preactCompatNormalized) {\n\t\t\t\t\tnormalizeVNode(vnode);\n\t\t\t\t}\n\t\t\t\thandleComponentVNode(vnode);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (vnode.children && String(vnode.children)==='') { vnode.children = undefined; }\n\t\t\tif (vnode.children) { attrs.children = vnode.children; }\n\n\t\t\tif (attrs.defaultValue) {\n\t\t\t\tif (!attrs.value && attrs.value!==0) {\n\t\t\t\t\tattrs.value = attrs.defaultValue;\n\t\t\t\t}\n\t\t\t\tdelete attrs.defaultValue;\n\t\t\t}\n\n\t\t\thandleElementVNode(vnode, attrs);\n\t\t}\n\t}\n\n\tif (oldVnodeHook) { oldVnodeHook(vnode); }\n};\n\nfunction handleComponentVNode(vnode) {\n\tvar tag = vnode.nodeName,\n\t\ta = vnode.attributes;\n\n\tvnode.attributes = {};\n\tif (tag.defaultProps) { extend(vnode.attributes, tag.defaultProps); }\n\tif (a) { extend(vnode.attributes, a); }\n}\n\nfunction handleElementVNode(vnode, a) {\n\tvar shouldSanitize, attrs, i;\n\tif (a) {\n\t\tfor (i in a) { if ((shouldSanitize = CAMEL_PROPS.test(i))) { break; } }\n\t\tif (shouldSanitize) {\n\t\t\tattrs = vnode.attributes = {};\n\t\t\tfor (i in a) {\n\t\t\t\tif (a.hasOwnProperty(i)) {\n\t\t\t\t\tattrs[ CAMEL_PROPS.test(i) ? i.replace(/([A-Z0-9])/, '-$1').toLowerCase() : i ] = a[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// proxy render() since React returns a Component reference.\nfunction render$1(vnode, parent, callback) {\n\tvar prev = parent && parent._preactCompatRendered && parent._preactCompatRendered.base;\n\n\t// ignore impossible previous renders\n\tif (prev && prev.parentNode!==parent) { prev = null; }\n\n\t// default to first Element child\n\tif (!prev && parent) { prev = parent.firstElementChild; }\n\n\t// remove unaffected siblings\n\tfor (var i=parent.childNodes.length; i--; ) {\n\t\tif (parent.childNodes[i]!==prev) {\n\t\t\tparent.removeChild(parent.childNodes[i]);\n\t\t}\n\t}\n\n\tvar out = render(vnode, parent, prev);\n\tif (parent) { parent._preactCompatRendered = out && (out._component || { base: out }); }\n\tif (typeof callback==='function') { callback(); }\n\treturn out && out._component || out;\n}\n\n\nvar ContextProvider = function () {};\n\nContextProvider.prototype.getChildContext = function () {\n\treturn this.props.context;\n};\nContextProvider.prototype.render = function (props) {\n\treturn props.children[0];\n};\n\nfunction renderSubtreeIntoContainer(parentComponent, vnode, container, callback) {\n\tvar wrap = h(ContextProvider, { context: parentComponent.context }, vnode);\n\tvar renderContainer = render$1(wrap, container);\n\tvar component = renderContainer._component || renderContainer.base;\n\tif (callback) { callback.call(component, renderContainer); }\n\treturn component;\n}\n\n\nfunction unmountComponentAtNode(container) {\n\tvar existing = container._preactCompatRendered && container._preactCompatRendered.base;\n\tif (existing && existing.parentNode===container) {\n\t\trender(h(EmptyComponent), container, existing);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n\n\nvar ARR = [];\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nvar Children = {\n\tmap: function(children, fn, ctx) {\n\t\tif (children == null) { return null; }\n\t\tchildren = Children.toArray(children);\n\t\tif (ctx && ctx!==children) { fn = fn.bind(ctx); }\n\t\treturn children.map(fn);\n\t},\n\tforEach: function(children, fn, ctx) {\n\t\tif (children == null) { return null; }\n\t\tchildren = Children.toArray(children);\n\t\tif (ctx && ctx!==children) { fn = fn.bind(ctx); }\n\t\tchildren.forEach(fn);\n\t},\n\tcount: function(children) {\n\t\treturn children && children.length || 0;\n\t},\n\tonly: function(children) {\n\t\tchildren = Children.toArray(children);\n\t\tif (children.length!==1) { throw new Error('Children.only() expects only one child.'); }\n\t\treturn children[0];\n\t},\n\ttoArray: function(children) {\n\t\tif (children == null) { return []; }\n\t\treturn ARR.concat(children);\n\t}\n};\n\n\n/** Track current render() component for ref assignment */\nvar currentComponent;\n\n\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n\nvar DOM = {};\nfor (var i=ELEMENTS.length; i--; ) {\n\tDOM[ELEMENTS[i]] = createFactory(ELEMENTS[i]);\n}\n\nfunction upgradeToVNodes(arr, offset) {\n\tfor (var i=offset || 0; i<arr.length; i++) {\n\t\tvar obj = arr[i];\n\t\tif (Array.isArray(obj)) {\n\t\t\tupgradeToVNodes(obj);\n\t\t}\n\t\telse if (obj && typeof obj==='object' && !isValidElement(obj) && ((obj.props && obj.type) || (obj.attributes && obj.nodeName) || obj.children)) {\n\t\t\tarr[i] = createElement(obj.type || obj.nodeName, obj.props || obj.attributes, obj.children);\n\t\t}\n\t}\n}\n\nfunction isStatelessComponent(c) {\n\treturn typeof c==='function' && !(c.prototype && c.prototype.render);\n}\n\n\n// wraps stateless functional components in a PropTypes validator\nfunction wrapStatelessComponent(WrappedComponent) {\n\treturn createClass({\n\t\tdisplayName: WrappedComponent.displayName || WrappedComponent.name,\n\t\trender: function() {\n\t\t\treturn WrappedComponent(this.props, this.context);\n\t\t}\n\t});\n}\n\n\nfunction statelessComponentHook(Ctor) {\n\tvar Wrapped = Ctor[COMPONENT_WRAPPER_KEY];\n\tif (Wrapped) { return Wrapped===true ? Ctor : Wrapped; }\n\n\tWrapped = wrapStatelessComponent(Ctor);\n\n\tObject.defineProperty(Wrapped, COMPONENT_WRAPPER_KEY, { configurable:true, value:true });\n\tWrapped.displayName = Ctor.displayName;\n\tWrapped.propTypes = Ctor.propTypes;\n\tWrapped.defaultProps = Ctor.defaultProps;\n\n\tObject.defineProperty(Ctor, COMPONENT_WRAPPER_KEY, { configurable:true, value:Wrapped });\n\n\treturn Wrapped;\n}\n\n\nfunction createElement() {\n\tvar args = [], len = arguments.length;\n\twhile ( len-- ) args[ len ] = arguments[ len ];\n\n\tupgradeToVNodes(args, 2);\n\treturn normalizeVNode(h.apply(void 0, args));\n}\n\n\nfunction normalizeVNode(vnode) {\n\tvnode.preactCompatNormalized = true;\n\n\tapplyClassName(vnode);\n\n\tif (isStatelessComponent(vnode.nodeName)) {\n\t\tvnode.nodeName = statelessComponentHook(vnode.nodeName);\n\t}\n\n\tvar ref = vnode.attributes.ref,\n\t\ttype = ref && typeof ref;\n\tif (currentComponent && (type==='string' || type==='number')) {\n\t\tvnode.attributes.ref = createStringRefProxy(ref, currentComponent);\n\t}\n\n\tapplyEventNormalization(vnode);\n\n\treturn vnode;\n}\n\n\nfunction cloneElement$1(element, props) {\n\tvar children = [], len = arguments.length - 2;\n\twhile ( len-- > 0 ) children[ len ] = arguments[ len + 2 ];\n\n\tif (!isValidElement(element)) { return element; }\n\tvar elementProps = element.attributes || element.props;\n\tvar node = h(\n\t\telement.nodeName || element.type,\n\t\telementProps,\n\t\telement.children || elementProps && elementProps.children\n\t);\n\t// Only provide the 3rd argument if needed.\n\t// Arguments 3+ overwrite element.children in preactCloneElement\n\tvar cloneArgs = [node, props];\n\tif (children && children.length) {\n\t\tcloneArgs.push(children);\n\t}\n\telse if (props && props.children) {\n\t\tcloneArgs.push(props.children);\n\t}\n\treturn normalizeVNode(cloneElement.apply(void 0, cloneArgs));\n}\n\n\nfunction isValidElement(element) {\n\treturn element && ((element instanceof VNode) || element.$$typeof===REACT_ELEMENT_TYPE);\n}\n\n\nfunction createStringRefProxy(name, component) {\n\treturn component._refProxies[name] || (component._refProxies[name] = function (resolved) {\n\t\tif (component && component.refs) {\n\t\t\tcomponent.refs[name] = resolved;\n\t\t\tif (resolved===null) {\n\t\t\t\tdelete component._refProxies[name];\n\t\t\t\tcomponent = null;\n\t\t\t}\n\t\t}\n\t});\n}\n\n\nfunction applyEventNormalization(ref) {\n\tvar nodeName = ref.nodeName;\n\tvar attributes = ref.attributes;\n\n\tif (!attributes || typeof nodeName!=='string') { return; }\n\tvar props = {};\n\tfor (var i in attributes) {\n\t\tprops[i.toLowerCase()] = i;\n\t}\n\tif (props.ondoubleclick) {\n\t\tattributes.ondblclick = attributes[props.ondoubleclick];\n\t\tdelete attributes[props.ondoubleclick];\n\t}\n\t// for *textual inputs* (incl textarea), normalize `onChange` -> `onInput`:\n\tif (props.onchange && (nodeName==='textarea' || (nodeName.toLowerCase()==='input' && !/^fil|che|rad/i.test(attributes.type)))) {\n\t\tvar normalized = props.oninput || 'oninput';\n\t\tif (!attributes[normalized]) {\n\t\t\tattributes[normalized] = multihook([attributes[normalized], attributes[props.onchange]]);\n\t\t\tdelete attributes[props.onchange];\n\t\t}\n\t}\n}\n\n\nfunction applyClassName(vnode) {\n\tvar a = vnode.attributes || (vnode.attributes = {});\n\tclassNameDescriptor.enumerable = 'className' in a;\n\tif (a.className) { a.class = a.className; }\n\tObject.defineProperty(a, 'className', classNameDescriptor);\n}\n\n\nvar classNameDescriptor = {\n\tconfigurable: true,\n\tget: function() { return this.class; },\n\tset: function(v) { this.class = v; }\n};\n\nfunction extend(base, props) {\n\tvar arguments$1 = arguments;\n\n\tfor (var i=1, obj = (void 0); i<arguments.length; i++) {\n\t\tif ((obj = arguments$1[i])) {\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\tbase[key] = obj[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn base;\n}\n\n\nfunction shallowDiffers(a, b) {\n\tfor (var i in a) { if (!(i in b)) { return true; } }\n\tfor (var i$1 in b) { if (a[i$1]!==b[i$1]) { return true; } }\n\treturn false;\n}\n\n\nfunction findDOMNode(component) {\n\treturn component && component.base || component;\n}\n\n\nfunction F(){}\n\nfunction createClass(obj) {\n\tfunction cl(props, context) {\n\t\tbindAll(this);\n\t\tComponent$1.call(this, props, context, BYPASS_HOOK);\n\t\tnewComponentHook.call(this, props, context);\n\t}\n\n\tobj = extend({ constructor: cl }, obj);\n\n\t// We need to apply mixins here so that getDefaultProps is correctly mixed\n\tif (obj.mixins) {\n\t\tapplyMixins(obj, collateMixins(obj.mixins));\n\t}\n\tif (obj.statics) {\n\t\textend(cl, obj.statics);\n\t}\n\tif (obj.propTypes) {\n\t\tcl.propTypes = obj.propTypes;\n\t}\n\tif (obj.defaultProps) {\n\t\tcl.defaultProps = obj.defaultProps;\n\t}\n\tif (obj.getDefaultProps) {\n\t\tcl.defaultProps = obj.getDefaultProps();\n\t}\n\n\tF.prototype = Component$1.prototype;\n\tcl.prototype = extend(new F(), obj);\n\n\tcl.displayName = obj.displayName || 'Component';\n\n\treturn cl;\n}\n\n\n// Flatten an Array of mixins to a map of method name to mixin implementations\nfunction collateMixins(mixins) {\n\tvar keyed = {};\n\tfor (var i=0; i<mixins.length; i++) {\n\t\tvar mixin = mixins[i];\n\t\tfor (var key in mixin) {\n\t\t\tif (mixin.hasOwnProperty(key) && typeof mixin[key]==='function') {\n\t\t\t\t(keyed[key] || (keyed[key]=[])).push(mixin[key]);\n\t\t\t}\n\t\t}\n\t}\n\treturn keyed;\n}\n\n\n// apply a mapping of Arrays of mixin methods to a component prototype\nfunction applyMixins(proto, mixins) {\n\tfor (var key in mixins) { if (mixins.hasOwnProperty(key)) {\n\t\tproto[key] = multihook(\n\t\t\tmixins[key].concat(proto[key] || ARR),\n\t\t\tkey==='getDefaultProps' || key==='getInitialState' || key==='getChildContext'\n\t\t);\n\t} }\n}\n\n\nfunction bindAll(ctx) {\n\tfor (var i in ctx) {\n\t\tvar v = ctx[i];\n\t\tif (typeof v==='function' && !v.__bound && !AUTOBIND_BLACKLIST.hasOwnProperty(i)) {\n\t\t\t(ctx[i] = v.bind(ctx)).__bound = true;\n\t\t}\n\t}\n}\n\n\nfunction callMethod(ctx, m, args) {\n\tif (typeof m==='string') {\n\t\tm = ctx.constructor.prototype[m];\n\t}\n\tif (typeof m==='function') {\n\t\treturn m.apply(ctx, args);\n\t}\n}\n\nfunction multihook(hooks, skipDuplicates) {\n\treturn function() {\n\t\tvar arguments$1 = arguments;\n\t\tvar this$1 = this;\n\n\t\tvar ret;\n\t\tfor (var i=0; i<hooks.length; i++) {\n\t\t\tvar r = callMethod(this$1, hooks[i], arguments$1);\n\n\t\t\tif (skipDuplicates && r!=null) {\n\t\t\t\tif (!ret) { ret = {}; }\n\t\t\t\tfor (var key in r) { if (r.hasOwnProperty(key)) {\n\t\t\t\t\tret[key] = r[key];\n\t\t\t\t} }\n\t\t\t}\n\t\t\telse if (typeof r!=='undefined') { ret = r; }\n\t\t}\n\t\treturn ret;\n\t};\n}\n\n\nfunction newComponentHook(props, context) {\n\tpropsHook.call(this, props, context);\n\tthis.componentWillReceiveProps = multihook([propsHook, this.componentWillReceiveProps || 'componentWillReceiveProps']);\n\tthis.render = multihook([propsHook, beforeRender, this.render || 'render', afterRender]);\n}\n\n\nfunction propsHook(props, context) {\n\tif (!props) { return; }\n\n\t// React annoyingly special-cases single children, and some react components are ridiculously strict about this.\n\tvar c = props.children;\n\tif (c && Array.isArray(c) && c.length===1 && (typeof c[0]==='string' || typeof c[0]==='function' || c[0] instanceof VNode)) {\n\t\tprops.children = c[0];\n\n\t\t// but its totally still going to be an Array.\n\t\tif (props.children && typeof props.children==='object') {\n\t\t\tprops.children.length = 1;\n\t\t\tprops.children[0] = props.children;\n\t\t}\n\t}\n\n\t// add proptype checking\n\tif (DEV) {\n\t\tvar ctor = typeof this==='function' ? this : this.constructor,\n\t\t\tpropTypes = this.propTypes || ctor.propTypes;\n\t\tvar displayName = this.displayName || ctor.name;\n\n\t\tif (propTypes) {\n\t\t\tPropTypes.checkPropTypes(propTypes, props, 'prop', displayName);\n\t\t}\n\t}\n}\n\n\nfunction beforeRender(props) {\n\tcurrentComponent = this;\n}\n\nfunction afterRender() {\n\tif (currentComponent===this) {\n\t\tcurrentComponent = null;\n\t}\n}\n\n\n\nfunction Component$1(props, context, opts) {\n\tComponent.call(this, props, context);\n\tthis.state = this.getInitialState ? this.getInitialState() : {};\n\tthis.refs = {};\n\tthis._refProxies = {};\n\tif (opts!==BYPASS_HOOK) {\n\t\tnewComponentHook.call(this, props, context);\n\t}\n}\nextend(Component$1.prototype = new Component(), {\n\tconstructor: Component$1,\n\n\tisReactComponent: {},\n\n\treplaceState: function(state, callback) {\n\t\tvar this$1 = this;\n\n\t\tthis.setState(state, callback);\n\t\tfor (var i in this$1.state) {\n\t\t\tif (!(i in state)) {\n\t\t\t\tdelete this$1.state[i];\n\t\t\t}\n\t\t}\n\t},\n\n\tgetDOMNode: function() {\n\t\treturn this.base;\n\t},\n\n\tisMounted: function() {\n\t\treturn !!this.base;\n\t}\n});\n\n\n\nfunction PureComponent(props, context) {\n\tComponent$1.call(this, props, context);\n}\nF.prototype = Component$1.prototype;\nPureComponent.prototype = new F();\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n\nvar index = {\n\tversion: version,\n\tDOM: DOM,\n\tPropTypes: PropTypes,\n\tChildren: Children,\n\trender: render$1,\n\tcreateClass: createClass,\n\tcreateFactory: createFactory,\n\tcreateElement: createElement,\n\tcloneElement: cloneElement$1,\n\tisValidElement: isValidElement,\n\tfindDOMNode: findDOMNode,\n\tunmountComponentAtNode: unmountComponentAtNode,\n\tComponent: Component$1,\n\tPureComponent: PureComponent,\n\tunstable_renderSubtreeIntoContainer: renderSubtreeIntoContainer,\n\t__spread: extend\n};\n\nexport { version, DOM, PropTypes, Children, render$1 as render, createClass, createFactory, createElement, cloneElement$1 as cloneElement, isValidElement, findDOMNode, unmountComponentAtNode, Component$1 as Component, PureComponent, renderSubtreeIntoContainer as unstable_renderSubtreeIntoContainer, extend as __spread };export default index;\n//# sourceMappingURL=preact-compat.es.js.map\n\n\n\n// WEBPACK FOOTER //\n// ../~/preact-compat/dist/preact-compat.es.js","\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar utils = require('./utils');\nvar scrollSpy = require('./scroll-spy');\nvar defaultScroller = require('./scroller');\nvar assign = require('object-assign');\nvar PropTypes = require('prop-types');\nvar scrollHash = require('./scroll-hash');\n\nvar protoTypes = {\n  to: PropTypes.string.isRequired,\n  containerId: PropTypes.string,\n  container: PropTypes.object,\n  activeClass: PropTypes.string,\n  spy: PropTypes.bool,\n  smooth: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  offset: PropTypes.number,\n  delay: PropTypes.number,\n  isDynamic: PropTypes.bool,\n  onClick: PropTypes.func,\n  duration: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  absolute: PropTypes.bool,\n  onSetActive: PropTypes.func,\n  onSetInactive: PropTypes.func,\n  ignoreCancelEvents: PropTypes.bool,\n  hashSpy: PropTypes.bool\n};\n\nvar Helpers = {\n  Scroll: function Scroll(Component, customScroller) {\n\n    var scroller = customScroller || defaultScroller;\n\n    var Scroll = function (_React$Component) {\n      _inherits(Scroll, _React$Component);\n\n      function Scroll(props) {\n        _classCallCheck(this, Scroll);\n\n        var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, props));\n\n        _initialiseProps.call(_this);\n\n        _this.state = {\n          active: false\n        };\n        return _this;\n      }\n\n      _createClass(Scroll, [{\n        key: 'getScrollSpyContainer',\n        value: function getScrollSpyContainer() {\n          var containerId = this.props.containerId;\n          var container = this.props.container;\n\n          if (containerId) {\n            return document.getElementById(containerId);\n          }\n\n          if (container && container.nodeType) {\n            return container;\n          }\n\n          return utils.getScrollParent(ReactDOM.findDOMNode(this));\n        }\n      }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          if (this.props.spy || this.props.hashSpy) {\n            var scrollSpyContainer = this.getScrollSpyContainer();\n\n            if (!scrollSpy.isMounted(scrollSpyContainer)) {\n              scrollSpy.mount(scrollSpyContainer);\n            }\n\n            if (this.props.hashSpy) {\n              if (!scrollHash.isMounted()) {\n                scrollHash.mount(scroller);\n              }\n            }\n\n            if (this.props.spy) {\n              scrollSpy.addStateHandler(this.stateHandler);\n            }\n\n            scrollSpy.addSpyHandler(this.spyHandler, scrollSpyContainer);\n\n            this.setState({\n              container: scrollSpyContainer\n            });\n          }\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          scrollSpy.unmount(this.stateHandler, this.spyHandler);\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var className = \"\";\n\n          if (this.state && this.state.active) {\n            className = ((this.props.className || \"\") + \" \" + (this.props.activeClass || \"active\")).trim();\n          } else {\n            className = this.props.className;\n          }\n\n          var props = assign({}, this.props);\n\n          for (var prop in protoTypes) {\n            if (props.hasOwnProperty(prop)) {\n              delete props[prop];\n            }\n          }\n\n          props.className = className;\n          props.onClick = this.handleClick;\n\n          return React.createElement(Component, props);\n        }\n      }]);\n\n      return Scroll;\n    }(React.Component);\n\n    var _initialiseProps = function _initialiseProps() {\n      var _this2 = this;\n\n      this.scrollTo = function (to, props) {\n        scroller.scrollTo(to, _extends({}, _this2.state, props));\n      };\n\n      this.handleClick = function (event) {\n\n        /*\r\n         * give the posibility to override onClick\r\n         */\n\n        if (_this2.props.onClick) {\n          _this2.props.onClick(event);\n        }\n\n        /*\r\n         * dont bubble the navigation\r\n         */\n\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.preventDefault) event.preventDefault();\n\n        /*\r\n         * do the magic!\r\n         */\n        _this2.scrollTo(_this2.props.to, _this2.props);\n      };\n\n      this.stateHandler = function () {\n        if (scroller.getActiveLink() !== _this2.props.to) {\n          if (_this2.state !== null && _this2.state.active && _this2.props.onSetInactive) {\n            _this2.props.onSetInactive();\n          }\n          _this2.setState({ active: false });\n        }\n      };\n\n      this.spyHandler = function (y) {\n        var scrollSpyContainer = _this2.getScrollSpyContainer();\n\n        if (scrollHash.isMounted() && !scrollHash.isInitialized()) {\n          return;\n        }\n\n        var to = _this2.props.to;\n        var element = null;\n        var elemTopBound = 0;\n        var elemBottomBound = 0;\n        var containerTop = 0;\n\n        if (scrollSpyContainer.getBoundingClientRect) {\n          var containerCords = scrollSpyContainer.getBoundingClientRect();\n          containerTop = containerCords.top;\n        }\n\n        if (!element || _this2.props.isDynamic) {\n          element = scroller.get(to);\n          if (!element) {\n            return;\n          }\n\n          var cords = element.getBoundingClientRect();\n          elemTopBound = cords.top - containerTop + y;\n          elemBottomBound = elemTopBound + cords.height;\n        }\n\n        var offsetY = y - _this2.props.offset;\n        var isInside = offsetY >= Math.floor(elemTopBound) && offsetY < Math.floor(elemBottomBound);\n        var isOutside = offsetY < Math.floor(elemTopBound) || offsetY >= Math.floor(elemBottomBound);\n        var activeLink = scroller.getActiveLink();\n\n        if (isOutside) {\n          if (to === activeLink) {\n            scroller.setActiveLink(void 0);\n          }\n\n          if (_this2.props.hashSpy && scrollHash.getHash() === to) {\n            scrollHash.changeHash();\n          }\n\n          if (_this2.props.spy && _this2.state.active) {\n            _this2.setState({ active: false });\n            _this2.props.onSetInactive && _this2.props.onSetInactive();\n          }\n\n          return scrollSpy.updateStates();\n        }\n\n        if (isInside && activeLink !== to) {\n          scroller.setActiveLink(to);\n\n          _this2.props.hashSpy && scrollHash.changeHash(to);\n\n          if (_this2.props.spy) {\n            _this2.setState({ active: true });\n            _this2.props.onSetActive && _this2.props.onSetActive(to);\n          }\n          return scrollSpy.updateStates();\n        }\n      };\n    };\n\n    ;\n\n    Scroll.propTypes = protoTypes;\n\n    Scroll.defaultProps = { offset: 0 };\n\n    return Scroll;\n  },\n  Element: function Element(Component) {\n    var Element = function (_React$Component2) {\n      _inherits(Element, _React$Component2);\n\n      function Element(props) {\n        _classCallCheck(this, Element);\n\n        var _this3 = _possibleConstructorReturn(this, (Element.__proto__ || Object.getPrototypeOf(Element)).call(this, props));\n\n        _this3.childBindings = {\n          domNode: null\n        };\n        return _this3;\n      }\n\n      _createClass(Element, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          this.registerElems(this.props.name);\n        }\n      }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n          if (this.props.name !== nextProps.name) {\n            this.registerElems(nextProps.name);\n          }\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          defaultScroller.unregister(this.props.name);\n        }\n      }, {\n        key: 'registerElems',\n        value: function registerElems(name) {\n          defaultScroller.register(name, this.childBindings.domNode);\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          return React.createElement(Component, _extends({}, this.props, { parentBindings: this.childBindings }));\n        }\n      }]);\n\n      return Element;\n    }(React.Component);\n\n    ;\n\n    Element.propTypes = {\n      name: PropTypes.string,\n      id: PropTypes.string\n    };\n\n    return Element;\n  }\n};\n\nmodule.exports = Helpers;\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/mixins/Helpers.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menus/slide.js","import PropTypes from 'prop-types';\n\nconst Logo = (props) => {\n  const {\n    overrideClass,\n    primaryColor,\n  } = props;\n\n  return (\n    <svg\n      viewBox=\"0 0 242 36\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={overrideClass}\n    >\n      <g fill={primaryColor} fillRule=\"evenodd\">\n        <path d=\"M58.716 13.25c-.25 0-.46.208-.46.46v9.582c0 .25.21.458.46.458H71V26H58.716C57.212 26 56 24.792 56 23.292V13.71c0-1.5 1.212-2.71 2.716-2.71H71v2.25H58.716zM76 12.563L78 11v15h-2M98 11v2.25h-6.375V26h-2.25V13.25H83V11M117 11l-6.45 9.376V26h-2.1v-5.624L102 11h2.468l5.032 6.834L114.513 11M144.292 23.75c.25 0 .458-.208.458-.46V13.71c0-.25-.208-.458-.458-.458h-9.584c-.25 0-.458.208-.458.458v9.583c0 .252.208.46.458.46h9.584zm0-12.75c1.5 0 2.708 1.208 2.708 2.708v9.583c0 1.502-1.208 2.71-2.708 2.71h-9.584c-1.5 0-2.708-1.208-2.708-2.71V13.71c0-1.5 1.21-2.708 2.708-2.708h9.584zM165 11v2.25h-11.71v4.125h9.42v2.25h-9.42V26H151V11M178 11h15v2.667L181 23.75h12V26h-15v-2.667l12-10.083h-12M199 12.825L201 11v15h-2M218.292 23.75c.25 0 .458-.208.458-.46V13.71c0-.25-.208-.458-.458-.458h-9.584c-.25 0-.458.208-.458.458v9.583c0 .252.208.46.458.46h9.584zm0-12.75c1.5 0 2.708 1.208 2.708 2.708v9.583c0 1.502-1.208 2.71-2.708 2.71h-9.584c-1.5 0-2.708-1.208-2.708-2.71V13.71c0-1.5 1.21-2.708 2.708-2.708h9.584zM239.383 11.173h2.172v14.48h-2.575l-9.734-11.584v11.584h-2.173v-14.48h2.575l9.735 11.584M41 25.714l-5.125 5.143h-10.25l10.25-10.286M30.75 15.498l-4.71-5.074 4.71-5.074L25.625.277 20.5 5.35 15.654 0 10.25 5.35l15.375 15.22M5.125 10.286L20.5 25.714 10.25 36H0l10.25-10.286L0 15.428\" />\n      </g>\n    </svg>\n  );\n};\n\nLogo.defaultProps = {\n  overrideClass: '',\n  primaryColor: '#FFFFFF',\n};\n\nLogo.propTypes = {\n  overrideClass: PropTypes.string,\n  primaryColor: PropTypes.string,\n};\n\nexport default Logo;\n\n\n\n// WEBPACK FOOTER //\n// ./components/Logo/index.js","import PropTypes from 'prop-types';\n\nimport BlockGrid from '../../components/BlockGrid';\nimport ContentWrapper from '../../components/ContentWrapper';\nimport Title from '../../components/Title';\n\nimport style from './style.css';\n\nconst Resources = (props) => {\n  const {\n    socialList,\n  } = props;\n\n  const listItems = socialList.map(item =>\n    (\n      <div className={style.socialList}>\n        <a href={item.target}>\n          <img\n            alt={item.name}\n            src={item.logo}\n          />\n\n          <div className={style.itemContent}>\n            <h2>{ item.heading }</h2>\n            <p>{ item.subtitle }</p>\n          </div>\n        </a>\n      </div>));\n\n  return (\n    <div className={style.resources}>\n      <div className={style.accent} />\n      <div className={style.wrapper}>\n        <div className={style.container}>\n          <ContentWrapper narrow>\n            <Title>Resources</Title>\n\n            <p className={style.subtitle}>Anyone can join us to work together or be a source of technical support.</p>\n\n            <BlockGrid items={listItems} />\n\n            <hr />\n\n            <p className={style.license}>Our code is free and 100% MIT-licensed; Even this website!</p>\n            <p className={style.pullRequest}>If you feel you can improve on anything, just send us a pull request.*</p>\n            <p className={style.testNet}>\n              *We run JSON-RPC nodes for the mainnet and testnet networks at seed[1-5].cityofzion.io:8880\n              Furthermore, we are able to provide testnet NEO and GAS for collaborating developers.\n            </p>\n          </ContentWrapper>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nResources.defaultProps = {\n  socialList: [],\n};\n\nResources.propTypes = {\n  socialList: PropTypes.array,\n};\n\nexport default Resources;\n\n\n\n// WEBPACK FOOTER //\n// ./components/Resources/index.js","'use strict';\n\nvar assign = require('object-assign');\nvar utils = require('./utils');\nvar smooth = require('./smooth');\nvar cancelEvents = require('./cancel-events');\nvar events = require('./scroll-events');\n\n/*\r\n * Gets the easing type from the smooth prop within options.\r\n */\nvar getAnimationType = function getAnimationType(options) {\n  return smooth[options.smooth] || smooth.defaultEasing;\n};\n\n/*\r\n * Function helper\r\n */\nvar functionWrapper = function functionWrapper(value) {\n  return typeof value === 'function' ? value : function () {\n    return value;\n  };\n};\n\n/*\r\n * Wraps window properties to allow server side rendering\r\n */\nvar currentWindowProperties = function currentWindowProperties() {\n  if (typeof window !== 'undefined') {\n    return window.requestAnimationFrame || window.webkitRequestAnimationFrame;\n  }\n};\n\n/*\r\n * Helper function to never extend 60fps on the webpage.\r\n */\nvar requestAnimationFrameHelper = function () {\n  return currentWindowProperties() || function (callback, element, delay) {\n    window.setTimeout(callback, delay || 1000 / 60, new Date().getTime());\n  };\n}();\n\nvar __currentPositionY = 0;\nvar __startPositionY = 0;\nvar __targetPositionY = 0;\nvar __progress = 0;\nvar __duration = 0;\nvar __cancel = false;\n\nvar __target = void 0;\nvar __containerElement = void 0;\nvar __to = void 0;\nvar __start = void 0;\nvar __deltaTop = void 0;\nvar __percent = void 0;\nvar __delayTimeout = void 0;\n\ncancelEvents.subscribe(function () {\n  __cancel = true;\n});\n\nvar currentPositionY = function currentPositionY() {\n  if (__containerElement && __containerElement !== document && __containerElement !== document.body) {\n    return __containerElement.scrollTop;\n  } else {\n    var supportPageOffset = window.pageXOffset !== undefined;\n    var isCSS1Compat = (document.compatMode || \"\") === \"CSS1Compat\";\n    return supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n  }\n};\n\nvar scrollContainerHeight = function scrollContainerHeight() {\n  if (__containerElement && __containerElement !== document && __containerElement !== document.body) {\n    return Math.max(__containerElement.scrollHeight, __containerElement.offsetHeight, __containerElement.clientHeight);\n  } else {\n    var body = document.body;\n    var html = document.documentElement;\n\n    return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n  }\n};\n\nvar animateScroll = function animateScroll(easing, options, timestamp) {\n\n  // Cancel on specific events\n  if (!options.ignoreCancelEvents && __cancel) {\n    if (events.registered['end']) {\n      events.registered['end'](__to, __target, __currentPositionY);\n    }\n    return;\n  };\n\n  __deltaTop = Math.round(__targetPositionY - __startPositionY);\n\n  if (__start === null) {\n    __start = timestamp;\n  }\n\n  __progress = timestamp - __start;\n\n  __percent = __progress >= __duration ? 1 : easing(__progress / __duration);\n\n  __currentPositionY = __startPositionY + Math.ceil(__deltaTop * __percent);\n\n  if (__containerElement && __containerElement !== document && __containerElement !== document.body) {\n    __containerElement.scrollTop = __currentPositionY;\n  } else {\n    window.scrollTo(0, __currentPositionY);\n  }\n\n  if (__percent < 1) {\n    var easedAnimate = animateScroll.bind(null, easing, options);\n    requestAnimationFrameHelper.call(window, easedAnimate);\n    return;\n  }\n\n  if (events.registered['end']) {\n    events.registered['end'](__to, __target, __currentPositionY);\n  }\n};\n\nvar setContainer = function setContainer(options) {\n  __containerElement = !options ? null : options.containerId ? document.getElementById(options.containerId) : options.container && options.container.nodeType ? options.container : options.element && options.element.nodeType ? utils.getScrollParent(options.element) : document;\n};\n\nvar animateTopScroll = function animateTopScroll(y, options, to, target) {\n\n  window.clearTimeout(__delayTimeout);\n\n  setContainer(options);\n\n  __start = null;\n  __cancel = false;\n  __startPositionY = currentPositionY();\n  __targetPositionY = options.absolute ? y : y + __startPositionY;\n  __deltaTop = Math.round(__targetPositionY - __startPositionY);\n\n  __duration = functionWrapper(options.duration)(__deltaTop);\n  __duration = isNaN(parseFloat(__duration)) ? 1000 : parseFloat(__duration);\n  __to = to;\n  __target = target;\n\n  var easing = getAnimationType(options);\n  var easedAnimate = animateScroll.bind(null, easing, options);\n\n  if (options && options.delay > 0) {\n    __delayTimeout = window.setTimeout(function () {\n      requestAnimationFrameHelper.call(window, easedAnimate);\n    }, options.delay);\n    return;\n  }\n\n  requestAnimationFrameHelper.call(window, easedAnimate);\n};\n\nvar proceedOptions = function proceedOptions(options) {\n  if (options && options.nodeType) {\n    options = { element: options };\n  } else {\n    options = assign({}, options);\n  }\n  options.absolute = true;\n\n  return options;\n};\n\nvar scrollToTop = function scrollToTop(options) {\n  animateTopScroll(0, proceedOptions(options));\n};\n\nvar scrollTo = function scrollTo(toY, options) {\n  animateTopScroll(toY, proceedOptions(options));\n};\n\nvar scrollToBottom = function scrollToBottom(options) {\n  options = proceedOptions(options);\n  setContainer(options);\n  animateTopScroll(scrollContainerHeight(), options);\n};\n\nvar scrollMore = function scrollMore(toY, options) {\n  options = proceedOptions(options);\n  setContainer(options);\n  animateTopScroll(currentPositionY() + toY, options);\n};\n\nmodule.exports = {\n  animateTopScroll: animateTopScroll,\n  getAnimationType: getAnimationType,\n  scrollToTop: scrollToTop,\n  scrollToBottom: scrollToBottom,\n  scrollTo: scrollTo,\n  scrollMore: scrollMore\n};\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/mixins/animate-scroll.js","'use strict';\n\nexports.Link = require('./components/Link.js');\nexports.Button = require('./components/Button.js');\nexports.Element = require('./components/Element.js');\nexports.Helpers = require('./mixins/Helpers.js');\nexports.scroller = require('./mixins/scroller.js');\nexports.Events = require('./mixins/scroll-events.js');\nexports.scrollSpy = require('./mixins/scroll-spy.js');\nexports.animateScroll = require('./mixins/animate-scroll.js');\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/*\r\n * Tell the browser that the event listener won't prevent a scroll.\r\n * Allowing the browser to continue scrolling without having to\r\n * to wait for the listener to return.\r\n */\nvar addPassiveEventListener = exports.addPassiveEventListener = function addPassiveEventListener(target, eventName, listener) {\n  var supportsPassiveOption = function () {\n    var supportsPassiveOption = false;\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          supportsPassiveOption = true;\n        }\n      });\n      window.addEventListener('test', null, opts);\n    } catch (e) {}\n    return supportsPassiveOption;\n  }();\n  target.addEventListener(eventName, listener, supportsPassiveOption ? { passive: true } : false);\n};\n\nvar removePassiveEventListener = exports.removePassiveEventListener = function removePassiveEventListener(target, eventName, listener) {\n  target.removeEventListener(eventName, listener);\n};\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/mixins/passive-event-listeners.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transition: 'all 0.5s'\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menus/push.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"footer\":\"footer__34BaK\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Footer/style.css\n// module id = n4o+\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _snapsvgImporter = require('../snapsvgImporter');\n\nvar _snapsvgImporter2 = _interopRequireDefault(_snapsvgImporter);\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n\n  svg: {\n    lib: _snapsvgImporter2['default'],\n    pathInitial: 'M-1,0h101c0,0-97.833,153.603-97.833,396.167C2.167,627.579,100,800,100,800H-1V0z',\n    pathOpen: 'M-1,0h101c0,0,0-1,0,395c0,404,0,405,0,405H-1V0z',\n    animate: function animate(path) {\n      path.animate({ path: this.pathOpen }, 400, window.mina.easeinout);\n    }\n  },\n\n  morphShape: function morphShape(isOpen, width, right) {\n    return {\n      position: 'absolute',\n      width: 120,\n      height: '100%',\n      right: right ? 'inherit' : 0,\n      left: right ? 0 : 'inherit',\n      MozTransform: right ? 'rotateY(180deg)' : '',\n      MsTransform: right ? 'rotateY(180deg)' : '',\n      OTransform: right ? 'rotateY(180deg)' : '',\n      WebkitTransform: right ? 'rotateY(180deg)' : '',\n      transform: right ? 'rotateY(180deg)' : ''\n    };\n  },\n\n  menuWrap: function menuWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      MsTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      OTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      WebkitTransform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transform: isOpen ? 'translate3d(0, 0, 0)' : right ? 'translate3d(100%, 0, 0)' : 'translate3d(-100%, 0, 0)',\n      transition: 'all 0.3s'\n    };\n  },\n\n  menu: function menu(isOpen, width, right) {\n    return {\n      position: 'fixed',\n      right: right ? 0 : 'inherit',\n      width: 180,\n      whiteSpace: 'nowrap',\n      boxSizing: 'border-box',\n      overflow: 'visible'\n    };\n  },\n\n  itemList: function itemList(isOpen, width, right) {\n    if (right) {\n      return {\n        position: 'relative',\n        left: '-110px',\n        width: '170%',\n        overflow: 'auto'\n      };\n    }\n  },\n\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, 0)' : 'translate3d(100px, 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, 0)' : 'translate3d(100px, 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, 0)' : 'translate3d(100px, 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-100px, 0, 0)' : 'translate3d(100px, 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(-100px, 0, 0)' : 'translate3d(100px, 0, 0)',\n      transition: isOpen ? 'all 0.3s' : 'all 0.3s 0.1s'\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menus/elastic.js","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n\n\n\n// WEBPACK FOOTER //\n// ../~/raf/index.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n\n  menuWrap: function menuWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(' + width + ', 0, 0)' : 'translate3d(-' + width + ', 0, 0)',\n      transition: isOpen ? 'transform 0.8s cubic-bezier(0.7, 0, 0.3, 1)' : 'transform 0.4s cubic-bezier(0.7, 0, 0.3, 1)'\n    };\n  },\n\n  item: function item(isOpen, width, right, nthChild) {\n    return {\n      MozTransform: isOpen ? '' : 'translate3d(0, ' + nthChild * 500 + 'px, 0)',\n      MsTransform: isOpen ? '' : 'translate3d(0, ' + nthChild * 500 + 'px, 0)',\n      OTransform: isOpen ? '' : 'translate3d(0, ' + nthChild * 500 + 'px, 0)',\n      WebkitTransform: isOpen ? '' : 'translate3d(0, ' + nthChild * 500 + 'px, 0)',\n      transform: isOpen ? '' : 'translate3d(0, ' + nthChild * 500 + 'px, 0)',\n      transition: isOpen ? 'transform 0.8s cubic-bezier(0.7, 0, 0.3, 1)' : 'transform 0s 0.2s cubic-bezier(0.7, 0, 0.3, 1)'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menus/stack.js","import { Component } from 'preact';\nimport { Router } from 'preact-router';\nimport { StickyContainer } from 'react-sticky';\n\nimport Footer from './Footer';\nimport Home from '../routes/home';\nimport PageMenu from './PageMenu';\n// import Home from 'async!./home';\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    /** Gets fired when the route changes.\n     *  @param {Object} event   \"change\" event from [preact-router](http://git.io/preact-router)\n     *  @param {string} event.url The newly routed URL\n     */\n    this.handleRoute = (e) => {\n      this.currentUrl = e.url;\n    };\n\n    this.data = {\n      page: {\n        copyright: ' Copyright City of Zion, 2017',\n      },\n      pageMenu: {\n        links: [\n          { name: 'Welcome', target: 'welcome' },\n          { name: 'Events', target: 'events' },\n          { name: 'Projects', target: 'projects' },\n          { name: 'Governance', target: 'governance' },\n          { name: 'Resources', target: 'resources' },\n        ],\n      },\n      content: {\n        eventList: [\n          {\n            description: 'The City of Zion council is promoting a decentralised apps (dApps) competition to further elevate the NEO developer community.',\n            heading: 'dApps Competition #1',\n            link: 'Submit your registration',\n            target: 'https://cityofzion.io/dapps/1',\n            thumbnail: {\n              alt: 'dApps Competition #1',\n              src: '/assets/images/dapps-comp-1.png',\n            },\n          },\n        ],\n        projectList: [\n          {\n            description: 'An Electron-based light wallet (no need for chain copy nor VM) for Windows, OSX, and Linux users.',\n            heading: 'Neon Wallet',\n            link: 'Download NEON Wallet',\n            target: 'http://www.neonwallet.com/',\n            thumbnail: {\n              alt: 'Neon Wallet',\n              src: '/assets/images/neon-wallet.jpg',\n            },\n          },\n          {\n            description: 'CoZ members coordinate efforts from multilingual translators to share information with the world.',\n            heading: 'Internal Documentation',\n            link: 'See the Internal Documentation',\n            target: 'https://github.com/neo-project/docs',\n            thumbnail: {\n              alt: 'Internal Documentation',\n              src: '/assets/images/internal-docs.jpg',\n            },\n          },\n          {\n            description: 'Neoscan is a high-performance block explorer and API laying the foundation for other projects.',\n            heading: 'NEOScan',\n            link: 'View NEOScan',\n            target: 'https://neoscan.herokuapp.com/',\n            thumbnail: {\n              alt: 'NEOScan',\n              src: '/assets/images/neo-scan.jpg',\n            },\n          },\n          {\n            description: 'A portal to unify developers on a single app. Supporting projects, invites, and more!',\n            heading: 'Neo Portal',\n            link: 'View the Portal',\n            target: 'https://github.com/CityOfZion/neo-slack-bot',\n            thumbnail: {\n              alt: 'Neo Portal',\n              src: '/assets/images/neo-portal.jpg',\n            },\n          },\n          {\n            description: 'NeoMon is a tool for monitoring the status of popular RPC Nodes and REST endpoints on the Neo network.',\n            heading: 'NeoMon',\n            link: 'View NeoMon',\n            target: 'http://monitor.cityofzion.io',\n            thumbnail: {\n              alt: 'View NeoMon',\n              src: '/assets/images/neo-monitor.jpg',\n            },\n          },\n          {\n            description: \"We're working on lots of things; you can follow along and help vote on priorities on our Trello!\",\n            heading: 'More to Come...',\n            link: 'Check out the Trello Board',\n            target: 'https://trello.com/b/6TngvuLf/neoblockchaindevelopment',\n            thumbnail: {\n              alt: 'More to come',\n              src: '/assets/images/more-to-come.jpg',\n            },\n          },\n        ],\n        governanceList: [\n          {\n            description: 'There will be a council always composed of 9 members. They are the Council team in our organization.',\n          },\n          {\n            description: 'There will be a high council composed of 4 members of the council. They are the Maintainers of the Council team.',\n          },\n          {\n            description: 'Any member of CoZ can create and collaborate on projects.',\n          },\n          {\n            description: 'There will be a weekly report delivered to NEO by the high council via a PGP signed email and correspondent pull request on GitHub.',\n          },\n          {\n            description: 'In case of any support from NEO as reward or bounty, the funds will initially be held by a trusted third party in a wallet for distribution.',\n            secondary: {\n              heading: 'Wallet Address',\n              content: 'AXSoNQEKjmqPBNPg5cNrHyWivfjok3Vj9D',\n            },\n          },\n          {\n            description: 'After 1 September 2017, all CoZ funds will be held in a multi-sig wallet requiring a majority of the high council to unlock funding.',\n          },\n          {\n            description: 'Rewards distribution will be voted on by project before being sent. There must be a majority agreement of all 9 council members.',\n          },\n          {\n            description: 'All decisions not explicitly differentiated in this list will be voted upon as in item 7.',\n          },\n          {\n            description: 'Item 7 voting polls of the council will run for 1 week on the #council Slack channel and after closing will be published in the #develop channel.',\n          },\n          {\n            description: 'The high council will be voted upon each quarter, synchronizing with the quarters of the year. The first election will be on 1 October 2017. The newly elected high council can propose changes to these rules during the first week after the election. Changes will be voted upon as in item 7.',\n          },\n          {\n            description: 'Any member of the council or high council is free to forfeit their position at any time. When this happens, an election will take place and a majority of council members must decide upon a replacement.',\n          },\n          {\n            description: 'Any member of the council that does not vote on polls for more than 2 months will automatically forfeit their position.',\n          },\n        ],\n        resources: {\n          socialList: [\n            {\n              name: 'Reddit', heading: 'Subscribe', subtitle: 'to NEO Reddit', target: 'https://www.reddit.com/r/NEO/', logo: '/assets/images/reddit.png',\n            },\n            {\n              name: 'Slack', heading: 'Join', subtitle: 'our Slack Channel', target: 'https://slack.cityofzion.io', logo: '/assets/images/slack.png',\n            },\n            {\n              name: 'Github', heading: 'Fork', subtitle: 'our Github Repository', target: 'https://github.com/CityOfZion', logo: '/assets/images/github.png',\n            },\n            {\n              name: 'Facebook', heading: 'Message us', subtitle: 'on Facebook', target: 'https://www.facebook.com/CityOfZionOfficial', logo: '/assets/images/facebook.png',\n            },\n            {\n              name: 'Twitter', heading: 'Tweet us', subtitle: 'on Twitter', target: 'https://twitter.com/cityofzion_neo', logo: '/assets/images/twitter.png',\n            },\n            {\n              name: 'Medium', heading: 'Follow us', subtitle: 'on Medium', target: 'https://medium.com/@cityofzion', logo: '/assets/images/medium.png',\n            },\n          ],\n        },\n      },\n    };\n  }\n\n  render() {\n    return (\n      <div id=\"app\">\n        <StickyContainer>\n          <PageMenu links={this.data.pageMenu.links} />\n\n          <Router onChange={this.handleRoute}>\n            <Home path=\"/\" content={this.data.content} />\n          </Router>\n\n          <Footer copyright={this.data.page.copyright} />\n        </StickyContainer>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/app.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _menuFactory = require('../menuFactory');\n\nvar _menuFactory2 = _interopRequireDefault(_menuFactory);\n\nvar styles = {\n\n  menuWrap: function menuWrap(isOpen) {\n    return {\n      MozTransform: isOpen ? '' : 'translate3d(0, -100%, 0)',\n      MsTransform: isOpen ? '' : 'translate3d(0, -100%, 0)',\n      OTransform: isOpen ? '' : 'translate3d(0, -100%, 0)',\n      WebkitTransform: isOpen ? '' : 'translate3d(0, -100%, 0)',\n      transform: isOpen ? '' : 'translate3d(0, -100%, 0)',\n      transition: 'all 0.5s ease-in-out'\n    };\n  },\n\n  pageWrap: function pageWrap(isOpen, width, right) {\n    return {\n      MozTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      MsTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      OTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      WebkitTransform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transform: isOpen ? '' : right ? 'translate3d(-' + width + ', 0, 0)' : 'translate3d(' + width + ', 0, 0)',\n      transition: 'all 0.5s'\n    };\n  },\n\n  outerContainer: function outerContainer(isOpen) {\n    return {\n      perspective: '1500px',\n      perspectiveOrigin: '0% 50%',\n      overflow: isOpen ? '' : 'hidden'\n    };\n  }\n};\n\nexports['default'] = (0, _menuFactory2['default'])(styles);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menus/fallDown.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style/index.css\n// module id = rq4c\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar CrossIcon = (function (_Component) {\n  _inherits(CrossIcon, _Component);\n\n  function CrossIcon() {\n    _classCallCheck(this, CrossIcon);\n\n    _get(Object.getPrototypeOf(CrossIcon.prototype), 'constructor', this).apply(this, arguments);\n  }\n\n  _createClass(CrossIcon, [{\n    key: 'getCrossStyle',\n    value: function getCrossStyle(type) {\n      return {\n        position: 'absolute',\n        width: 3,\n        height: 14,\n        transform: type === 'before' ? 'rotate(45deg)' : 'rotate(-45deg)'\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this = this;\n\n      var icon;\n      var buttonWrapperStyle = {\n        position: 'absolute',\n        width: 24,\n        height: 24,\n        right: 8,\n        top: 8\n      };\n      var buttonStyle = {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        width: '100%',\n        height: '100%',\n        margin: 0,\n        padding: 0,\n        border: 'none',\n        textIndent: -9999,\n        background: 'transparent',\n        outline: 'none',\n        cursor: 'pointer'\n      };\n\n      if (this.props.customIcon) {\n        var extraProps = {\n          className: 'bm-cross',\n          style: _extends({ width: '100%', height: '100%' }, this.props.styles.bmCross)\n        };\n        icon = _react2['default'].cloneElement(this.props.customIcon, extraProps);\n      } else {\n        icon = _react2['default'].createElement(\n          'span',\n          { style: { position: 'absolute', top: '6px', right: '14px' } },\n          ['before', 'after'].map(function (type, i) {\n            return _react2['default'].createElement('span', {\n              key: i,\n              className: 'bm-cross ' + _this.props.crossClassName,\n              style: _extends({}, _this.getCrossStyle(type), _this.props.styles.bmCross)\n            });\n          })\n        );\n      }\n\n      return _react2['default'].createElement(\n        'div',\n        {\n          className: 'bm-cross-button ' + this.props.className,\n          style: _extends({}, buttonWrapperStyle, this.props.styles.bmCrossButton)\n        },\n        icon,\n        _react2['default'].createElement(\n          'button',\n          { onClick: this.props.onClick, style: buttonStyle },\n          'Close Menu'\n        )\n      );\n    }\n  }]);\n\n  return CrossIcon;\n})(_react.Component);\n\nexports['default'] = CrossIcon;\n\nCrossIcon.propTypes = {\n  crossClassName: _propTypes2['default'].string,\n  customIcon: _propTypes2['default'].element,\n  styles: _propTypes2['default'].object\n};\n\nCrossIcon.defaultProps = {\n  crossClassName: '',\n  className: '',\n  styles: {}\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/CrossIcon.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n// WEBPACK FOOTER //\n// ../~/fbjs/lib/invariant.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../~/prop-types/factoryWithThrowingShims.js","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n\n\n\n// WEBPACK FOOTER //\n// ../~/performance-now/lib/performance-now.js","// Copyright (c) 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//  \\\\\n//  Eve 0.5.4 - JavaScript Events Library                       \\\\\n//  \\\\\n//  Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/)  \\\\\n//  \\\\\n\n(function (glob) {\n    var version = \"0.5.4\",\n        has = \"hasOwnProperty\",\n        separator = /[\\.\\/]/,\n        comaseparator = /\\s*,\\s*/,\n        wildcard = \"*\",\n        numsort = function (a, b) {\n            return a - b;\n        },\n        current_event,\n        stop,\n        events = {n: {}},\n        firstDefined = function () {\n            for (var i = 0, ii = this.length; i < ii; i++) {\n                if (typeof this[i] != \"undefined\") {\n                    return this[i];\n                }\n            }\n        },\n        lastDefined = function () {\n            var i = this.length;\n            while (--i) {\n                if (typeof this[i] != \"undefined\") {\n                    return this[i];\n                }\n            }\n        },\n        objtos = Object.prototype.toString,\n        Str = String,\n        isArray = Array.isArray || function (ar) {\n            return ar instanceof Array || objtos.call(ar) == \"[object Array]\";\n        },\n    /*\\\n     * eve\n     [ method ]\n\n     * Fires event with given `name`, given scope and other parameters.\n\n     - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\n     - scope (object) context for the event handlers\n     - varargs (...) the rest of arguments will be sent to event handlers\n\n     = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\n    \\*/\n        eve = function (name, scope) {\n            var oldstop = stop,\n                args = Array.prototype.slice.call(arguments, 2),\n                listeners = eve.listeners(name),\n                z = 0,\n                l,\n                indexed = [],\n                queue = {},\n                out = [],\n                ce = current_event;\n            out.firstDefined = firstDefined;\n            out.lastDefined = lastDefined;\n            current_event = name;\n            stop = 0;\n            for (var i = 0, ii = listeners.length; i < ii; i++) if (\"zIndex\" in listeners[i]) {\n                indexed.push(listeners[i].zIndex);\n                if (listeners[i].zIndex < 0) {\n                    queue[listeners[i].zIndex] = listeners[i];\n                }\n            }\n            indexed.sort(numsort);\n            while (indexed[z] < 0) {\n                l = queue[indexed[z++]];\n                out.push(l.apply(scope, args));\n                if (stop) {\n                    stop = oldstop;\n                    return out;\n                }\n            }\n            for (i = 0; i < ii; i++) {\n                l = listeners[i];\n                if (\"zIndex\" in l) {\n                    if (l.zIndex == indexed[z]) {\n                        out.push(l.apply(scope, args));\n                        if (stop) {\n                            break;\n                        }\n                        do {\n                            z++;\n                            l = queue[indexed[z]];\n                            l && out.push(l.apply(scope, args));\n                            if (stop) {\n                                break;\n                            }\n                        } while (l)\n                    } else {\n                        queue[l.zIndex] = l;\n                    }\n                } else {\n                    out.push(l.apply(scope, args));\n                    if (stop) {\n                        break;\n                    }\n                }\n            }\n            stop = oldstop;\n            current_event = ce;\n            return out;\n        };\n    // Undocumented. Debug only.\n    eve._events = events;\n    /*\\\n     * eve.listeners\n     [ method ]\n\n     * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\n\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated\n\n     = (array) array of event handlers\n    \\*/\n    eve.listeners = function (name) {\n        var names = isArray(name) ? name : name.split(separator),\n            e = events,\n            item,\n            items,\n            k,\n            i,\n            ii,\n            j,\n            jj,\n            nes,\n            es = [e],\n            out = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            nes = [];\n            for (j = 0, jj = es.length; j < jj; j++) {\n                e = es[j].n;\n                items = [e[names[i]], e[wildcard]];\n                k = 2;\n                while (k--) {\n                    item = items[k];\n                    if (item) {\n                        nes.push(item);\n                        out = out.concat(item.f || []);\n                    }\n                }\n            }\n            es = nes;\n        }\n        return out;\n    };\n    /*\\\n     * eve.separator\n     [ method ]\n\n     * If for some reasons you dont like default separators (`.` or `/`) you can specify yours\n     * here. Be aware that if you pass a string longer than one character it will be treated as\n     * a list of characters.\n\n     - separator (string) new separator. Empty string resets to default: `.` or `/`.\n    \\*/\n    eve.separator = function (sep) {\n        if (sep) {\n            sep = Str(sep).replace(/(?=[\\.\\^\\]\\[\\-])/g, \"\\\\\");\n            sep = \"[\" + sep + \"]\";\n            separator = new RegExp(sep);\n        } else {\n            separator = /[\\.\\/]/;\n        }\n    };\n    /*\\\n     * eve.on\n     [ method ]\n     **\n     * Binds given event handler with a given name. You can use wildcards `*` for the names:\n     | eve.on(\"*.under.*\", f);\n     | eve(\"mouse.under.floor\"); // triggers f\n     * Use @eve to trigger the listener.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     - name (array) if you dont want to use separators, you can use array of strings\n     - f (function) event handler function\n     **\n     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment.\n     > Example:\n     | eve.on(\"mouse\", eatIt)(2);\n     | eve.on(\"mouse\", scream);\n     | eve.on(\"mouse\", catchIt)(1);\n     * This will ensure that `catchIt` function will be called before `eatIt`.\n     *\n     * If you want to put your handler before non-indexed handlers, specify a negative value.\n     * Note: I assume most of the time you dont need to worry about z-index, but its nice to have this feature just in case.\n    \\*/\n    eve.on = function (name, f) {\n        if (typeof f != \"function\") {\n            return function () {};\n        }\n        var names = isArray(name) ? isArray(name[0]) ? name : [name] : Str(name).split(comaseparator);\n        for (var i = 0, ii = names.length; i < ii; i++) {\n            (function (name) {\n                var names = isArray(name) ? name : Str(name).split(separator),\n                    e = events,\n                    exist;\n                for (var i = 0, ii = names.length; i < ii; i++) {\n                    e = e.n;\n                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = {n: {}});\n                }\n                e.f = e.f || [];\n                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\n                    exist = true;\n                    break;\n                }\n                !exist && e.f.push(f);\n            }(names[i]));\n        }\n        return function (zIndex) {\n            if (+zIndex == +zIndex) {\n                f.zIndex = +zIndex;\n            }\n        };\n    };\n    /*\\\n     * eve.f\n     [ method ]\n     **\n     * Returns function that will fire given event with optional arguments.\n     * Arguments that will be passed to the result function will be also\n     * concated to the list of final arguments.\n     | el.onclick = eve.f(\"click\", 1, 2);\n     | eve.on(\"click\", function (a, b, c) {\n     |     console.log(a, b, c); // 1, 2, [event object]\n     | });\n     - event (string) event name\n     - varargs () and any other arguments\n     = (function) possible event handler function\n    \\*/\n    eve.f = function (event) {\n        var attrs = [].slice.call(arguments, 1);\n        return function () {\n            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(arguments, 0)));\n        };\n    };\n    /*\\\n     * eve.stop\n     [ method ]\n     **\n     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\n    \\*/\n    eve.stop = function () {\n        stop = 1;\n    };\n    /*\\\n     * eve.nt\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     - subname (string) #optional subname of the event\n     **\n     = (string) name of the event, if `subname` is not specified\n     * or\n     = (boolean) `true`, if current events name contains `subname`\n    \\*/\n    eve.nt = function (subname) {\n        var cur = isArray(current_event) ? current_event.join(\".\") : current_event;\n        if (subname) {\n            return new RegExp(\"(?:\\\\.|\\\\/|^)\" + subname + \"(?:\\\\.|\\\\/|$)\").test(cur);\n        }\n        return cur;\n    };\n    /*\\\n     * eve.nts\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     **\n     = (array) names of the event\n    \\*/\n    eve.nts = function () {\n        return isArray(current_event) ? current_event : current_event.split(separator);\n    };\n    /*\\\n     * eve.off\n     [ method ]\n     **\n     * Removes given function from the list of event listeners assigned to given name.\n     * If no arguments specified all the events will be cleared.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n    \\*/\n    /*\\\n     * eve.unbind\n     [ method ]\n     **\n     * See @eve.off\n    \\*/\n    eve.off = eve.unbind = function (name, f) {\n        if (!name) {\n            eve._events = events = {n: {}};\n            return;\n        }\n        var names = isArray(name) ? isArray(name[0]) ? name : [name] : Str(name).split(comaseparator);\n        if (names.length > 1) {\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                eve.off(names[i], f);\n            }\n            return;\n        }\n        names = isArray(name) ? name : Str(name).split(separator);\n        var e,\n            key,\n            splice,\n            i, ii, j, jj,\n            cur = [events],\n            inodes = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            for (j = 0; j < cur.length; j += splice.length - 2) {\n                splice = [j, 1];\n                e = cur[j].n;\n                if (names[i] != wildcard) {\n                    if (e[names[i]]) {\n                        splice.push(e[names[i]]);\n                        inodes.unshift({\n                            n: e,\n                            name: names[i]\n                        });\n                    }\n                } else {\n                    for (key in e) if (e[has](key)) {\n                        splice.push(e[key]);\n                        inodes.unshift({\n                            n: e,\n                            name: key\n                        });\n                    }\n                }\n                cur.splice.apply(cur, splice);\n            }\n        }\n        for (i = 0, ii = cur.length; i < ii; i++) {\n            e = cur[i];\n            while (e.n) {\n                if (f) {\n                    if (e.f) {\n                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\n                            e.f.splice(j, 1);\n                            break;\n                        }\n                        !e.f.length && delete e.f;\n                    }\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        var funcs = e.n[key].f;\n                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\n                            funcs.splice(j, 1);\n                            break;\n                        }\n                        !funcs.length && delete e.n[key].f;\n                    }\n                } else {\n                    delete e.f;\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        delete e.n[key].f;\n                    }\n                }\n                e = e.n;\n            }\n        }\n        // prune inner nodes in path\n        prune: for (i = 0, ii = inodes.length; i < ii; i++) {\n            e = inodes[i];\n            for (key in e.n[e.name].f) {\n                // not empty (has listeners)\n                continue prune;\n            }\n            for (key in e.n[e.name].n) {\n                // not empty (has children)\n                continue prune;\n            }\n            // is empty\n            delete e.n[e.name];\n        }\n    };\n    /*\\\n     * eve.once\n     [ method ]\n     **\n     * Binds given event handler with a given name to only run once then unbind itself.\n     | eve.once(\"login\", f);\n     | eve(\"login\"); // triggers f\n     | eve(\"login\"); // no listeners\n     * Use @eve to trigger the listener.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     = (function) same return function as @eve.on\n    \\*/\n    eve.once = function (name, f) {\n        var f2 = function () {\n            eve.off(name, f2);\n            return f.apply(this, arguments);\n        };\n        return eve.on(name, f2);\n    };\n    /*\\\n     * eve.version\n     [ property (string) ]\n     **\n     * Current version of the library.\n    \\*/\n    eve.version = version;\n    eve.toString = function () {\n        return \"You are running Eve \" + version;\n    };\n    glob.eve = eve;\n    typeof module != \"undefined\" && module.exports ? module.exports = eve : typeof define === \"function\" && define.amd ? define(\"eve\", [], function () { return eve; }) : glob.eve = eve;\n})(typeof window != \"undefined\" ? window : this);\n\n\n\n// WEBPACK FOOTER //\n// ../~/eve/eve.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _baseStyles = require('./baseStyles');\n\nvar _baseStyles2 = _interopRequireDefault(_baseStyles);\n\nvar _BurgerIcon = require('./BurgerIcon');\n\nvar _BurgerIcon2 = _interopRequireDefault(_BurgerIcon);\n\nvar _CrossIcon = require('./CrossIcon');\n\nvar _CrossIcon2 = _interopRequireDefault(_CrossIcon);\n\nexports['default'] = function (styles) {\n  var Menu = (function (_Component) {\n    _inherits(Menu, _Component);\n\n    function Menu(props) {\n      _classCallCheck(this, Menu);\n\n      _get(Object.getPrototypeOf(Menu.prototype), 'constructor', this).call(this, props);\n      this.state = {\n        isOpen: props && typeof props.isOpen !== 'undefined' ? props.isOpen : false\n      };\n    }\n\n    _createClass(Menu, [{\n      key: 'toggleMenu',\n      value: function toggleMenu() {\n        var _this = this;\n\n        var newState = { isOpen: !this.state.isOpen };\n\n        this.applyWrapperStyles();\n\n        this.setState(newState, function () {\n          _this.props.onStateChange(newState);\n\n          // Timeout ensures wrappers are cleared after animation finishes.\n          _this.timeoutId && clearTimeout(_this.timeoutId);\n          _this.timeoutId = setTimeout(function () {\n            _this.timeoutId = null;\n            if (!newState.isOpen) {\n              _this.applyWrapperStyles(false);\n            }\n          }, 500);\n        });\n      }\n\n      // Applies component-specific styles to external wrapper elements.\n    }, {\n      key: 'applyWrapperStyles',\n      value: function applyWrapperStyles() {\n        var set = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n        if (this.props.bodyClassName) {\n          var body = document.querySelector('body');\n          body.classList[set ? 'add' : 'remove'](this.props.bodyClassName);\n        }\n\n        if (styles.pageWrap && this.props.pageWrapId) {\n          this.handleExternalWrapper(this.props.pageWrapId, styles.pageWrap, set);\n        }\n\n        if (styles.outerContainer && this.props.outerContainerId) {\n          this.handleExternalWrapper(this.props.outerContainerId, styles.outerContainer, set);\n        }\n      }\n\n      // Sets or unsets styles on DOM elements outside the menu component.\n      // This is necessary for correct page interaction with some of the menus.\n      // Throws and returns if the required external elements don't exist,\n      // which means any external page animations won't be applied.\n    }, {\n      key: 'handleExternalWrapper',\n      value: function handleExternalWrapper(id, wrapperStyles, set) {\n        var html = document.querySelector('html');\n        var body = document.querySelector('body');\n        var wrapper = document.getElementById(id);\n\n        if (!wrapper) {\n          console.error(\"Element with ID '\" + id + \"' not found\");\n          return;\n        }\n\n        var builtStyles = this.getStyle(wrapperStyles);\n\n        for (var prop in builtStyles) {\n          if (builtStyles.hasOwnProperty(prop)) {\n            wrapper.style[prop] = set ? builtStyles[prop] : '';\n          }\n        }\n\n        // Prevent any horizontal scroll.\n        [html, body].forEach(function (element) {\n          element.style['overflow-x'] = set ? 'hidden' : '';\n        });\n      }\n\n      // Builds styles incrementally for a given element.\n    }, {\n      key: 'getStyles',\n      value: function getStyles(el, index, inline) {\n        var propName = 'bm' + el.replace(el.charAt(0), el.charAt(0).toUpperCase());\n\n        // Set base styles.\n        var output = _baseStyles2['default'][el] ? this.getStyle(_baseStyles2['default'][el]) : {};\n\n        // Add animation-specific styles.\n        if (styles[el]) {\n          output = _extends({}, output, this.getStyle(styles[el], index + 1));\n        }\n\n        // Add custom styles.\n        if (this.props.styles[propName]) {\n          output = _extends({}, output, this.props.styles[propName]);\n        }\n\n        // Add element inline styles.\n        if (inline) {\n          output = _extends({}, output, inline);\n        }\n\n        return output;\n      }\n    }, {\n      key: 'getStyle',\n      value: function getStyle(style, index) {\n        var width = this.props.width;\n        if (typeof width !== 'string') width = width + 'px';\n\n        return style(this.state.isOpen, width, this.props.right, index);\n      }\n    }, {\n      key: 'listenForClose',\n      value: function listenForClose(e) {\n        e = e || window.event;\n\n        if (this.state.isOpen && (e.key === 'Escape' || e.keyCode === 27)) {\n          this.toggleMenu();\n        }\n      }\n    }, {\n      key: 'shouldDisableOverlayClick',\n      value: function shouldDisableOverlayClick() {\n        if (typeof this.props.disableOverlayClick === 'function') {\n          return this.props.disableOverlayClick();\n        } else {\n          return this.props.disableOverlayClick;\n        }\n      }\n    }, {\n      key: 'componentWillMount',\n      value: function componentWillMount() {\n        if (!styles) {\n          throw new Error('No styles supplied');\n        }\n\n        // Allow initial open state to be set by props.\n        if (this.props.isOpen) {\n          this.toggleMenu();\n        }\n      }\n    }, {\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        window.onkeydown = this.listenForClose.bind(this);\n\n        // Allow initial open state to be set by props for animations with wrapper elements.\n        if (this.props.isOpen) {\n          this.toggleMenu();\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        window.onkeydown = null;\n\n        this.applyWrapperStyles(false);\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate() {\n        var _this2 = this;\n\n        if (styles.svg) {\n          (function () {\n            var morphShape = _reactDom2['default'].findDOMNode(_this2, 'bm-morph-shape');\n            var path = styles.svg.lib(morphShape).select('path');\n\n            if (_this2.state.isOpen) {\n              // Animate SVG path.\n              styles.svg.animate(path);\n            } else {\n              // Reset path (timeout ensures animation happens off screen).\n              setTimeout(function () {\n                path.attr('d', styles.svg.pathInitial);\n              }, 300);\n            }\n          })();\n        }\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(nextProps) {\n        if (typeof nextProps.isOpen !== 'undefined' && nextProps.isOpen !== this.state.isOpen) {\n          this.toggleMenu();\n        }\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this3 = this;\n\n        return _react2['default'].createElement(\n          'div',\n          null,\n          !this.props.noOverlay && _react2['default'].createElement('div', {\n            className: 'bm-overlay ' + this.props.overlayClassName,\n            onClick: function () {\n              return !_this3.shouldDisableOverlayClick() && _this3.toggleMenu();\n            },\n            style: this.getStyles('overlay')\n          }),\n          _react2['default'].createElement(\n            'div',\n            {\n              id: this.props.id,\n              className: 'bm-menu-wrap ' + this.props.className,\n              style: this.getStyles('menuWrap')\n            },\n            styles.svg && _react2['default'].createElement(\n              'div',\n              { className: 'bm-morph-shape ' + this.props.morphShapeClassName, style: this.getStyles('morphShape') },\n              _react2['default'].createElement(\n                'svg',\n                { width: '100%', height: '100%', viewBox: '0 0 100 800', preserveAspectRatio: 'none' },\n                _react2['default'].createElement('path', { d: styles.svg.pathInitial })\n              )\n            ),\n            _react2['default'].createElement(\n              'div',\n              { className: 'bm-menu ' + this.props.menuClassName, style: this.getStyles('menu') },\n              _react2['default'].createElement(\n                'nav',\n                { className: 'bm-item-list ' + this.props.itemListClassName, style: this.getStyles('itemList') },\n                _react2['default'].Children.map(this.props.children, function (item, index) {\n                  if (item) {\n                    var extraProps = {\n                      key: index,\n                      style: _this3.getStyles('item', index, item.props.style)\n                    };\n                    return _react2['default'].cloneElement(item, extraProps);\n                  }\n                })\n              )\n            ),\n            this.props.customCrossIcon !== false && _react2['default'].createElement(\n              'div',\n              { style: this.getStyles('closeButton') },\n              _react2['default'].createElement(_CrossIcon2['default'], {\n                onClick: function () {\n                  return _this3.toggleMenu();\n                },\n                styles: this.props.styles,\n                customIcon: this.props.customCrossIcon,\n                className: this.props.crossButtonClassName,\n                crossClassName: this.props.crossClassName\n              })\n            )\n          ),\n          this.props.customBurgerIcon !== false && _react2['default'].createElement(\n            'div',\n            { style: this.getStyles('burgerIcon') },\n            _react2['default'].createElement(_BurgerIcon2['default'], {\n              onClick: function () {\n                return _this3.toggleMenu();\n              },\n              styles: this.props.styles,\n              customIcon: this.props.customBurgerIcon,\n              className: this.props.burgerButtonClassName,\n              barClassName: this.props.burgerBarClassName\n            })\n          )\n        );\n      }\n    }]);\n\n    return Menu;\n  })(_react.Component);\n\n  Menu.propTypes = {\n    bodyClassName: _propTypes2['default'].string,\n    burgerBarClassName: _propTypes2['default'].string,\n    burgerButtonClassName: _propTypes2['default'].string,\n    crossButtonClassName: _propTypes2['default'].string,\n    crossClassName: _propTypes2['default'].string,\n    customBurgerIcon: _propTypes2['default'].oneOfType([_propTypes2['default'].element, _propTypes2['default'].oneOf([false])]),\n    customCrossIcon: _propTypes2['default'].oneOfType([_propTypes2['default'].element, _propTypes2['default'].oneOf([false])]),\n    disableOverlayClick: _propTypes2['default'].oneOfType([_propTypes2['default'].bool, _propTypes2['default'].func]),\n    id: _propTypes2['default'].string,\n    isOpen: _propTypes2['default'].bool,\n    itemListClassName: _propTypes2['default'].string,\n    menuClassName: _propTypes2['default'].string,\n    morphShapeClassName: _propTypes2['default'].string,\n    noOverlay: _propTypes2['default'].bool,\n    onStateChange: _propTypes2['default'].func,\n    outerContainerId: styles && styles.outerContainer ? _propTypes2['default'].string.isRequired : _propTypes2['default'].string,\n    overlayClassName: _propTypes2['default'].string,\n    pageWrapId: styles && styles.pageWrap ? _propTypes2['default'].string.isRequired : _propTypes2['default'].string,\n    right: _propTypes2['default'].bool,\n    styles: _propTypes2['default'].object,\n    width: _propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].string])\n  };\n\n  Menu.defaultProps = {\n    bodyClassName: '',\n    burgerBarClassName: '',\n    burgerButtonClassName: '',\n    className: '',\n    crossButtonClassName: '',\n    crossClassName: '',\n    id: '',\n    itemListClassName: '',\n    menuClassName: '',\n    morphShapeClassName: '',\n    noOverlay: false,\n    onStateChange: function onStateChange() {},\n    outerContainerId: '',\n    overlayClassName: '',\n    pageWrapId: '',\n    styles: {},\n    width: 300\n  };\n\n  return Menu;\n};\n\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ../~/react-burger-menu/lib/menuFactory.js","\"use strict\";\n\nvar getScrollParent = function getScrollParent(element, includeHidden) {\n  var style = getComputedStyle(element);\n  var excludeStaticParent = style.position === \"absolute\";\n  var overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/;\n\n  if (style.position === \"fixed\") {\n    return document;\n  }\n  for (var parent = element; parent = parent.parentElement;) {\n    style = getComputedStyle(parent);\n    if (excludeStaticParent && style.position === \"static\") {\n      continue;\n    }\n    if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) {\n      return parent;\n    }\n  }\n\n  return document;\n};\n\nvar pushHash = function pushHash(hash) {\n  hash = hash ? hash.indexOf('#') === 0 ? hash : '#' + hash : '';\n\n  if (history.pushState) {\n    var loc = window.location;\n    history.pushState(null, null, hash ? hash\n    // remove hash\n    : loc.pathname + loc.search);\n  } else {\n    location.hash = hash;\n  }\n};\n\nvar getHash = function getHash() {\n  return window.location.hash.replace(/^#/, '');\n};\n\nvar filterElementInContainer = function filterElementInContainer(container) {\n  return function (element) {\n    return container.contains ? container != element && container.contains(element) : !!(container.compareDocumentPosition(element) & 16);\n  };\n};\n\nmodule.exports = {\n  getScrollParent: getScrollParent,\n  pushHash: pushHash,\n  getHash: getHash,\n  filterElementInContainer: filterElementInContainer\n};\n\n\n// WEBPACK FOOTER //\n// ../~/react-scroll/modules/mixins/utils.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"title\":\"title__ALq8l\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Title/style.css\n// module id = zuXa\n// module chunks = 0"],"sourceRoot":""}